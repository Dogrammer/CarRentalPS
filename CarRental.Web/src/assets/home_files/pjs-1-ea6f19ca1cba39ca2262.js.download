(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[1],{"19Gw":function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n("GyhR"),i=n.n(r),o=n("Qo1m"),a=n("yXM0"),l=n("z/1d"),c=n("+U6O");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var m=function(e){function t(){var e,n,r,i,a,l,c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,p=new Array(u),m=0;m<u;m++)p[m]=arguments[m];return r=this,n=!(i=(e=d(t)).call.apply(e,[this].concat(p)))||"object"!==s(i)&&"function"!=typeof i?f(r):i,a=f(f(n)),l="statsList",c=n.props.isVideo?[{iconType:"play",displayText:o.a._("Video views","Label for views of a video pin on closeup page"),field:"video_views",align:"start"},{iconType:"clock",displayText:o.a._("Avg. time","Label for average time of a video pin on closeup page"),field:"video_average_time",align:"center",valueFormat:"TIME"},{iconType:"angled-pin",displayText:o.a._("Saves","Label for saves of a video pin on closeup page"),field:"save",align:"end"}]:[{iconType:"eye",displayText:o.a._("Impressions","Label for impressions of a pin on closeup page"),field:"impression",align:"start"},{iconType:"angled-pin",displayText:o.a._("Saves","Label for saves of a pin on closeup page"),field:"save",align:"center"},{iconType:"arrow-up-right",displayText:o.a._("Link clicks","Label for click-throughs of a pin on closeup page"),field:"clickthrough",iconSize:10,align:"end"}],l in a?Object.defineProperty(a,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[l]=c,n}var n,m,y;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r["Component"]),n=t,(m=[{key:"renderValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"COUNT";return Number.isInteger(e)?"TIME"===t?Object(a.a)(e):i.a.createElement(l.a,{value:e,shortform:!0,shortformMaximumFractionDigits:1}):"-"}},{key:"render",value:function(){var e=this,t=this.props,n=t.isVideo,r=t.stats,o=t.isStoryPin,a=t.show90Days;if(!r)return null;var l=a?"90d":"30d",s=(n||o)&&r.all_time?r.all_time:r[l];return s&&0!==Object.keys(s).length?i.a.createElement(c.b,{display:"flex"},this.statsList.map(function(t,n){var r=t.align,o=t.iconType,a=t.iconSize,l=void 0===a?12:a,u=t.field,d=t.displayText,p=t.valueFormat;return i.a.createElement(c.b,{key:n,column:4,display:"flex",justifyContent:r,alignItems:"center"},i.a.createElement(c.b,{display:"inlineBlock",marginRight:1},i.a.createElement(c.n,{accessibilityLabel:d,color:"darkGray",icon:o,size:l})),i.a.createElement(c.K,{inline:!0,size:"sm"},e.renderValue(s[u],p)))})):null}}])&&u(n.prototype,m),y&&u(n,y),t}()},"3BJc":function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a});var r=function(e){return{type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:{value:e}}};function i(e){var t=e.currentTime,n=e.isPromoted;return{type:"SET_CURRENT_VIDEO",payload:{pinId:e.pinId,isPromoted:n,currentTime:t}}}function o(e){return{type:"SET_IS_AUTOPLAY",payload:{isAutoplay:e}}}function a(e){var t=e.currentTime,n=e.isPromoted;return{type:"PAUSE_CURRENT_VIDEO",payload:{currentTime:t,pinId:e.pinId,isPromoted:n}}}},"6iNl":function(e,t,n){"use strict";n.d(t,"a",function(){return _});var r=n("GyhR"),i=n.n(r),o=n("vR+M"),a=n("jmSR"),l=n.n(a),c=n("NmcB"),s=n("+U6O");function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var b=function(e){if(Array.isArray(e)){var t=e.find(function(e){return"video/m3u8"===e.type});return t?t.src:void 0}return RegExp("m3u8$").test(e)?e:void 0};function g(){return(new Date).getTime()}var v=function(e){function t(){var e,n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return r=this,i=(e=p(t)).call.apply(e,[this].concat(a)),n=!i||"object"!==h(i)&&"function"!=typeof i?m(r):i,y(m(m(n)),"state",{canPlayVideo:!1,isManifestParsed:!1}),y(m(m(n)),"setVideoPlayerRef",function(e){n.videoPlayerRef=e,n.videoPlayerRef&&n.videoPlayerRef.video&&n.videoPlayerRef.video.addEventListener("canplay",function(){n.setState({canPlayVideo:!0})})}),y(m(m(n)),"hls",null),y(m(m(n)),"playbackPerformance",{fatalErrorMsg:"",firstLevelFetchTime:0,firstFragmentParsedTime:0,fragmentParseTimings:[],hasFatalError:!1,videoCreatedTime:0}),y(m(m(n)),"initializeHls",function(){n.destroyHls();var e=n.props,t=e.src,r=e.hlsConfig,i=new l.a(r);i.loadSource(t),n.videoPlayerRef&&i.attachMedia(n.videoPlayerRef.video),i.on(l.a.Events.MANIFEST_PARSED,function(){n.setState({isManifestParsed:!0})}),i.on(l.a.Events.FRAG_PARSED,function(e,t){n.playbackPerformance.firstFragmentParsedTime||(n.playbackPerformance.firstFragmentParsedTime=g()),n.playbackPerformance.fragmentParseTimings.push({level:t.frag.level,parsedTime:g()})}),i.on(l.a.Events.LEVEL_LOADING,function(e,t){n.playbackPerformance.firstLevelFetchTime||(n.playbackPerformance.firstLevelFetchTime=g())}),i.on(l.a.Events.ERROR,function(e,t){t.fatal&&(n.playbackPerformance.hasFatalError=!0,n.playbackPerformance.fatalErrorMsg=t.details)}),n.hls=i}),y(m(m(n)),"destroyHls",function(){var e=m(m(n)).hls;e&&e.destroy()}),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,i.a.PureComponent),n=t,(r=[{key:"componentDidMount",value:function(){this.playbackPerformance.videoCreatedTime=g(),this.initializeHls()}},{key:"componentDidUpdate",value:function(e){var t,n,r=this.props.src;t=e.src,n=r,(h(t)!==h(n)||(Array.isArray(n)?t.length!==n.length||n.some(function(e,n){return!Array.isArray(t)||e.type!==t[n].type||e.src!==t[n].src}):n!==t))&&this.initializeHls()}},{key:"componentWillUnmount",value:function(){var e=this.playbackPerformance,t=e.firstLevelFetchTime,n=e.firstFragmentParsedTime,r=e.fragmentParseTimings,i=e.hasFatalError,o=e.videoCreatedTime,a=this.videoPlayerRef&&this.videoPlayerRef.video;if(this.hls&&a&&r.length){var l=this.hls.levels[r[0].level];Object(c.a)(3606,{eventData:{videoPerformanceData:{startupTimeMs:n-t,startupLatencyMs:n-o,nativeVideoDurationMs:1e3*a.duration,startupVariantKbps:l.bitrate/1e3,startupPlayerWidth:a.clientWidth,startupPlayerHeight:a.clientHeight,startupVariantWidth:l.width,isCellular:!1,fatalError:i}}})}this.destroyHls()}},{key:"render",value:function(){var e=this.props,t=e.playing,n=(e.hlsConfig,e.src),r=u(e,["playing","hlsConfig","src"]),o=this.state,a=o.canPlayVideo,l=o.isManifestParsed;return i.a.createElement(s.Q,Object.assign({},r,{ref:this.setVideoPlayerRef,playing:l&&a&&t,src:n}))}}])&&d(n.prototype,r),o&&d(n,o),t}();function _(e){var t=e.hlsConfig,n=e.src,r=u(e,["hlsConfig","src"]),a=b(n);return o.a.isSafari()?i.a.createElement(s.Q,Object.assign({},r,{src:a})):i.a.createElement(v,Object.assign({},r,{hlsConfig:t,src:a}))}},AZKp:function(e,t,n){"use strict";t.a={normal:"normal",semibold:600,bold:700}},CwDa:function(e,t,n){"use strict";var r=n("GyhR"),i=n("Mr4W"),o=n("Ivf5"),a=n("dg2R"),l=n("NmcB");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){m(e,t,n[t])})}return e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpressions",idType:"storyIdStr",eventType:170},HybridSearchHero:{impressionType:"hybridSearchHeroImpressions",idType:"hybridSearchHero",eventType:7308},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573}},h=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,p=new Array(u),h=0;h<u;h++)p[h]=arguments[h];return r=this,o=(e=d(t)).call.apply(e,[this].concat(p)),n=!o||"object"!==c(o)&&"function"!=typeof o?f(r):o,m(f(f(n)),"trackImpression",function(){try{n.node=Object(i.findDOMNode)(f(f(n))),n.node instanceof HTMLElement&&a.b.start(n.node).onExitViewport(n.logImpression).setDebugId(n.props.loggingId||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),m(f(f(n)),"logImpression",function(e){var t,r=n.props,i=r.carousel_data,o=r.impressionType,a=r.trackCarousel,c=r.contextLogData,u=r.viewData,d=r.viewType,p=r.viewParameter,f=r.componentType,h=r.objectIdStr,b=r.loggingId,g=r.slotIndex,v=r.impressionAuxFields,_=y[o],w=_.idType,E=e.forcedExit&&"removed"===e.forcedExit?0:void 0,O=s((m(t={endTime:e.endTime},w,b),m(t,"slotIndex",g),m(t,"time",e.startTime),m(t,"renderDuration",e.endTime-e.startTime),t),v,{forcedExit:E});if(a||Object(l.a)(_.eventType,s({viewData:u||{},view:d,viewParameter:p,component:f,objectIdStr:h,eventData:m({},_.impressionType,[O])},c)),i&&a){var T=i.carousel_slots,P=i.index,S=i.id;Object(l.a)(7352,s({viewData:u||{},view:d,viewParameter:p,component:f,objectIdStr:h,eventData:{pinCarouselSlotImpressions:[s({},O,{carouselDataId:Number(S),carouselSlotId:T[P]&&Number(T[P].id),slotIndex:P})]}},c))}}),n}var n,o,h;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){this.props.inImpressionExp&&!a.b.inExperiment&&a.b.setExperimentStatus(!0),this.props.isPaused||this.trackImpression()}},{key:"componentDidUpdate",value:function(e){e.isPaused&&!this.props.isPaused&&this.trackImpression()}},{key:"componentWillUnmount",value:function(){this.node instanceof HTMLElement&&a.b.stop(this.node)}},{key:"render",value:function(){return r.Children.only(this.props.children)}}])&&u(n.prototype,o),h&&u(n,h),t}();t.a=Object(o.connect)(function(e,t){var n=e.pins[t.loggingId||""];return{carousel_data:n?n.carousel_data:{}}},function(){return{}})(h)},E1Qe:function(e,t,n){"use strict";var r=n("hvnN"),i=n.n(r);t.a=i.a.shape({access:i.a.arrayOf(i.a.string),ad_match_reason:i.a.number,aggregated_pin_data:i.a.shape({aggregated_stats:i.a.shape({done:i.a.number,likes:i.a.number,saves:i.a.number}),pin_tags:i.a.arrayOf(i.a.shape({pin_tag_key:i.a.string.isRequired,x_percent:i.a.number.isRequired,y_percent:i.a.number.isRequired}))}),attribution:i.a.shape({embed:i.a.shape({src:i.a.string})}),board:i.a.shape({followed_by_me:i.a.bool,id:i.a.string,url:i.a.string,name:i.a.string}),buyable_product:i.a.shape({display_active_max_price:i.a.string,display_active_min_price:i.a.string,short_description:i.a.string,title:i.a.string}),debug_info_html:i.a.string,description:i.a.string,domain:i.a.string,dominant_color:i.a.string,done_by_me:i.a.bool,embed:i.a.shape({src:i.a.string,type:i.a.string}),id:i.a.string,images:i.a.shape({"236x":i.a.shape({url:i.a.string,height:i.a.number}),"474x":i.a.shape({url:i.a.string,height:i.a.number})}),image_signature:i.a.string,is_quick_promotable:i.a.bool,is_eligible_for_web_closeup:i.a.bool,is_native:i.a.bool,link:i.a.string,native_creator:i.a.shape({username:i.a.string,full_name:i.a.string,id:i.a.string,image_small_url:i.a.string}),per_pin_analytics:i.a.shape({clickthrough:i.a.number,closeup:i.a.number,id:i.a.string,impression:i.a.number,repin:i.a.number,total_engagement:i.a.number,type:i.a.string}),pinner:i.a.shape({explicitly_followed_by_me:i.a.bool,full_name:i.a.string,id:i.a.string,image_small_url:i.a.string}),promoter:i.a.shape({username:i.a.string,full_name:i.a.string,image_small_url:i.a.string}),recommendationReason:i.a.shape({reason:i.a.string,board:i.a.shape({id:i.a.string,name:i.a.string,url:i.a.string}),interest:i.a.shape({id:i.a.string}),pin:i.a.shape({id:i.a.string})}),repin_count:i.a.number,rich_summary:i.a.shape({display_name:i.a.string}),source_interest:i.a.shape({name:i.a.string,url_name:i.a.string,id:i.a.string}),tracked_link:i.a.string,title:i.a.string,type:i.a.string,videos:i.a.shape({}),saved:i.a.bool})},EQo2:function(e,t,n){"use strict";var r=n("GyhR"),i=n.n(r),o=n("IqQH"),a=n("PNko"),l=n.n(a),c=n("/Mjl"),s=n("+U6O");function u(e){var t=e.onError,n=e.onLoad,r=e.pin,o=r.title,a=void 0===o?"":o,l=r.dominant_color,u=r.images,d=void 0===u?{}:u,p="".concat(16/9*100,"%"),f=d["236x"].width>d["236x"].height?d["736x"]:d["236x"];return i.a.createElement(s.b,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingTop:p}}},i.a.createElement(s.b,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",dangerouslySetInlineStyle:{__style:{zIndex:c.a.storyPinImage}}},i.a.createElement(s.p,{alt:a,color:l,naturalHeight:f.height,naturalWidth:f.width,onError:t,onLoad:n,src:f.url,fit:"cover"})))}var d=n("UmN8");t.a=function(e){var t,n,r,a,c=e.highResOnly,p=e.lowResOnly,f=e.onError,m=e.onLoad,y=e.pin,h=e.saved,b=void 0!==h&&h,g=y.carousel_data,v=y.description,_=void 0===v?"":v,w=y.dominant_color,E=y.id,O=y.images;if(g)return i.a.createElement(o.a,{onError:f,onLoad:m,highResOnly:c,lowResOnly:p,pinId:E});if(O){var T=c&&(O["736x"]||O.orig||O["474x"])||O["236x"];r=T.height,a=T.width,t=T.url,n=p||c?"".concat(T.url," 1x"):["".concat(O["236x"].url," 1x"),O["474x"]&&"".concat(O["474x"].url," 2x"),O["736x"]&&"".concat(O["736x"].url," 3x"),O.orig&&"".concat(O.orig.url," 4x")].filter(Boolean).join(", ")}return i.a.createElement(s.b,{minHeight:120,display:"flex",alignItems:"center"},i.a.createElement(s.b,{flex:"grow"},i.a.createElement("div",{className:l()({savedGradient:b})},i.a.createElement(d.a,{name:"web_creators_story_pin_display",activate:!0,isEligible:!!y.story_pin_data_id},function(e){return e.anyEnabled?i.a.createElement(u,{pin:y,onError:f,onLoad:m}):i.a.createElement(s.p,{alt:_,color:w,naturalHeight:r,naturalWidth:a,onError:f,onLoad:m,src:t,srcSet:n})}))))}},FSbA:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return u});var r,i=n("ePT2"),o=n("NoZx");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=(a(r={},o.a.BOARD_ACTIVITY,"BoardActivityReactionResource"),a(r,o.a.BOARD_ACTIVITY_COMMENT,"BoardActivityCommentReactionResource"),r);function c(e,t){return{type:"ACTIVITY_ITEM_UPDATE_REACTION_COUNT",payload:{id:e,increment:t,reactionType:arguments.length>2&&void 0!==arguments[2]?arguments[2]:1}}}function s(e,t,n){return function(r){var l=o.c[t],c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){a(e,t,n[t])})}return e}({activityId:e},n);return i.a.create(l,c).callUpdate().then(function(e){var t=e.resource_response.data;return r({type:"ACTIVITY_ITEM_UPDATED",payload:{data:t}}),t})}}function u(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return function(a){var s=l[n];if(!r&&o>0){a(c(e,!1,o)),a(c(e,!0,t));var u={activityId:e,reactionType:o},d=i.a.create(s,u),p={activityId:e,reactionType:t},f=i.a.create(s,p);d.callDelete({showError:!1}).then(function(){f.callCreate({showError:!1})})}else{var m={activityId:e,reactionType:t},y=i.a.create(s,m);r?y.callDelete({showError:!1}):y.callCreate({showError:!1}),a(c(e,!r,t))}}}},GB3e:function(e,t,n){},"HQ9/":function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=function(e,t){return"".concat(e,":").concat(t||"")},i=function(e,t){return e.feeds.profileBoards[r(t.username,t.boardOrder)]},o=function(e,t){return t.isOverview?"xxWide":t.isOwnProfile&&e.ui.views&&e.ui.views.profileBoardView||"wide"}},HW6o:function(e,t,n){"use strict";var r=n("GyhR"),i=n.n(r),o=n("Mr4W"),a=n.n(o),l=n("4+0X");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=new Map,y=null,h=function(e){e.forEach(function(e){var t=m.get(e.target);t&&t(e)})},b=function(e,t,n){var r=t?[0,.5,1]:[0,1],i={root:document.querySelector("#mainContainer"),rootMargin:"-64px 0px 0px 0px",threshold:r};y=y||new window.IntersectionObserver(h,i),m.set(e,n),y.observe(e)},g=function(e){return m.has(e)};t.a=function(e){var t=function(t){function n(){var e,t,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var o=arguments.length,s=new Array(o),d=0;d<o;d++)s[d]=arguments[d];return r=this,i=(e=u(n)).call.apply(e,[this].concat(s)),t=!i||"object"!==c(i)&&"function"!=typeof i?p(r):i,f(p(p(t)),"seen",!1),f(p(p(t)),"flushTimeout",null),f(p(p(t)),"attachDenzelNavigateListener",function(){t.denzelNavigateListener=l.a.instance.subscribe("site","navigateStarted",function(e,n,r,i){var o=new RegExp("/pin/[\\w|-]+/$");!i&&r&&"string"==typeof r.url&&o.test(r.url)&&t.leave()})}),f(p(p(t)),"detachDenzelNavigateListener",function(){t.denzelNavigateListener&&(t.denzelNavigateListener.unsubscribe(),delete t.denzelNavigateListener)}),f(p(p(t)),"enter",function(e){var n=e.intersectionRatio>0||e.isIntersecting;t.seen=n,t.seen&&(t.props.onVisibilityChanged(!0),t.attachDenzelNavigateListener())}),f(p(p(t)),"leave",function(){var e=t._node;e&&g(e)&&t.seen&&(t.props.onVisibilityChanged(!1),t.seen=!1,t.detachDenzelNavigateListener())}),f(p(p(t)),"observe",function(){try{t._node=a.a.findDOMNode(p(p(t)))}catch(e){return}if(t._node){var e=t.props.inAdsDesktopVideoExperiment,n=t._node;b(n,e,function(r){if(m.has(n)){var i=e?r.intersectionRatio>=.5:r.intersectionRatio>0||r.isIntersecting,o=t.props.trackFullVisible?r.intersectionRatio>=1:i,a=t.props.trackFullVisible?0===r.intersectionRatio:!o;!t.seen&&o?t.enter(r):t.seen&&a&&t.leave()}})}}),t}var o,h,v;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(n,r.Component),o=n,(h=[{key:"componentDidMount",value:function(){this.observe()}},{key:"componentWillUnmount",value:function(){var e=this._node;e&&(this.leave(),function(e){y.unobserve(e),m.delete(e)}(e))}},{key:"render",value:function(){return i.a.createElement(e,this.props)}}])&&s(o.prototype,h),v&&s(o,v),n}();return f(t,"displayName","WithVisibilityChanged(".concat(e.displayName||e.name,")")),t}},Ii6Q:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return c});var r=n("ePT2"),i=n("7m1P");function o(e,t){return r.a.create("UserFollowResource",{user_id:e,aux_data:t?{pin_id:t}:void 0})}function a(e,t){return{type:i.a.USER_FOLLOW,payload:{id:e,value:t}}}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n){o(e,t).callCreate().catch(function(){return n(a(e,!1))}),n(a(e,!0))}}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n){o(e,t).callDelete().catch(function(){return n(a(e,!0))}),n(a(e,!1))}}},IqQH:function(e,t,n){"use strict";var r=n("GyhR"),i=n.n(r),o=n("Ivf5"),a=n("CwDa"),l=n("+U6O");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,s=new Array(a),d=0;d<a;d++)s[d]=arguments[d];return r=this,o=(e=u(t)).call.apply(e,[this].concat(s)),n=!o||"object"!==c(o)&&"function"!=typeof o?p(r):o,f(p(p(n)),"state",{showBadge:!0}),f(p(p(n)),"renderBadge",function(){var e=n.props,t=e.carousel_data,r=e.isCloseup,o=e.showCarouselBadge,a=n.state.showBadge,c=t.carousel_slots,s=t.index,u=a?.8:0;return!r&&o?i.a.createElement(l.b,{display:"flex",justifyContent:"center",alignItems:"center",color:"darkGray",position:"absolute",right:!0,height:35,width:35,marginRight:5,marginTop:5,shape:"rounded",dangerouslySetInlineStyle:{__style:{zIndex:1,opacity:u,transition:"opacity .3s"}}},i.a.createElement(l.K,{color:"white",size:"md"},"".concat(s+1,"/").concat(c.length))):null}),n}var n,o,m;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=this;this.hideBadgeTimeout=setTimeout(function(){return e.setState({showBadge:!1})},3e3)}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.state.showBadge,r=e.carousel_data.index,i=this.props.carousel_data.index;n&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.hideBadgeTimeout=setTimeout(function(){return t.setState({showBadge:!1})},3e3)),r!==i&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.setState({showBadge:!0}))}},{key:"componentWillUnmount",value:function(){this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout)}},{key:"render",value:function(){var e,t=this.props,n=t.isCloseup,r=t.carouselIndex,o=t.closeupHeight,c=t.closeupWidth,s=void 0===c?0:c,u=t.carousel_data,d=t.highResOnly,p=t.lowResOnly,f=t.onError,m=t.onLoad,y=t.pinId,h=t.isEditMode,b=u.carousel_slots,g=void 0===b?[]:b,v=u.index,_=void 0!==r?r:v;return e=n?s:d?474:236,i.a.createElement(l.b,{height:o||"100%",width:e,overflow:"hidden"},!h&&this.renderBadge(),i.a.createElement(a.a,{trackCarousel:!0,key:"carousel-impression-key-".concat(_),impressionType:"Pin",loggingId:y,slotIndex:v,viewParameter:72,viewType:1},i.a.createElement(l.b,{position:"absolute",height:o||"100%",width:e,overflow:"hidden"})),i.a.createElement(l.b,{width:e*g.length,dangerouslySetInlineStyle:{__style:{left:_*e*-1+"px",transition:"left .3s"}},left:!0,height:"100%",display:"flex",direction:"row",position:"relative"},g.map(function(e,t){return function(e,t,n,r,o,a,c,s,u,d){var p,f,m,y,h=e.images,b=e.details,g=void 0===b?"":b;return s?(p=d||0,f=u||0,m=h&&h["564x"].url):r?(p=474,f=h&&Math.min(p/.8,p/(h["564x"].width/h["564x"].height)),m=h&&h["564x"].url):(f=h&&h["236x"].height,p=h&&h["236x"].width,m=h&&h["236x"].url),y=o?"".concat(h["236x"].url," 1x"):r?"".concat(h["564x"].url," 1x"):[h["474x"]&&"".concat(h["474x"].url," 2x"),h["736x"]&&"".concat(h["736x"].url," 3x"),h.orig&&"".concat(h.orig.url," 4x")].filter(Boolean).join(", "),i.a.createElement(l.b,{key:"carousel slot ".concat(t+n),height:f,width:p},i.a.createElement(l.p,{alt:g||"carousel image ".concat(n),naturalHeight:f,naturalWidth:p,onError:a,onLoad:c,src:m,srcSet:y}))}(e,y,t,d,p,f,m,n,s,o)})))}}])&&s(n.prototype,o),m&&s(n,m),t}();f(m,"defaultProps",{showCarouselBadge:!0});t.a=Object(o.connect)(function(e,t){var n=e.pins,r=t.pinId;return{carousel_data:n[r]&&n[r].carousel_data}})(m)},"JU/q":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="favorited"},NoZx:function(e,t,n){"use strict";n.d(t,"c",function(){return d}),n.d(t,"a",function(){return p}),n.d(t,"b",function(){return f});var r,i=n("Q6EP"),o=n.n(i),a=n("mjrg"),l=n.n(a),c=n("eB/M");function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){u(e,t,n[t])})}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={boardactivity:"BoardActivityResource",boardactivitycomment:"BoardActivityCommentResource"},p={BOARD:"board",BOARD_ACTIVITY:"boardactivity",BOARD_ACTIVITY_COMMENT:"boardactivitycomment"},f=(u(r={},p.BOARD,c.a.BOARD_ACTIVITYITEMS),u(r,p.BOARD_ACTIVITY,c.a.BOARD_ACTIVITYCOMMENTS),u(r,p.BOARD_ACTIVITY_COMMENT,c.a.BOARD_ACTIVITYCOMMENTS),r),m={},y=function(e,t){var n=s({},l()({},e,t),t.content?{content:t.content}:{},t.reaction_counts?{reaction_counts:t.reaction_counts}:{});return o()(e,n)?e:n},h=function(e){return e.reduce(function(e,t){if(11===t.activity_type&&t.comment&&t.ref_board_activity){var n=t.comment,r=t.ref_board_activity;n&&r&&(e.push(s({},n,{user:t.user})),e.push(r),e.push(s({},t,{comment:{id:n.id},ref_board_activity:{id:r.id}})))}else e.push(t);return e},[])};t.d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;if("RESOURCE_FETCH_COMPLETE"===t.type||"RESOURCE_FETCH_MORE_COMPLETE"===t.type){var n=t.payload,r=n.data,i=n.name,o=n.options;if("BoardActivityCommentFeedResource"===i){var a=(r||[]).reduce(function(t,n){return t[n.id]=y(e[n.id],n),t},{});return s({},e,a)}if("BoardActivityFeedResource"===i){var l=h(r||[]).reduce(function(t,n){return t[n.id]=y(e[n.id],n),t},{});return s({},e,l)}if("BoardActivityResource"===i&&r){var c=r;return s({},e,u({},c.id,y(e[c.id],c)))}if("BoardActivityCommentResource"===i&&r){var d=r,f=u({},d.id,y(e[d.id],d));if(d.root_board_activity){var b=d.root_board_activity.id;f[b]=y(e[b],d.root_board_activity)}return s({},e,f)}if("NewsHubDetailsResource"===i&&r&&r.length>0&&r[0].content_items){var g={};return r.forEach(function(e){e.content_items.forEach(function(e){var t=e.content_object&&e.content_object.type;if(t===p.BOARD_ACTIVITY_COMMENT||t===p.BOARD_ACTIVITY){var n=e.content_object;h([n]).forEach(function(e){return g[e.id]=e})}})}),s({},e,g)}if(["PinResource","PinPageResource"].includes(i)&&r&&r.board_activity){var v=r.board_activity;return v.board=r.board,s({},e,u({},v.id,y(e[v.id],v)))}if(("BoardFeedResource"===i||"BoardSectionPinsResource"===i)&&("react_grid_pin_with_board_activity"===o.field_set_key||"partner_react_grid_pin_with_board_activity"===o.field_set_key)||"BoardActivityPinsFeedResource"===i){var _=(r||[]).reduce(function(t,n){var r=n.board_activity;return r&&r.id&&(t[r.id]=y(e[r.id],r)),t},{});return s({},e,_)}}else{if("ACTIVITY_ITEM_CREATED"===t.type){var w=t.payload.activityItem;return s({},e,u({},w.id,w))}if("ACTIVITY_ITEM_DELETED"===t.type){var E=t.payload,O=E.activityId,T=E.activityType;if(T===p.BOARD_ACTIVITY_COMMENT||T===p.BOARD_ACTIVITY){var P=s({},e);return delete P[O],P}}else{if("ACTIVITY_ITEM_UPDATED"===t.type){var S=t.payload.data;return s({},e,u({},S.id,y(e[S.id],S)))}if("UPDATE_ACTIVITY_ITEM_COMMENT_COUNT"===t.type){var C=t.payload,I=C.increment,k=C.id,x=e[k];if(x&&[p.BOARD_ACTIVITY_COMMENT,p.BOARD_ACTIVITY].includes(x.type)){var j=s({},x,{comment_count:I?x.comment_count+1:x.comment_count-1});return s({},e,u({},k,j))}}else if("ACTIVITY_ITEM_UPDATE_REACTION_COUNT"===t.type){var R=t.payload,A=R.increment,L=R.id,D=R.reactionType,M=e[L]||{},B=M.reaction_counts,N=void 0===B?{}:B,U=N[D]||0,H=A?D:0,V=s({},M,{reaction_counts:s({},N,u({},D,A?U+1:Math.max(U-1,0))),reaction_by_me:H});return s({},e,u({},L,V))}}}return e}},VI9K:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r=function(e){return{type:"MOST_RECENT_PIN",payload:{id:e}}},i=function(e){return{type:"MOST_RECENT_PLP",payload:{image_signature:e}}}},VPPQ:function(e,t,n){"use strict";var r=n("GyhR"),i=n.n(r),o=n("+U6O");function a(e){var t=e.accessibilityLabel;return i.a.createElement(o.b,{display:"flex",alignItems:"center",justifyContent:"center"},i.a.createElement(o.G,{accessibilityLabel:t,show:!0}))}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var p=function(e){function t(){var e,n,r,i,o,a,c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,p=new Array(u),f=0;f<u;f++)p[f]=arguments[f];return r=this,n=!(i=(e=s(t)).call.apply(e,[this].concat(p)))||"object"!==l(i)&&"function"!=typeof i?d(r):i,o=d(d(n)),c={LoadedComponent:null},(a="state")in o?Object.defineProperty(o,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[a]=c,n}var n,i,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,r["Component"]),n=t,(i=[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this.props.loader().then(function(t){e._isMounted&&t.default!==e.state.LoadedComponent&&e.setState({LoadedComponent:t.default})})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this;e.loader!==this.props.loader&&(e.loader().then(function(e){t._isMounted&&e.default!==t.state.LoadedComponent&&t.setState({LoadedComponent:e.default})}),this.setState({LoadedComponent:null}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.props.children,t=this.state.LoadedComponent;return t?e(t):this.props.showSpinner?r.createElement(a,{accessibilityLabel:this.props.spinnerLabel}):this.props.fallback||null}}])&&c(n.prototype,i),o&&c(n,o),t}();t.a=p},"Ww6/":function(e,t,n){"use strict";var r=n("GyhR"),i=n.n(r),o=n("Ivf5"),a=(n("GB3e"),n("Fpqi")),l=n("PNko"),c=n.n(l),s=n("/Mjl"),u=n("+U6O");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=e.debugImpressionStarted,n=e.debugImpressionLogged,i=e.slotIndex,o=n||t?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){d(e,t,n[t])})}return e}({},n&&!t?{opacity:.1}:{},t?{backgroundColor:"#adebad"}:{},{height:"100%",width:"100%"}):null;return r.createElement("div",{style:o},(t||n)&&r.createElement(u.b,{position:"absolute",padding:2,color:"darkGray",dangerouslySetInlineStyle:{__style:{zIndex:s.a.debugPinImpressions}}},r.createElement(u.K,{size:"xl",color:"white"},i)),e.children)}var f=n("Uc2O"),m=n("m2OL"),y=n("UgxU"),h=n("rSK6"),b=n("Qo1m"),g=n("E56J"),v=n("exzK"),_=n("VPPQ"),w=n("iJ35"),E=function(e){var t=e.pinId,n=e.sourceUrl,i=e.domain,o=e.onClick,a=e.bgColor,l=e.size,c=e.iconColor;return n?r.createElement(w.b,{external:!0,onClick:o,pinId:t,stopPropagation:!0,to:n},r.createElement(u.o,{bgColor:a,icon:"arrow-up-right",accessibilityLabel:i,size:l,iconColor:c})):null},O=n("hvnN"),T=n.n(O),P=n("fifU"),S=n("Mce2"),C=n("s3m5"),I=n("NoZx"),k=n("buVl"),x=n("nI4G"),j=n("k9eC"),R=n("lixz"),A=n("NmcB"),L=80,D="…";function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){F(e,t,n[t])})}return e}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z=23,G=15,W=function(e){function t(){var e,n,i,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return i=this,o=(e=U(t)).call.apply(e,[this].concat(l)),n=!o||"object"!==M(o)&&"function"!=typeof o?V(i):o,F(V(V(n)),"state",{hovered:!1,focused:!1,active:!1}),F(V(V(n)),"handleFocus",function(){n.setState({focused:!0})}),F(V(V(n)),"handleMouseDown",function(){n.setState({active:!0})}),F(V(V(n)),"handleMouseUp",function(){n.setState({active:!1})}),F(V(V(n)),"handleMouseEnter",function(){n.setState({hovered:!0})}),F(V(V(n)),"handleMouseLeave",function(){n.setState({active:!1,hovered:!1})}),F(V(V(n)),"renderRightArrowClickthrough",function(){var e=n.props,t=e.backgroundColor,i=e.borderRadius,o=e.denseViewSelected,a=e.domain,l=e.textColor,c=e.maxHeight,s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxLength,r=void 0===n?L:n,i=t.suffix,o=void 0===i?D:i;return e.length<=r?e:e.substring(0,r-1).replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,"")+o}(a,{maxLength:o?G:z});return r.createElement(u.b,{padding:2,color:t,display:"flex",justifyContent:"between",alignItems:"center",dangerouslySetInlineStyle:{__style:{borderRadius:i}},maxHeight:c},r.createElement(u.b,{display:"flex",flex:"none"},r.createElement(u.n,{icon:"arrow-up-right",accessibilityLabel:b.a._("link","Website url link"),size:14,color:l})),r.createElement(u.b,{marginLeft:2,height:18,flex:"grow",overflow:"hidden"},r.createElement(u.K,{bold:!0,size:"sm",color:l,truncate:!0},s)))}),n}var n,i,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(t,r["Component"]),n=t,(i=[{key:"render",value:function(){var e=this.props,t=e.borderRadius,n=e.bottom,i=e.hoverStyle,o=e.isEligibleForWebCloseup,a=e.onClick,l=e.pinId,c=e.position,s=e.sourceUrl,d=e.paddingX;if(!s)return null;var p=this.state.hovered||this.state.focused||this.state.active?i:{};return r.createElement(u.b,{position:c,bottom:n},r.createElement(u.b,{alignItems:"end",display:"flex",justifyContent:"between",marginLeft:-1,marginRight:-1,padding:2},r.createElement(u.b,{minWidth:0,paddingX:d},!o&&r.createElement(u.b,{position:"relative",dangerouslySetInlineStyle:{__style:B({borderRadius:t},p)},onFocus:this.handleFocus,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseUp:this.handleMouseUp},r.createElement(w.b,{external:!0,onClick:a,pinId:l,stopPropagation:!0,to:s},this.renderRightArrowClickthrough())))))}}])&&N(n.prototype,i),o&&N(n,o),t}();F(W,"defaultProps",{textColor:"darkGray",backgroundColor:"lightGray",borderRadius:4,position:"absolute",bottom:!0,hoverStyle:{},paddingX:1});var Y=n("2YES"),q=n("FSbA"),K=n("9Y9K"),Q=n("zBQm");function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ne(e,t,n[t])})}return e}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re=Object(r.lazy)(function(){return n.e("NuxOneClickSaveButtonCommon").then(n.bind(null,"/zC8"))}),ie=function(){return Promise.all([n.e(7),n.e(10),n.e("PersistentOneClickSaveCommon")]).then(n.bind(null,"d94/"))},oe=function(){return Promise.all([n.e(7),n.e(8),n.e(10),n.e(23),n.e("PinBetterSaveCommon")]).then(n.bind(null,"qoD0"))},ae=function(){return n.e("PinPromoteButtonCommon").then(n.bind(null,"Is9E"))},le=Object(r.lazy)(function(){return Promise.all([n.e(7),n.e(10),n.e("PinRepEditButtonCommon")]).then(n.bind(null,"24KF"))}),ce=Object(r.lazy)(function(){return Promise.all([n.e(8),n.e("PinFeedbackPageDesktop~PinSaveButtonCommon"),n.e("PinSaveButtonCommon")]).then(n.bind(null,"odTJ"))}),se=Object(r.lazy)(function(){return n.e("PinRepSendShareFlyoutButtonCommon").then(n.bind(null,"pi5b"))}),ue=function(e){var t=te({},e.style,{zIndex:s.a.pinActionWrapper});return i.a.createElement(u.b,Object.assign({},e,{dangerouslySetInlineStyle:{__style:t}}))};ue.defaultProps={style:{}};var de=function(e){function t(){var e,n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return r=this,i=(e=Z(t)).call.apply(e,[this].concat(a)),n=!i||"object"!==X(i)&&"function"!=typeof i?ee(r):i,ne(ee(ee(n)),"onToggleFlyout",function(){var e=n.props,t=e.isFlyoutOpen;(0,e.onToggleFlyout)(!t)}),ne(ee(ee(n)),"handleOnSourceImageClick",function(){var e=n.props,t=e.imageSignature,r=e.requestContext,i=e.slotIndex;Object(R.e)(13),new j.c(r,"smb_pin_stats_from_business_profile").enabled(),n.handleClickLogging(35,{grid_index:i,image_signature:t})}),ne(ee(ee(n)),"handleToggleHover",function(e){n.props.onToggleFlyout(!1,e)}),ne(ee(ee(n)),"handleToggleSubmenu",function(e,t){n.props.onToggleFlyout(e,t,"save")}),ne(ee(ee(n)),"handleDropdownClose",function(){n.props.onToggleFlyout(!1)}),ne(ee(ee(n)),"handleClickthroughLogging",function(){var e=n.props,t=e.componentType,r=e.contextLogData,i=e.pin,o=e.slotIndex,a=e.viewType,l=e.viewParameter,c=i.id;Object(A.a)(12,te({},r,{view:a,viewParameter:l,component:t,objectId:c,grid_index:o})),n.handleClickLogging(162)}),ne(ee(ee(n)),"handleSaveButtonClick",function(){n.handleClickLogging(0),Object(x.b)("Lead",function(){g.default.increment("fb_tracking_pixel",1,{event_category:"Lead",event_name:"Repin Click"})})}),ne(ee(ee(n)),"handleLikeButtonClick",function(e){var t=e.event,r=n.props,i=r.boardActivity,o=r.toggleLike,a=r.isLikedByMe,l=r.pin,c=i&&i.id||l.id;t&&t.stopPropagation&&(t.stopPropagation(),o(c,1,I.a.BOARD_ACTIVITY,a))}),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(t,i.a.Component),n=t,(o=[{key:"getViewInfo",value:function(){var e=this.props,t=e.viewType,n=e.showEditPinButton,r=5===t,i=2===t,o=4===t;return{isBoardView:r,isSearchView:i,isProfileView:o,isOwnProfileView:o&&n,isOwnBoardView:(r||164===t)&&n,isOwnPinSearchView:i&&n}}},{key:"cropImageStyles",value:function(){var e=this.props,t=e.imageHeight,n=e.pin,r=e.truncatePinHeight,i={},o=n.story_pin_data_id;if(n.image_crop&&r&&!o&&(0!==n.image_crop.min_y||1!==n.image_crop.max_y)){var a=n.image_crop.min_y,l=n.image_crop.max_y;i={marginTop:a>0?-1*a*t+"px":"0px",marginBottom:l<1?Math.round(-1*(1-l)*t)+"px":"0px"}}return i}},{key:"handleClickLogging",value:function(e,t){var n=this.props,r=n.componentType,i=n.contextLogData,o=n.viewParameter,a=n.viewType,l=n.pin.id;Object(A.a)(101,te({},i,t,{component:r,view:a,viewParameter:o,element:e,objectId:l}))}},{key:"renderSendShareButton",value:function(e){var t=this,n=this.props,r=n.images,o=n.pin.id,a=n.viewType;return i.a.createElement(S.a,{id:"share-button"},i.a.createElement(P.a,null,i.a.createElement(se,{imageSrc:r&&r["236x"].url,onClick:function(){return t.handleClickLogging(98)},onToggleFlyout:this.onToggleFlyout,onFlyoutDismiss:this.handleDropdownClose,pinId:o,sendType:"pin",shownWithinMasonry:!0,isFlyoutOpen:this.props.isFlyoutOpen,viewType:a,backgroundColor:"transparentDarkGray",iconColor:"white",iconSize:e})))}},{key:"renderEditButton",value:function(e){var t=this.props,n=t.pin,r=n.id,o=n.carousel_data,a=t.viewParameter,l=t.viewType;return i.a.createElement(S.a,{id:"edit-button"},i.a.createElement(P.a,null,i.a.createElement(le,{component:0,pinId:r,onToggleModal:this.handleToggleHover,view:l,viewParameter:a,carouselSlotCurrentIndex:o&&o.index,style:e})))}},{key:"renderEditAndSendRow",value:function(e,t){var n={bgColor:"transparentDarkGray",iconColor:"white",size:"md"};return i.a.createElement(ue,{padding:1,position:"absolute",top:!0,left:!0,display:"flex"},e&&i.a.createElement(u.b,{padding:1},this.renderSendShareButton("md")),t&&i.a.createElement(u.b,{padding:1},this.renderEditButton(n)))}},{key:"renderPrimaryButtons",value:function(){var e=this,t=this.props,n=t.hideSaveButton,r=t.inNewUserOneTapExperiment,o=t.onSave,a=t.pin,l=t.showRepinButton,c=t.showPromoteButton,s=t.showPersistentPromoteButton,d=t.showCondensedInfo,p=t.showButtons,f=t.viewer,m=t.saveOptions,y=t.viewParameter,h=t.showClickthroughButton,b="controlled"===m.type,v=m&&"persistentOneClickSave"===m.type,w=b&&m.saved&&m.save,E=l||c,O=m&&"none"!==m.type?m.renderPinSaveTooltip:void 0;if(!(w||s||p&&E||!!O||v))return h?i.a.createElement(u.b,{position:"absolute",bottom:!0,color:"transparentDarkGray",right:!0,marginBottom:2,marginRight:2,shape:"pill"},i.a.createElement(u.b,{paddingX:3,paddingY:1},i.a.createElement(u.K,{color:"white",bold:!0,size:"xs"},"Open"))):null;if(n)return null;var T=null,C=i.a.createElement(S.a,{id:"pin-save-button"},i.a.createElement(P.a,null,i.a.createElement(ce,{onClickCallback:function(){e.handleClickLogging(0),Object(x.b)("Lead",function(){g.default.increment("fb_tracking_pixel",1,{event_category:"Lead",event_name:"Repin Click"})})},onToggleModal:this.handleToggleHover,oneTapSave:b?m:void 0,pin:a,renderPinSaveTooltip:O})));c?T=i.a.createElement(S.a,{id:"promote-button"},i.a.createElement(_.a,{loader:ae},function(e){return i.a.createElement(e,{pin:a})})):"inline"===m.type?T=i.a.createElement(S.a,{id:"better-save"},i.a.createElement(_.a,{loader:oe},function(t){return i.a.createElement(t,{initialSelection:m&&m.initialSelection,useMasonryFlyout:!0,onSave:function(){m&&m.onSave&&m.onSave(),o&&o()},onToggleFlyout:e.handleToggleSubmenu,onToggleModal:e.handleToggleHover,pin:a,renderPinSaveTooltip:O,viewParameter:y,renderSavedStatus:null})})):"persistentOneClickSave"===m.type?T=i.a.createElement(_.a,{loader:ie},function(t){return i.a.createElement(t,{onToggleModal:e.handleToggleHover,pin:a,saveOptions:m})}):(w||l&&f.isAuth)&&(T=r?i.a.createElement(S.a,{id:"nux-one-click-save"},i.a.createElement(P.a,null,i.a.createElement(re,{onClickCallback:this.handleSaveButtonClick,pin:a}))):C),d&&(T=C);var I="inline"!==m.type||d?"auto":"100%";return v?T:i.a.createElement(ue,{padding:2,position:"absolute",top:!0,right:!0,width:I},T)}},{key:"renderGradientOverlay",value:function(e){var t=this.props.showButtons;return i.a.createElement(u.b,{position:"relative"},e,t&&i.a.createElement(u.b,{bottom:!0,left:!0,height:"100%",position:"absolute",right:!0,top:!0,width:"100%",dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",opacity:.3}}}))}},{key:"renderClickThrough",value:function(e){var t=this.props,n=t.denseViewSelected,r=t.domain,o=t.isEligibleForWebCloseup,a=t.pin.id,l=t.sourceUrl;return i.a.createElement(W,{denseViewSelected:n,domain:r,isEligibleForWebCloseup:o,sourceUrl:l,pinId:a,position:e,textColor:"white",backgroundColor:"transparentDarkGray",borderRadius:20,onClick:this.handleClickthroughLogging,hoverStyle:{backgroundColor:"#333"},maxHeight:32,paddingX:0})}},{key:"renderHolisticHoverOwnPinViewCondensed",value:function(){var e=this.props,t=e.pin.id,n=e.domain,r=e.sourceUrl,o=e.showEditPinButton,a={size:"md",iconColor:"white",bgColor:"transparentDarkGray"},l=te({pinId:t,domain:n,sourceUrl:r,bgColor:"transparentDarkGray"},a);return i.a.createElement(ue,{padding:1,width:"100%",position:"absolute",bottom:!0,left:!0,display:"flex",alignItems:"center",justifyContent:"around"},i.a.createElement(u.b,{padding:1},i.a.createElement(u.b,{width:40,height:40},i.a.createElement(E,Object.assign({},l,{onClick:this.handleClickthroughLogging})))),i.a.createElement(u.b,{padding:1},o&&this.renderEditButton(a)),i.a.createElement(u.b,{padding:1},this.renderSendShareButton("md")))}},{key:"renderHolisticHoverOwnPinView",value:function(){var e=this.props,t=e.showSendButton,n=e.showEditPinButton,r=e.pin.id,o=e.domain,a=e.isEligibleForWebCloseup,l=e.sourceUrl,c={iconColor:"white",bgColor:"transparentDarkGray",size:"sm"};return i.a.createElement(ue,{padding:1,position:"absolute",bottom:!0,left:!0,display:"flex",width:"100%",alignItems:"center",height:50},i.a.createElement(u.b,{width:"".concat(65,"%")},i.a.createElement(W,{domain:o,isEligibleForWebCloseup:a,sourceUrl:l,pinId:r,position:"relative",textColor:"white",backgroundColor:"transparentDarkGray",borderRadius:20,onClick:this.handleClickthroughLogging,hoverStyle:{backgroundColor:"#333"},maxHeight:32,paddingX:0})),i.a.createElement(u.b,{width:"".concat(35,"%"),display:"flex",justifyContent:"end"},n&&i.a.createElement(u.b,{padding:1},this.renderEditButton(c)),t&&i.a.createElement(u.b,{padding:1},this.renderSendShareButton("sm"))))}},{key:"renderSecondaryButtons",value:function(){return this.props.showCondensedInfo?this.renderHolisticHoverOwnPinViewCondensed():this.renderHolisticHoverOwnPinView()}},{key:"render",value:function(){var e=this.props,t=e.currentlyPlayingVideo,n=e.children,o=e.isEligibleForAnalyticsCloseup,a=e.showReactions,l=e.isEnabledPointerHoverCursorExp,s=e.pin,d=s.carousel_data,p=s.id,f=s.videos,m=e.selection,y=e.showButtons,h=e.viewParameter,g=e.viewType,_=e.componentType,E=e.isLikedByMe,O=this.cropImageStyles(),T=!!f&&!!f.video_list,P=(f&&f.video_list&&f.video_list[Object.keys(f.video_list)[0]]||{}).duration,S=void 0===P?0:P;return i.a.createElement(u.b,{"data-test-id":d?"carousel-pin":"",position:"relative"},y&&d&&i.a.createElement(v.a,{pinId:p,componentType:_,viewParameter:h,viewtype:g}),i.a.createElement(w.b,{deeplinkUrls:Object(k.m)(p),onClick:this.handleOnSourceImageClick,forceRefresh:1,extraData:{isReact:!0,reactData:this.props.pin,searchOptions:this.props.searchOptions},style:{cursor:l?"pointer":"zoom-in",display:"block",position:"relative"},to:Object(Q.b)(p,o||!1)},i.a.createElement(u.u,{shape:"rounded",wash:!0},i.a.createElement(u.b,{dangerouslySetInlineStyle:{__style:O},minHeight:55},this.renderGradientOverlay(n))),i.a.createElement(u.b,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0})),m!==st.NO_SELECTION&&i.a.createElement("div",{className:c()("pinSelectionBorder",{selected:m===st.SELECTED})}),i.a.createElement(r.Fragment,null,a&&y?i.a.createElement(r.Fragment,null,i.a.createElement(ue,{position:"absolute",top:!0,left:!0,padding:2},i.a.createElement(u.o,{accessibilityLabel:b.a._("Like pin button","accessibility label for a button to like a pin"),bgColor:"transparentDarkGray",icon:"heart",iconColor:E?"red":"white",onClick:this.handleLikeButtonClick})),this.renderSecondaryButtons()):i.a.createElement(r.Fragment,null,y&&this.renderSecondaryButtons(),this.renderPrimaryButtons()),y||!T||t?null:i.a.createElement(ue,{padding:2,position:"absolute",bottom:!0,left:!0,display:"flex"},i.a.createElement(C.a,{duration:S}))))}}])&&J(n.prototype,o),a&&J(n,a),t}();ne(de,"defaultProps",{onToggleFlyout:function(){},pinsBoardEditableByViewer:!1,showCondensedInfo:!1,showOnPinAnalyticsNUX:!1,showPromoteButton:!1,showPersistentPromoteButton:!1});var pe=Object(o.connect)(function(e,t){var n=t.pin.id,r=t.boardActivity,i=e.ui.app.videosAutoplaying,o=Object(Q.h)(n,i),a=r&&r.id||n,l=e.activityItems[a];return{currentlyPlayingVideo:o,isLikedByMe:l&&l.reaction_by_me||!1}},function(e,t){return{toggleLike:Object(K.bindActionCreators)(q.a,e)}})(de),fe=n("vl7u");function me(e){var t=e.feedbackType,n=e.topic,r=e.pinner||{},o=r.full_name,a="topic"===t,l=!a&&"followed"===t,c="/".concat(r.username,"/"),s=Object(fe.g)(n),d="/search/pins/?q=".concat(encodeURIComponent(s),"&rs=image_only_attribution"),p=a?d:c,f={topic:b.a._("From {topic}","attribution on pin rep"),followed:b.a._("From {pinnerName}","attribution on pin rep"),pfyBoard:b.a._("Picked for you","attribution on pin rep"),pfy:b.a._("Picked for you","attribution on pin rep")}[t];if(!f)return null;if(l||a){var m=0===f.indexOf("{"),y=a?n:o,h=m?f.slice(f.indexOf("}")+1):f.slice(0,f.indexOf("{"));return m?i.a.createElement(u.b,{display:"inlineBlock",marginTop:1},i.a.createElement(w.b,{to:p},i.a.createElement(u.K,{bold:!0,inline:!0,size:"xs",truncate:!0},y)),i.a.createElement(u.K,{inline:!0,size:"xs"},h)):i.a.createElement(u.b,{display:"inlineBlock",marginTop:1},i.a.createElement(u.K,{inline:!0,size:"xs"},h),i.a.createElement(w.b,{to:p},i.a.createElement(u.K,{bold:!0,inline:!0,size:"xs",truncate:!0},y)))}return i.a.createElement(u.b,{display:"inlineBlock",marginTop:1},i.a.createElement(u.K,{inline:!0,size:"xs"},f))}var ye=n("Irlq");function he(e){var t=e.pin,n=e.feedbackType,r=e.imageOnlyAttribution,o=e.isHovering,a=e.isVideo,l=e.onClickThrough,c=e.sourceUrl,s=Object(k.m)(t.id),d=t.attribution||{},p=d.author_url||d.provider_url,f=d.author_name,m=d.rich_site_name||d.provider_name,y=f?Object(ye.b)(b.a._("by {{ authorName }}","attribution on pin rep"),{authorName:f}):m,h=!y&&t.has_required_attribution_provider?t.domain:y,g=p||c,v=g&&h,_=o&&!v&&r&&!a&&!t.is_native&&"followed"!==n,E=(t.source_interest||{}).name,O="io-topic-attr-"+E;return i.a.createElement(i.a.Fragment,null,v&&i.a.createElement(u.b,{paddingY:1},i.a.createElement(u.K,{size:"sm",bold:!0},i.a.createElement(w.b,{deeplinkUrls:s,external:!0,onClick:l,pinId:t.id,stopPropagation:!0,style:{color:"#898989"},to:g},h))),r&&n&&i.a.createElement(u.b,{"data-test-id":O}),_&&n&&i.a.createElement(me,{feedbackType:n,pinner:t.pinner,topic:E}))}var be=n("xP02");function ge(e){var t=e.avatarUrl,n=e.creditNameLink,r=e.name,o=void 0===r?"":r;return n?i.a.createElement(w.b,{className:"underlineLink",stopPropagation:!0,to:n},i.a.createElement(u.a,{name:o,src:t,size:"sm"})):i.a.createElement(u.a,{name:o,src:t,size:"sm"})}function ve(e){var t=e.name,n=e.creditNameLink;return i.a.createElement(u.b,null,n?i.a.createElement(w.b,{className:"underlineLink",stopPropagation:!0,to:n},i.a.createElement(u.K,{truncate:!0,size:"xs",bold:!0},t)):i.a.createElement(u.K,{truncate:!0,size:"xs",bold:!0},t))}function _e(e){var t=e.title,n=e.link;return t?i.a.createElement(u.b,null,n?i.a.createElement(w.b,{className:"underlineLink",stopPropagation:!0,to:n},i.a.createElement(u.K,{truncate:!0,size:"xs"},t)):i.a.createElement(u.K,{truncate:!0,size:"xs"},t)):null}var we=n("VI9K"),Ee=32,Oe=function(e){return!!e.promoter&&!e.is_downstream_promotion};var Te=Object(o.connect)(null,function(e){return{setMostRecentPin:function(t){return e(Object(we.a)(t))}}})(function(e){var t,n,r,o,a,l,c=e.hideTitle,s=e.pin,d=e.viewType,p=e.viewParameter,f=e.setMostRecentPin,m=s.board,y=s.promoter,h=s.pinner||{},g=Oe(s),v=s.promoter||h;g&&y?(t="/".concat(y.username,"/"),n=b.a._("Promoted by"),o=y.full_name,l=y.image_small_url):(t=m&&m.url,n=h.full_name,o=m&&m.name&&"protected"!==m.privacy?m.name:"",l=h.image_small_url,r="/".concat(h.username,"/"),a=m?m.url:"");var _=!g&&!!y,E=i.a.createElement(u.b,{display:"flex",direction:"row",alignItems:"center",marginLeft:-1,marginRight:-1},i.a.createElement(u.b,{paddingX:1},i.a.createElement(be.a,{user:v,username:v&&v.username,avatarSize:Ee,isDarkPromoter:_,pinId:s.id,viewParameter:p},i.a.createElement(ge,{avatarUrl:l,creditNameLink:r,name:n}))),i.a.createElement(u.b,{paddingX:1,overflow:"hidden"},i.a.createElement(ve,{creditNameLink:r,name:n}),!c&&i.a.createElement(_e,{link:a,title:o})));return!t||r||a?E:i.a.createElement(w.b,{className:"underlineLink",stopPropagation:!0,onClick:function(){f(s.id),Object(A.a)(101,{view:d,viewParameter:p,element:g?283:27,objectId:s.id})},to:t},E)}),Pe=n("UmN8"),Se=Object(r.lazy)(function(){return n.e("BoardActivityPinRepReactionsCommon").then(n.bind(null,"sB4Q"))});function Ce(e){var t=e.pin,n=e.feedbackType,r=e.hideAttribution,o=e.imageOnlyAttribution,a=e.isHovering,l=e.imageOnly,c=e.isVideo,d=e.onClickThrough,p=(e.onReactionReplyClick,e.showCredits),f=e.showPinReactionsReply,m=e.sourceUrl,y=e.viewParameter,h=e.viewType,b=t.promoter||!l&&(p||"followed"===n),g=t.board&&t.board.should_show_board_activity,v=b&&!r,_=t&&t.board_activity&&t.board_activity.id||t.id;return i.a.createElement(i.a.Fragment,null,i.a.createElement(he,{pin:t,feedbackType:n,imageOnlyAttribution:o,isHovering:a,isVideo:c,onClickThrough:d,sourceUrl:m}),(b||g)&&i.a.createElement(u.b,{dangerouslySetInlineStyle:{__style:{zIndex:s.a.max,position:"relative"}},paddingY:1},!g&&v&&i.a.createElement(Te,{hideTitle:!!g,pin:t,viewParameter:y,viewType:h}),g&&i.a.createElement(u.b,{position:"relative","data-test-id":"board-activity-reactions",minHeight:16},i.a.createElement(Pe.a,{name:"group_boards_reactions"},function(e){var t=e.anyEnabled;return i.a.createElement(P.a,null,i.a.createElement(Se,{activityId:_,showReply:f,inReactionsExperiment:t}))}))))}var Ie=n("HcgI"),ke=Object(o.connect)(function(e,t){var n=e.pins,r=t.pinId;return{carousel_data:n[r]&&n[r].carousel_data}})(function(e){var t=e.carousel_data,n=e.description;if(t){var r=t.carousel_slots,o=void 0===r?[]:r,a=t.index;o[a]&&o[a].details&&(n=o[a].details)}var l=t?{height:"39px",overflow:"hidden"}:{};return i.a.createElement(u.b,{dangerouslySetInlineStyle:{__style:l},paddingY:1},i.a.createElement(u.K,{size:"sm",bold:!0},i.a.createElement(Ie.a,{text:n,options:{hashtags:{appendText:"".concat(n),source:"hashtag_pinrep"}}})))}),xe=n("EQo2"),je=Object(o.connect)(function(e,t){var n=e.pins,r=t.pinId;return{carousel_data:n[r]&&n[r].carousel_data}})(function(e){var t,n=e.carousel_data,r=e.pinId,o=e.sourceUrl,a=e.pinDeeplinkUrls,l=e.handleOneTapLogging,c="one-tap-desktop",s=o;if(n){var u=n.carousel_slots,d=void 0===u?[]:u,p=n.id,f=n.index;d[f]&&d[f].link&&(s=d[f].link),t={carousel_slot_id:d[f]&&d[f].id,carousel_data_id:p,carousel_slot_index:f},c+="-carousel"}return i.a.createElement("div",{"data-test-id":"otpp"},i.a.createElement(S.a,{id:c},i.a.createElement(w.b,{auxData:t&&t,className:"oneTapNavigateLink",deeplinkUrls:a,external:!0,onClick:l,pinId:r,stopPropagation:!0,to:s})))});function Re(e){var t,n,r=e.buyableProduct,o=e.showProductInfo,a=e.richSummary;if(!o)return null;if(r){var l=r.display_active_min_price,c=r.display_active_max_price;n=r.is_available,t=l===c?l:"".concat(l," - ").concat(c)}else if(a&&(a.products||[]).length>0){var s=a.products[0].offer_summary||{},d=s.availability;t=s.price,1===d?n=!0:2===d&&(n=!1)}return t?i.a.createElement(u.b,{display:"flex",paddingY:1},i.a.createElement(u.b,{marginRight:2},i.a.createElement(u.K,{size:"sm"},t)),void 0!==n&&i.a.createElement(u.K,{size:"sm",color:n?"darkGray":"gray"},n?b.a._("In stock","A product Pin that is available"):b.a._("Out of stock","A product Pin that is out of stock"))):null}var Ae=76;var Le=function(e){var t=e.chips;return i.a.createElement(u.b,{display:"flex",direction:"row",justifyContent:"between"},t.map(function(e){var t=e.images["750x"]||{};return i.a.createElement(u.b,{marginTop:1,key:e.id},i.a.createElement(w.b,{stopPropagation:!0,to:"/pin/".concat(e.id,"/")},i.a.createElement(u.u,{shape:"rounded",width:Ae,height:Ae,wash:!0},i.a.createElement(u.p,{alt:"",naturalHeight:t.height,naturalWidth:t.width,src:t.url,fit:"cover"}))))}))},De=n("E1Qe"),Me=n("19Gw"),Be=n("4081"),Ne=n("cNuv"),Ue=n("k3nM"),He=n("bUMO"),Ve=n("mcMS");function Fe(e){var t=e.richSummary;return i.a.createElement(u.b,{display:"flex"},!!t.display_cook_time&&i.a.createElement(u.b,{alignItems:"center",display:"flex"},i.a.createElement(u.n,{icon:"clock",accessibilityLabel:b.a._("cooking time","time it takes to cook a recipe"),color:"darkGray",size:10,inline:!0}),i.a.createElement(u.b,{paddingX:1},i.a.createElement(u.K,{inline:!0,size:"sm"},!!t.display_cook_time&&Object(He.a)(Object(Ve.b)(t.display_cook_time))))))}var ze=n("LCmp"),Ge=n("q579"),We=n("kR61"),Ye=n("dmID"),qe=n("wHKh"),Ke=n("3BJc"),Qe=n("JsRk"),Xe=n("kIql"),Je=n("hCBh");function Ze(e){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){it(e,t,n[t])})}return e}function et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tt(e){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nt(e,t){return(nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function it(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return st});var ot=Object(r.lazy)(function(){return n.e("PinFeedbackButtonCommon").then(n.bind(null,"w8LQ"))}),at=Object(r.lazy)(function(){return n.e("PinFeedbackConfirmationCommon").then(n.bind(null,"+LSA"))}),lt=Object(r.lazy)(function(){return Promise.resolve().then(n.bind(null,"dmID"))}),ct=Object(r.lazy)(function(){return n.e("PinRepSavedCommon").then(n.bind(null,"mnfC"))}),st={NO_SELECTION:"NO_SELECTION",SELECTED:"SELECTED",UNSELECTED:"UNSELECTED"},ut=function(e){var t=e.aggregated_pin_data.creator_analytics,n=e.creator_analytics,r=e.story_pin_data_id;return!n||!!!r&&t?t:n},dt=(T.a.number,T.a.number,T.a.number,T.a.shape({}),T.a.string,T.a.bool,T.a.bool,T.a.func,T.a.shape({title:T.a.oneOfType([T.a.string,T.a.arrayOf(T.a.node)]),subTitle:T.a.oneOfType([T.a.string,T.a.arrayOf(T.a.node)])}),T.a.bool,T.a.bool,T.a.bool,T.a.bool,T.a.bool,T.a.shape({type:T.a.oneOf(["promoted","followed","topic","pfyBoard","pfy","search","newsHub","default"]).isRequired,data:T.a.shape({})}),T.a.bool,T.a.bool,T.a.func,T.a.func,De.a.isRequired,T.a.bool,T.a.shape({push:T.a.func.isRequired}),T.a.shape({type:T.a.oneOf(["classic","inline","controlled","persistentOneClickSave"]).isRequired}),T.a.shape({boardId:T.a.string,localPinId:T.a.string,sectionId:T.a.string,title:T.a.string,url:T.a.string}),T.a.shape({query:T.a.string.isRequired,scope:T.a.string.isRequired}),T.a.oneOf([st.NO_SELECTION,st.SELECTED,st.UNSELECTED]),Y.b,T.a.bool,T.a.bool,T.a.bool,T.a.bool,T.a.number.isRequired,T.a.bool,T.a.shape({id:T.a.string,isAuth:T.a.bool,isPartner:T.a.bool,username:T.a.string}),T.a.number,T.a.number,T.a.bool,function(e){function t(){var e,n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return r=this,i=(e=tt(t)).call.apply(e,[this].concat(l)),n=!i||"object"!==Ze(i)&&"function"!=typeof i?rt(r):i,it(rt(rt(n)),"state",{isHovering:!1,flyoutShown:!1,flyoutSource:"send",isNewlySaved:!1,savedInfo:n.props.savedInfo}),it(rt(rt(n)),"onPinRepClick",function(e){var t=n.props,r=t.pin,i=r.id,o=r.is_promoted,a=t.requestContext,l=t.router,c=t.viewer,s=t.setCurrentVideo,u=t.videosAutoplaying,d=Object(Q.b)(i,n.isEligibleForAnalyticsCloseup());Object(Q.h)(i,u)&&(0===n.currentVideoCurrentTime||n.currentVideoCurrentTime)&&s({pinId:i,isPromoted:o,currentTime:n.currentVideoCurrentTime}),Object(x.b)("Lead",function(){g.default.increment("fb_tracking_pixel",1,{event_category:"Lead",event_name:"Pin Click"})});var p=e.target;if(p&&p.nodeName&&p.parentElement){var m=new f.b(n.context.userAgent.raw,n.context.userAgent.platform);if(m.shouldDeepLink(document.referrer,n.context.userAgent,c.isAuth))return e.preventDefault(),void m.navigateToDeepLink(n.context.unauthId,Object(k.m)(i));var y=p.parentElement,h=p.nodeName,b=y.nodeName,v=y.parentElement&&y.parentElement.nodeName;"A"!==h&&"A"!==b&&"BUTTON"!==h&&"BUTTON"!==b&&"A"!==v&&"BUTTON"!==v&&(new j.c(a,"smb_pin_stats_from_business_profile").enabled(),e.metaKey||e.ctrlKey?(e.preventDefault(),window.open(d)):l.push(d))}}),it(rt(rt(n)),"getComponentType",function(){return n.props.componentType||0}),it(rt(rt(n)),"getSourceURL",function(){var e=n.props.pin,t=e.link;return e.tracked_link||t}),it(rt(rt(n)),"getPinTypes",function(){var e=n.props.pin,t=e.attribution,r=e.buyable_product,i=e.carousel_data,o=e.embed,a=e.is_collage_pin,l=e.is_eligible_for_web_closeup,c=e.rich_summary,s=e.videos,u=[];i&&u.push("carousel"),l&&u.push("oneTap"),Object(Q.i)(s)&&u.push("video");var d=o||t&&t.embed||null;return d&&"gif"===d.type&&u.push("gif"),d&&d.src&&!d.type&&u.push("embeddedVideo"),(r||c&&"product"===c.type_name)&&u.push("product"),c&&"recipe"===c.type_name&&u.push("recipe"),a&&u.push("collage"),u}),it(rt(rt(n)),"feedbackHelpers",Object(h.a)({i18n:b.a,interpolateNamedTemplate:ye.b})),it(rt(rt(n)),"handleSave",function(){n.setState({isHovering:!0})}),it(rt(rt(n)),"handleOneTapLogging",function(){var e=n.props,t=e.contextLogData,r=e.pin.id,i=a.a.getInstance(),o=i.getViewFromContext();n.handleClickthroughLogging(!0),Object(A.a)(13,$e({},t,{closeup_navigation_type:"web_closeup",objectId:r,component:0,view:3})),i.addViewToContext(o)}),it(rt(rt(n)),"_getPrefetchCompletionPercent",function(e){if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";var t=window.prefetchCompletion[e],n=t.downloadedAssets,r=t.totalAssets;return r?(n/r*100).toFixed(3).toString():"-1"}),it(rt(rt(n)),"handleClickthroughLogging",function(e){var t=n.props,r=t.contextLogData,i=t.pin,o=i.id,a=i.link,l=t.slotIndex,c=t.viewType,s=t.viewParameter;Object(A.a)(12,$e({},r,{view:c,viewParameter:s,component:n.getComponentType(),objectId:o,grid_index:l,pin_id:o,prefetch_percentage_complete:e?n._getPrefetchCompletionPercent(a):null}))}),it(rt(rt(n)),"handleReactionReplyClick",function(e){return function(){return n.props.router.push(e)}}),it(rt(rt(n)),"handleToggleFlyout",function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0,i=!(!e&&!t);n.setState({flyoutShown:e,isHovering:i,flyoutSource:r})}),it(rt(rt(n)),"handleMouseOver",function(){n.state.isHovering||n.setState(function(){return{isHovering:!0}})}),it(rt(rt(n)),"handleMouseLeave",function(){n.state.isHovering&&n.setState(function(){return{isHovering:!1}})}),it(rt(rt(n)),"handleCurrentVideoCurrentTimeChanged",function(e){var t=n.props,r=t.pin,i=t.videosAutoplaying,o=r.id;Object(Q.h)(o,i)&&(n.currentVideoCurrentTime=e.time)}),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nt(e,t)}(t,i.a.Component),n=t,o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.savedInfo&&t.savedInfo!==e.savedInfo?{isNewlySaved:!0,savedInfo:e.savedInfo}:null}}],(r=[{key:"getTruncatedString",value:function(e){var t=this.props.pin.is_promoted?60:50;return e&&Object(ze.a)(e.trim(),t)||""}},{key:"getPinTitle",value:function(){var e=this.props.pin,t=e.carousel_data,n=e.title,r=e.buyable_product,i=e.rich_summary,o=i&&"mobile application"!==i.type_name;if(this.isOwnPin&&!t)return"";if(t){var a=t.carousel_slots,l=void 0===a?[]:a,c=t.index;if(l[c]&&l[c].title)return l[c].title.trim()}return this.getTruncatedString(n||o&&i.display_name||r&&r.title)}},{key:"getFeedbackType",value:function(){var e=this.props,t=e.feedback,n=e.viewParameter,r=e.pin;return this.feedbackHelpers.getFeedbackType({board:r.board,feedback:t,viewParameter:n,pin:r,pinner:r.pinner})}},{key:"isEligibleForAnalyticsCloseup",value:function(){var e=this.props,t=e.requestContext,n=e.viewParameter,r=e.viewer,i=92===n,o=43===n,a=!1;return this.isOwnPin&&r.isPartner&&!i&&!o&&(a=new j.c(t,"smb_pin_stats_from_business_profile").enabledWithNoActivation()),a}},{key:"render",value:function(){var e=this,t=this.props,n=t.boardCount,r=t.carouselIndex,o=t.contextLogData,a=t.createdAt,l=t.debugImpressionLogged,d=t.debugImpressionStarted,f=t.denseViewSelected,h=t.feedback,g=t.feedbackText,v=t.isHomefeedContextualMenuTooltipExperience,_=t.isNewOrResurrectedNonPartner,w=t.hideAttribution,E=t.hideFeedbackButton,O=t.showCondensedInfo,T=t.showFeedbackOverlay,C=t.isShareable,I=t.hideHover,x=t.hideSaveButton,R=t.lowResOnly,A=t.highResOnly,L=t.onError,D=t.onLoad,M=t.pin,B=t.pinsBoardEditableByViewer,N=t.saveOptions,U=t.savedInfo,H=t.searchOptions,V=t.selection,F=void 0===V?st.NO_SELECTION:V,z=t.showImageOnly,G=t.slotIndex,W=t.truncatePinHeight,Y=t.viewer,q=t.viewParameter,K=t.viewType,X=t.showCredits,J=t.showFeedback,Z=t.showPersistentPromoteButton,$=t.showProductInfo,ee=t.showPinReactionsReply,te=t.showPinStats,ne=t.showSavedInfo,re=t.undoAction,ie=t.undoText,oe=t.requestContext,ae="boolean"==typeof z?z:_,le=_,ce=M.ad_match_reason,se=M.aggregated_pin_data,ue=M.board,de=M.board_activity,fe=M.buyable_product,me=M.carousel_data,ye=M.creator_analytics,he=M.debug_info_html,be=M.description,ge=void 0===be?"":be,ve=M.domain,_e=M.dominant_color,we=M.grid_title,Ee=M.id,Oe=M.image_signature,Se=M.images,Ae=M.is_quick_promotable,De=M.is_eligible_for_web_closeup,He=M.pinner,Ve=void 0===He?{}:He,ze=M.promoted_is_removable,Ke=M.promoter,Qe=M.recommendation_reason,Xe=M.rich_summary,Ze=M.source_interest,et=M.category,tt=this.state,nt=tt.flyoutShown,rt=tt.flyoutSource,it=tt.isHovering,dt=tt.isNewlySaved,pt=this.getSourceURL(),ft=((y.a.instance.getPlacedExperience(12)||{}).display_data||{}).lite,mt=(this.isOwnPin||this.canDelete)&&!ft,yt=!ft&&C,ht=$e({},o,Object(We.a)(M,o)),bt=((se||{}).aggregated_stats||{}).done,gt=(se||{}).pin_tags_chips,vt=Se&&Se["236x"].height,_t=Se&&Se["236x"].width,wt=this.getPinTypes(),Et=Object(Q.f)(M),Ot=Object(Ye.getEligiblePinTypes)(wt),Tt=Ot.isCarousel,Pt=Ot.isOneTap,St=Ot.isRecipe,Ct=Ot.isStoryPin,It=Ot.isVideo,kt=Ct?"":this.getTruncatedString(we),xt=this.getPinTitle(),jt=this.getTruncatedString(ge),Rt=ae,At=!Rt&&"string"==typeof we&&!me,Lt=!Rt&&!xt&&!At,Dt=!Rt&&xt&&!At,Mt=c()("PinRep","Module","Pin","hasAttribution","summary","fullWidth",{flyoutShown:nt}),Bt=Object(qe.j)(M),Nt=wt.length>0,Ut=!Pt&&!Tt&&It||St&&!Tt&&(!M.rich_summary||!M.rich_summary.aggregate_rating||!M.rich_summary.aggregate_rating.review_count),Ht=Dt&&xt.length>0,Vt=Lt&&jt.length>0,Ft=Y.isAuth&&Y.isEmployee&&he,zt=0!==Object.keys(ye||{}).length||0!==Object.keys(se||{}).length&&0!==Object.keys(se.creator_analytics||{}).length,Gt=N||(!mt&&void 0!==n&&n>1?{type:"inline"}:{type:"classic"}),Wt="inline"===Gt.type||"classic"===Gt.type,Yt=Y.isAuth&&yt&&C&&Wt,qt=this.getFeedbackType(),Kt=ve;if(me){var Qt=r||me.index||0,Xt=me.carousel_slots,Jt=void 0===Xt?[]:Xt,Zt=Jt[Qt]&&Jt[Qt].link||"";Kt=(Kt=Zt&&Ge.a.parse(Zt).hostname)&&Kt.replace("www.","")||ve}var $t=M.is_native||M.promoter||!Rt&&(X||"followed"===qt),en=M.board&&M.board.should_show_board_activity,tn=en&&$t&&!w,nn=1===G&&!!v,rn=new j.c(oe,"px_pinstats_90_day_default_on_grid").enabled();return i.a.createElement(u.b,{position:"relative"},i.a.createElement("div",{className:Mt,onMouseOver:this.handleMouseOver,onMouseLeave:this.handleMouseLeave,"data-test-id":"pin","data-test-pin-id":M.id},U&&ne&&i.a.createElement(S.a,{id:"savedInfo"},i.a.createElement(P.a,null,i.a.createElement(u.b,{width:"172px",marginTop:2,paddingY:3,paddingX:3,position:"absolute",left:!0,top:!0,dangerouslySetInlineStyle:{__style:{zIndex:s.a.saved}}},i.a.createElement(ct,{isNewlySaved:dt,name:U.title,url:U.url})))),i.a.createElement(p,{debugImpressionLogged:l,debugImpressionStarted:d,slotIndex:this.props.slotIndex},i.a.createElement(Pe.a,{name:"web_eg_pin_hover_cursor"},function(t){var n=t.anyEnabled;return i.a.createElement("div",{className:c()("pinWrapper",J&&"disableHover"),"data-test-id":"pinWrapper",onClick:e.onPinRepClick,style:{cursor:n?"pointer":null}},tn&&en&&i.a.createElement(u.b,{marginBottom:2},i.a.createElement(Te,{hideTitle:!!en,pin:M,viewParameter:q,viewType:K})),De&&i.a.createElement(je,{pinDeeplinkUrls:Object(k.m)(Ee),handleOneTapLogging:e.handleOneTapLogging,pinId:Ee,sourceUrl:pt}),i.a.createElement(Pe.a,{name:"web_nux_one_tap_save",isEligible:Y.isAuth&&Object(Je.d)({user:Y,days:7})},function(t){var r=t.anyEnabled;return i.a.createElement(pe,{boardActivity:de,buyableProduct:fe,componentType:e.getComponentType(),contextLogData:ht,denseViewSelected:f,description:ge,domain:Kt,dominantColor:_e,doneCount:bt,hideSaveButton:x,imageHeight:vt,imageSignature:Oe,images:Se,imageWidth:_t,showReactions:en,isEligibleForWebCloseup:De,isEligibleForAnalyticsCloseup:e.isEligibleForAnalyticsCloseup(),isEnabledPointerHoverCursorExp:n,inNewUserOneTapExperiment:r,onSave:e.handleSave,onToggleFlyout:e.handleToggleFlyout,pin:M,pinsBoardEditableByViewer:B,pinTitle:xt,requestContext:oe,saveOptions:Gt,searchOptions:H,selection:F,showButtons:!!(it&&!I||nt),showCondensedInfo:O,showEditPinButton:mt,showPromoteButton:Ae,showRepinButton:!Ae&&!ze,showSendButton:Yt,showPersistentPromoteButton:Z,slotIndex:G,sourceUrl:pt,truncatePinHeight:W,viewer:Y,viewParameter:q,viewType:K,isFlyoutOpen:nt&&"save"!==rt},i.a.createElement(Pe.a,{name:"ads_desktop_video_ads",isEligible:It},function(t){var n=t.anyEnabled;return!It||!n&&Et?i.a.createElement(xe.a,{lowResOnly:R,highResOnly:A,onLoad:D,onError:L,pin:M,saved:!!U}):i.a.createElement(Ue.a,{inAdsDesktopVideoExperiment:n,isExperimentalPinRep:!1,lowResOnly:R,highResOnly:A,onLoad:D,onError:L,pin:M,saved:!!U,onTimeChange:e.handleCurrentVideoCurrentTimeChanged,viewType:K,viewParameter:q,currentTimeFromPinRep:e.currentVideoCurrentTime})}))}),!!gt&&!O&&i.a.createElement(Le,{chips:gt}),(!Rt||qt)&&!O&&(Nt||te||Ht||Vt||$||a||At||Ft||qt)&&i.a.createElement(u.b,{display:"flex",direction:"row",marginTop:1},i.a.createElement(u.b,{paddingX:2,flex:"grow",width:"100%"},te&&zt&&i.a.createElement(Me.a,{stats:ut(M),isVideo:It,isStoryPin:!!M.story_pin_data_id,show90Days:rn}),a&&!Et&&i.a.createElement(u.b,{paddingY:1},i.a.createElement(u.K,{color:"darkGray",size:"xs"},b.a.getHumanizedTimesince(a))),Nt&&!Ut&&i.a.createElement(u.b,{"data-test-id":"pin-type",minHeight:Tt&&Pt?40:24},i.a.createElement(P.a,null,i.a.createElement(lt,{componentType:0,viewParameter:q,viewType:K,pinId:Ee,pin:M,types:wt}))),i.a.createElement(u.b,{display:"flex",justifyContent:"between"},i.a.createElement(u.b,{column:12},i.a.createElement(Pe.a,{name:"web_creators_story_pin_display",activate:!0,isEligible:!!M.story_pin_data_id},function(e){return e.anyEnabled&&i.a.createElement(u.b,{paddingY:1},i.a.createElement(Ne.a,{icon:"story-pin",pinId:Ee}))}),i.a.createElement(Re,{buyableProduct:fe,richSummary:Xe,showProductInfo:$}),At&&kt.length>0&&i.a.createElement(u.b,{paddingY:1},i.a.createElement(u.K,{size:"sm",bold:!0},i.a.createElement(Ie.a,{text:kt,options:{hashtags:{appendText:kt,source:"hashtag_pinrep"}}}))),Dt&&xt.length>0&&i.a.createElement(Be.a,{title:xt,pinId:Ee}),Lt&&jt.length>0&&i.a.createElement(ke,{description:jt,pinId:Ee}),St&&i.a.createElement(Fe,{richSummary:Xe}),i.a.createElement(Ce,{feedbackType:qt,hideAttribution:w,imageOnly:Rt,imageOnlyAttribution:le,isHovering:it,isVideo:It,onClickThrough:e.handleClickthroughLogging,onReactionReplyClick:e.handleReactionReplyClick,pin:M,showCredits:X,showPinReactionsReply:ee,sourceUrl:pt,viewParameter:q,viewType:K}))),Ft&&i.a.createElement(u.b,{paddingY:1},i.a.createElement("pre",null,he))),i.a.createElement(u.b,{display:"flex",direction:"column",alignItems:"center"},!E&&qt&&i.a.createElement(u.b,{"data-test-id":"feedback-button",display:"flex",justifyContent:"end",position:"relative",dangerouslySetInlineStyle:{__style:{zIndex:s.a.max}},width:24,height:24},i.a.createElement(P.a,null,i.a.createElement(ot,{ad_match_reason:ce,bestPinImgSrc:Bt,board:ue,feedbackData:h&&h.data||{},feedbackType:qt,hideDownload:It,isHomefeedContextualMenuTooltip:nn,pinDescription:jt,pinTitle:xt,pinId:Ee,pinCategory:et,pinImage:Se&&Se["236x"].url,pinner:Ve,promoter:Ke,recommendationReason:Qe,reportPin:Object(m.a)({pin:M,viewParameter:q,viewType:K}),sourceInterest:Ze,viewParameter:q,viewType:K}))))))}))),i.a.createElement(Pe.a,{name:"web_homefeed_control_panel_nag",activate:!1},function(e){var t=e.anyEnabled;return i.a.createElement(Pe.a,{name:"web_homefeed_control_panel_pin_feedback"},function(e){var n=e.anyEnabled;return i.a.createElement(Pe.a,{name:"web_homefeed_control_contextual_menu_v2"},function(e){var r=e.anyEnabled;return!!J&&i.a.createElement(P.a,null,i.a.createElement(at,{feedbackText:g,feedbackType:qt,pinId:Ee,pinImage:Se&&Se["236x"].url,undoAction:re,undoText:ie,isContextMenuV2Exp:r,isHomefeedControlPanelExp:t||n,showFeedbackOverlay:T}))})})}))}},{key:"canDelete",get:function(){return(this.props.pin.access||[]).includes("delete")}},{key:"isOwnPin",get:function(){return(this.props.pin.access||[]).includes("write")}}])&&et(n.prototype,r),o&&et(n,o),t}());it(dt,"contextTypes",{unauthId:T.a.string.isRequired,userAgent:T.a.shape({platform:T.a.string.isRequired,platformVersion:T.a.arrayOf(T.a.number),raw:T.a.string.isRequired})}),it(dt,"defaultProps",{pinsBoardEditableByViewer:!1,showCondensedInfo:!1,showPersistentPromoteButton:!1,truncatePinHeight:!0,showSavedInfo:!0});t.b=Object(K.compose)(Qe.withRouter,Xe.a,Y.e,Object(o.connect)(function(e,t){var n,r=e.boards,i=e.experiences,o=e.pins,a=e.ui,l=e.viewer,c=t.pin,s=c.id,u=c.board,d=o[s],p=l.isAuth?l.boardCount:void 0,f=u&&u.id,m=r.content[f],y=m&&(m.access||[]).includes("write"),h=l.isAuth&&(Object(Je.d)({user:l})||Object(Je.e)({user:l}))&&!l.isPartner;if(d){var b=d.carousel_data;n=b&&b.index}return{boardCount:p,carouselIndex:n,isHomefeedContextualMenuTooltipExperience:i&&i.eligibleExperiences&&i.eligibleExperiences[1000116]&&501093===i.eligibleExperiences[1000116].experience_id,feedbackText:d&&d.feedbackText,hideSaveButton:d&&d.pinner&&d.pinner.blocked_by_me,isNewOrResurrectedNonPartner:h,isShareable:!m||"secret"!==m.privacy,pinsBoardEditableByViewer:y,savedInfo:d&&d.savedInfo,showFeedback:d&&d.showFeedback,showFeedbackOverlay:d&&d.showFeedbackOverlay,undoAction:d&&d.undoAction,undoText:d&&d.undoText,videosAutoplaying:a.app.videosAutoplaying}},function(e,t){return{setCurrentVideo:function(t){return e(Object(Ke.b)(t))}}}))(dt)},XHfN:function(e,t,n){"use strict";var r=n("GyhR"),i=n.n(r),o=n("Ivf5"),a=n("jJRE"),l=n("8gFa"),c=n.n(l),s=n("6iNl"),u=n("tcFq");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function f(e){var t=e.eventData.videoEvent,n=t.videoDuration,r=t.startTime,i=t.endTime,o=t.videoStartTime,a=t.videoEndTime,l=t.isAudible,c=t.height,s=t.width,u=t.playbackState,f=t.quartile,m=t.quartilePercentValue,y=t.windowHeight,h=t.windowWidth,b=t.viewability;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){d(e,t,n[t])})}return e}({},p(e,["eventData"]),{eventData:{videoEventData:{videoDuration:n,time:r,endTime:i,videoTime:o,endVideoTime:a,isAudible:l,height:c,width:s,playbackState:u,quartile:f,quartilePercentValue:m,windowHeight:y,windowWidth:h,viewability:b}}})}var m=n("+U6O");function y(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){E(e,t,n[t])})}return e}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=[0,.25,.5,.75,.95,.97,1],T=[0,.5,.8,1],P={threshold:T},S=1e3,C=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function I(){return(new Date).getTime()}function k(e,t){for(var n=0;n<t.length;n+=1){var r=t[n],i=t[n+1];if(null==i)return r;if(r<=e&&e<i)return r}return null}function x(e){return e.volume>0}var j=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=v(t).call(this,e),n=!o||"object"!==h(o)&&"function"!=typeof o?w(r):o,E(w(w(n)),"handleWindowResize",function(){var e=n.getDimensions(),t=n.currentInterval,r=t.height,i=t.width;e.height!==r||e.width!==i?n.startNewInterval(e):(n.currentInterval.windowHeight=e.windowHeight,n.currentInterval.windowWidth=e.windowWidth)}),E(w(w(n)),"handleTimeChange",function(e){if(n.currentInterval.videoDuration){var t=k(e.time*S/n.currentInterval.videoDuration,O);if(n.props.playing&&null!=t&&O.includes(t)&&!n.seenQuartiles.has(t)){var r=I();n.logVideoEvent(6906,b({},n.currentInterval,{startTime:r,endTime:r,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*t),quartilePercentValue:t})),n.seenQuartiles.add(t)}n.videoTime=e.time*S,n.props.onTimeChange&&n.props.onTimeChange(e)}}),E(w(w(n)),"handleDurationChange",function(e){n.currentInterval.videoDuration=e.duration*S,n.props.onDurationChange&&n.props.onDurationChange(e)}),E(w(w(n)),"handleReady",function(e){n.ready||(n.ready=!0,n.startNewInterval({playbackState:n.getPlaybackState(n.props)})),n.props.onReady&&n.props.onReady(e)}),E(w(w(n)),"handleVisibilityChange",function(e,t){if(0!==e.length){var r=e.slice(-1)[0],i=k(Number.parseFloat(r.intersectionRatio.toFixed(2)),T);null!=i&&i!==n.currentInterval.viewability&&n.startNewInterval({viewability:i})}}),E(w(w(n)),"handleContextMenu",function(e){e.preventDefault()});var a=I();return n.ready=!1,n.handleWindowResize=c()(n.handleWindowResize,1e3),n.videoWrapperRef=i.a.createRef(),n.currentInterval={videoDuration:0,startTime:a,endTime:a,videoStartTime:0,videoEndTime:0,isAudible:x(e),playbackState:n.getPlaybackState(e),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},n.videoTime=0,n.seenQuartiles=new Set,n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,i.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){this.currentInterval=b({},this.currentInterval,this.getDimensions()),window.addEventListener("resize",this.handleWindowResize)}},{key:"componentDidUpdate",value:function(e){var t={};x(e)&&!x(this.props)?t.isAudible=!1:!x(e)&&x(this.props)&&(t.isAudible=!0);var n=this.getPlaybackState(this.props);this.getPlaybackState(e)!==n&&(t.playbackState=n),Object.keys(t).length>0&&this.startNewInterval(t)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize),this.startNewInterval()}},{key:"getPlaybackState",value:function(e){return this.ready?e.playing?C.PLAYING:C.PAUSED:C.LOADING}},{key:"getDimensions",value:function(){var e,t;if("object"===h(this.videoWrapperRef)&&this.videoWrapperRef.current){var n=this.videoWrapperRef.current;n.clientHeight&&n.clientWidth&&(e=n.clientHeight,t=n.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}},{key:"logVideoEvent",value:function(e,t){var n=t.height,r=t.width,i=t.windowHeight,o=t.windowWidth,a=t.viewability,l=y(t,["height","width","windowHeight","windowWidth","viewability"]);if(this.props.onLogVideoEvent&&null!=n&&null!=r&&null!=i&&null!=o&&null!=a){var c=b({},l,{height:n,width:r,windowHeight:i,windowWidth:o,viewability:a});this.props.onLogVideoEvent(e,b({},this.props.contextLogData,{eventData:{videoEvent:c}}))}}},{key:"startNewInterval",value:function(e){var t=I();this.logVideoEvent(6904,b({},this.currentInterval,{endTime:t,videoEndTime:this.videoTime})),this.currentInterval=b({},this.currentInterval,e,{startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1})}},{key:"render",value:function(){var e=this.props,t=(e.contextLogData,e.onLogVideoEvent,y(e,["contextLogData","onLogVideoEvent"]));return t.onDurationChange=this.handleDurationChange,t.onReady=this.handleReady,t.onTimeChange=this.handleTimeChange,i.a.createElement(u.a,{options:P,onVisibilityChange:this.handleVisibilityChange},i.a.createElement("div",{ref:this.videoWrapperRef,onContextMenu:this.handleContextMenu},i.a.createElement(s.a,t)))}}])&&g(n.prototype,r),o&&g(n,o),t}();E(j,"defaultProps",m.Q.defaultProps);t.a=Object(o.connect)(void 0,function(e){return{onLogVideoEvent:function(t,n){return e(Object(a.a)(t,f(n)))}}})(j)},b7z0:function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n("GyhR"),i=n.n(r),o=n("qQ1r"),a=n("fyXL"),l=n("AZKp");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={xs:"12px",sm:"14px",md:"16px",lg:"18px",xl:"21px"},y=function(e){function t(){var e,n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return r=this,n=!(i=(e=u(t)).call.apply(e,[this].concat(a)))||"object"!==c(i)&&"function"!=typeof i?p(r):i,f(p(p(n)),"state",{isRTL:!1}),n}var n,r,y;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,i.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){this.setState(function(){return{isRTL:Boolean(document&&document.body&&document.body.style&&"rtl"===document.body.style.direction)}})}},{key:"render",value:function(){var e=this.props,t=e.align,n=void 0===t?"left":t,r=e.children,c=e.color,s=void 0===c?"darkGray":c,u=e["data-test-id"],d=e.inline,p=void 0!==d&&d,y=e.italic,h=void 0!==y&&y,b=e.leading,g=e.overflow,v=void 0===g?"breakWord":g,_=e.size,w=void 0===_?"md":_,E=e.truncate,O=void 0!==E&&E,T=e.weight,P=void 0===T?"normal":T,S=e.__dangerouslyIncreaseLineHeight,C=void 0!==S&&S,I=this.state.isRTL,k=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){f(e,t,n[t])})}return e}({},a.a,{fontSize:m[w],color:o.a[s],fontWeight:l.a[P]},"short"===b?{lineHeight:1.2}:{},"tall"===b||C?{lineHeight:1.5}:{},"center"===n?{textAlign:"center"}:{},"justify"===n?{textAlign:"justify"}:{},"left"===n?{textAlign:I?"right":"left"}:{},"right"===n?{textAlign:I?"left":"right"}:{},"breakWord"===v?{hyphens:"auto",wordWrap:"break-word"}:{},h?{fontStyle:"italic"}:{},h?{}:{fontStyle:"normal"},O?{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}:{}),x=p?"span":"div";return i.a.createElement(x,Object.assign({style:k},u?{"data-test-id":u}:{},O&&"string"==typeof r?{title:r}:{}),r)}}])&&s(n.prototype,r),y&&s(n,y),t}();t.b=y},bUMO:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("GyhR"),i=n.n(r),o=n("Qo1m"),a=n("z/1d"),l=n("Irlq");function c(e){var t=e.m,n=e.h,r=e.rm,c=e.rh;return t&&(!n||c<=0)?Object(l.b)(o.a.ngettext("{{mins}} minute","{{mins}} minutes",r),{mins:i.a.createElement(a.a,{key:"recipe-minutes",maximumFractionDigits:2,value:r})}):n?Object(l.b)(o.a.ngettext("{{hrs}} hour","{{hrs}} hours",c),{hrs:i.a.createElement(a.a,{key:"recipe-hours",maximumFractionDigits:2,value:c})}):null}},"eB/M":function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"c",function(){return d});var r=n("HQ9/");function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var l=["search_banner_story","search_articles_story","hashtag_pins_story"],c={AGGREGATED_COMMENTS:"aggregatedComments",BOARD_ACTIVITYITEMS:"boardActivityItems",BOARD_ACTIVITYCOMMENTS:"boardActivityComments",BOARD_PINS:"boardPins",BOARD_SECTIONS:"boardSections",HOMEFEED_MORE_IDEAS_TABS:"homefeedMoreIdeasTabs",SEARCH_PINS:"searchPins",SECTION_PINS:"sectionPins",USER_DID_IT_DATA:"userDidItData",PROFILE_BOARDS:"profileBoards"},s={AggregatedActivityFeedResource:function(e){var t=e.options.aggregated_pin_data_id;return{type:c.USER_DID_IT_DATA,id:t}},AggregatedCommentFeedResource:function(e){var t=e.options.objectId;return{type:c.AGGREGATED_COMMENTS,id:t}},AggregatedCommentReplyFeedResource:function(e){var t=e.options.objectId;return{type:c.AGGREGATED_COMMENTS,id:t,reversed:!0}},BoardActivityFeedResource:function(e){var t=e.options.board_id;return{type:c.BOARD_ACTIVITYITEMS,id:t}},BoardActivityCommentFeedResource:function(e){var t=e.options,n=t.activityId,r=t.parentType;return{type:c.BOARD_ACTIVITYCOMMENTS,id:n,reversed:"boardactivitycomment"===r}},BoardFeedResource:function(e){var t=e.options.board_id;return{type:c.BOARD_PINS,id:t}},BoardSectionPinsResource:function(e){var t=e.options.section_id;return{type:c.SECTION_PINS,id:t}},BoardSectionsResource:function(e){var t=e.options.board_id;return{type:c.BOARD_SECTIONS,id:t}},BoardsResource:function(e){var t=e.options,n=t.username,i=t.sort;return{type:c.PROFILE_BOARDS,id:Object(r.c)(n,i)}},BaseSearchResource:function(e){var t=e.options,n=t.auto_correction_disabled,r=t.scope,i=t.filters,o=t.query_pin_sigs,a=t.query,s=e.data;return{type:c.SEARCH_PINS,id:n?"auto-correction-disabled:".concat(r,":").concat(i||"",":").concat(o||"",":").concat(a):"".concat(r,":").concat(i||"",":").concat(o||"",":").concat(a),items:s&&s.results&&s.results.filter(function(e){return!(e.story_type&&l.includes(e.story_type))})||[]}},DidItCommentsResource:function(e){var t=e.options.objectId;return{type:c.AGGREGATED_COMMENTS,id:t,reversed:!0}},DidItUserFeedResource:function(e){var t=e.options.username;return{type:c.USER_DID_IT_DATA,id:t}},MoreIdeasTabsResource:function(){return{type:c.HOMEFEED_MORE_IDEAS_TABS,id:"hf"}}},u={aggregatedComments:{},boardActivityItems:{},boardActivityComments:{},boardPins:{},boardSections:{},homefeedMoreIdeasTabs:{},searchPins:{},sectionPins:{},userDidItData:{},profileBoards:{}};function d(e,t,n){var r=a(e),i=r.splice(t,1)[0];return r.splice(n,0,i),r}t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESOURCE_FETCH_COMPLETE":case"RESOURCE_FETCH_MORE_COMPLETE":var n=t.payload;if(!n.options.redux_normalize_feed)return e;var r=s[n.name](n),l=r.type,p=r.id,f=r.items,m=r.reversed,y=(f||n.data||[]).map(function(e){return function(e,t){switch(e.type){case"story":return{id:e.id,type:"story",story_type:e.story_type};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return t===c.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"boardactivity":return{id:e.id,type:"boardactivity"};case"boardactivitycomment":return{id:e.id,type:"boardactivitycomment"};case"board_section":return{type:"board_section",id:e.id};case"userdiditdata":return{type:"userdiditdata",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"board_first_pin_slot":return{type:"board_first_pin_slot",pinId:e.pin_id,id:e.id,image:e.image,description:e.description,saves:e.saves,impressions:e.impressions,link:e.link};default:return{type:"pin",id:e.id}}}(e,l)});m&&(y=y.reverse());var h=e[l][p];if(h||"RESOURCE_FETCH_MORE_COMPLETE"!==t.type){var b=h||[],g=y;return"RESOURCE_FETCH_MORE_COMPLETE"===t.type&&(g=m?y.concat(b):b.concat(y)),i({},e,o({},l,i({},e[l],o({},p,g))))}break;case"FEED_ITEM_REORDERED":var v=t.payload,_=v.feedType,w=v.feedId,E=v.itemType,O=v.targetItemId,T=v.sourceItemId,P=e[_]||{},S=P[w]||[],C=-1,I=-1;if([c.BOARD_PINS,c.SECTION_PINS,c.BOARD_SECTIONS,"profileBoards"].includes(_)&&(C=S.findIndex(function(e){return e.type===E&&e.id===T}),I=S.findIndex(function(e){return e.type===E&&e.id===O})),-1!==C&&-1!==I)return i({},e,o({},_,i({},P,o({},w,d(S,C,I)))));break;case"FEED_ITEMS_REMOVED":var k=t.payload,x=k.feedType,j=k.feedId,R=k.inverseSelection,A=k.itemType,L=k.itemIds,D=void 0===L?[]:L,M=e[x]||{},B=M[j];if(B&&B.length>0&&(x===c.SECTION_PINS||x===c.BOARD_PINS)){var N=B.filter(function(e){var t=D.includes(e.id);return!(e.type===A&&(R&&!t||!R&&t))});return i({},e,o({},x,i({},M,o({},j,N.find(function(e){return"pin"===e.type})?N:[]))))}if(B&&B.length>0&&x===c.BOARD_SECTIONS)return i({},e,o({},x,i({},M,o({},j,B.filter(function(e){var t=D.includes(e.id);return!(e.type===A&&t)})))));if(B&&B.length>0&&(x===c.BOARD_ACTIVITYITEMS||x===c.AGGREGATED_COMMENTS||x===c.BOARD_ACTIVITYCOMMENTS||x===c.USER_DID_IT_DATA))return i({},e,o({},x,i({},M,o({},j,B.filter(function(e){var t=D.includes(e.id);return!(e.type===A&&t)})))));break;case"FEED_ITEMS_ADDED":var U=t.payload,H=U.feedType,V=U.feedId,F=U.itemType,z=U.itemIds,G=void 0===z?[]:z,W=U.prepend,Y=e[H]||{},q=Y[V];if(q&&(H===c.SECTION_PINS||H===c.BOARD_PINS)){var K=G.map(function(e){return{id:e,type:F}}),Q=0;return"story"===(q[0]||{}).type&&(Q=1),"story"===(q[1]||{}).type&&(Q=2),i({},e,o({},H,i({},Y,o({},V,a(q.slice(0,Q)).concat(a(K),a(q.slice(Q)))))))}if(q&&H===c.BOARD_SECTIONS){var X=G.reverse().map(function(e){return{id:e,type:"board_section"}});return i({},e,o({},H,i({},Y,o({},V,q?a(X).concat(a(q)):a(X)))))}if(H===c.BOARD_ACTIVITYITEMS||H===c.AGGREGATED_COMMENTS||H===c.BOARD_ACTIVITYCOMMENTS){var J=G.map(function(e){return{id:e,type:F}});return i({},e,o({},H,i({},Y,o({},V,q?a(W?J:q).concat(a(W?q:J)):J))))}if(H===c.USER_DID_IT_DATA){var Z=G.map(function(e){return{id:e,type:F}}),$=q?a(Z).concat(a(q)):Z;return i({},e,o({},H,i({},e[H],o({},V,$))))}break;case"FEED_INVALIDATE":var ee=t.payload,te=ee.feedType,ne=ee.feedId,re=e[te]||{};if(re[ne])return i({},e,o({},te,i({},re,o({},ne,null))))}return e}},exzK:function(e,t,n){"use strict";var r=n("GyhR"),i=n.n(r),o=n("Ivf5"),a=n("oko/"),l=n("Qo1m"),c=n("9Y9K"),s=n("2Npu"),u=n("+U6O");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={slider:{cursor:"pointer",height:"100%",position:"relative",width:"10%",zIndex:"105",pointerEvents:"auto"}},f=function(e,t,n,r,i,o,a,l,c,s){if(!s||!i){var u=i.carousel_slots,p=i.id;t&&t(108,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){d(e,t,n[t])})}return e}({},c,{objectId:e,component:l,view:a,viewParameter:o,eventData:{pinCarouselSlotEventData:{carouselSlotId:u[n]&&Number(u[n].id),carouselDataId:Number(p),carouselSlotIndex:n,toCarouselSlotIndex:r}}}))}},m=function(e,t,n,r,i,o){o||void 0===r||(e.preventDefault(),e.stopPropagation(),r(t,n)),void 0!==i&&i(n)};t.a=Object(c.compose)(s.a,Object(o.connect)(function(e,t){var n=e.pins,r=t.pinId;return{carousel_data:n[r]&&n[r].carousel_data}},function(e){return{changeCarouselSlotIndex:function(t,n){return e(Object(a.a)(t,n))}}}))(function(e){var t=e.carouselIndex,n=e.carousel_data,r=e.changeCarouselSlotIndex,o=e.handleCarouselSwipe,a=e.pinId,c=e.contextLog,s=e.contextLogData,d=e.viewParameter,y=e.viewType,h=e.componentType,b=e.isEditMode,g=n.carousel_slots,v=n.index,_=void 0!==t?t:v,w=Math.max(0,_-1),E=Math.min(g.length-1,_+1);return i.a.createElement(u.b,{display:"flex",justifyContent:"between",position:"absolute",left:!0,right:!0,bottom:!0,top:!0},i.a.createElement("div",{"data-test-id":"carousel-slider-left",role:"presentation",onClick:function(e){m(e,a,w,r,o,b),f(a,c,_,w,n,d,y,h,s,b)},onKeyUp:function(e){m(e,a,w,r,o,b),f(a,c,_,w,n,d,y,h,s,b)},style:p.slider},_>0&&i.a.createElement(u.b,{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},i.a.createElement(u.n,{color:"white",icon:"arrow-back",accessibilityLabel:l.a._("View Previous","Button to advance carousel to the previous image")}))),i.a.createElement("div",{"data-test-id":"carousel-slider-right",role:"presentation",onClick:function(e){m(e,a,E,r,o,b),f(a,c,_,E,n,d,y,h,s,b)},onKeyUp:function(e){m(e,a,E,r,o,b),f(a,c,_,E,n,d,y,h,s,b)},style:p.slider},_<g.length-1&&i.a.createElement(u.b,{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},i.a.createElement(u.n,{color:"white",icon:"arrow-forward",accessibilityLabel:l.a._("View Next","Button to advance carousel to the next image")}))))})},fyXL:function(e,t,n){"use strict";t.a={MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Helvetica, "ヒラギノ角ゴ Pro W3", "Hiragino Kaku Gothic Pro", "メイリオ", Meiryo, "ＭＳ Ｐゴシック", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',letterSpacing:"-0.4px"}},hX7C:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a});var r=/[\- _,.<>:;+=*&@~\/\|!]*$/,i=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:80,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"…";if(e.length<=n)return e;if(" "!==e[n-1]&&" "===e[n])t=e.substring(0,n);else{var o=e.lastIndexOf(" ",n);t=e.substring(0,o)}return(t=t.replace(r,""))+i},o=/\s\s+/g,a=function(e){return e.replace(o," ")}},k3nM:function(e,t,n){"use strict";var r=n("GyhR"),i=n.n(r),o=n("Ivf5"),a=n("HW6o"),l=n("Qo1m"),c=n("EQo2"),s=n("+U6O"),u={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},d={__path:"M17.496 14.572a1 1 0 0 1-1 1h-.001a1.001 1.001 0 0 1-.999-1.001l.002-4.652-7.29 7.288a.995.995 0 0 1-.707.293.999.999 0 0 1-.707-1.707l7.293-7.29L9.428 8.5a1 1 0 0 1 .001-2h.001l8.071.005-.005 8.067zM12 0C5.373 0 0 5.373 0 12c0 6.628 5.373 12 12 12 6.628 0 12-5.372 12-12 0-6.627-5.372-12-12-12z"},p={overlay:{__style:{backgroundColor:"#000",opacity:.8}}};function f(e){var t=e.backgroundImage,n=e.naturalHeight,r=e.naturalWidth,o=e.onRestartVideo,a=e.pinTitle;e.pin;return i.a.createElement(s.p,{alt:a||l.a._("pin image","image of a pin"),naturalHeight:n,naturalWidth:r,src:t},i.a.createElement(s.b,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:p.overlay}),i.a.createElement(s.b,{justifyContent:"center",direction:"column",display:"flex",position:"absolute",height:"100%",width:"100%"},i.a.createElement(s.P,{shape:"rounded"},i.a.createElement(s.b,{display:"flex",justifyContent:"center",padding:2},i.a.createElement(s.n,{accessibilityLabel:l.a._("Visit site","Button when pressed goes to pin's website"),color:"white",dangerouslySetSvgPath:d,size:25}),i.a.createElement(s.b,{margin:1}),i.a.createElement(s.K,{bold:!0,color:"white",size:"lg",truncate:!0},l.a._("Visit site","Button when pressed goes to pin's website")))),i.a.createElement(s.b,{margin:3}),i.a.createElement(s.P,{shape:"rounded",onTouch:o},i.a.createElement(s.b,{display:"flex",justifyContent:"center",padding:2},i.a.createElement(s.n,{accessibilityLabel:l.a._("Watch again","Button when pressed restarts the video"),color:"white",dangerouslySetSvgPath:u,size:25}),i.a.createElement(s.b,{margin:1}),i.a.createElement(s.K,{bold:!0,color:"white",size:"lg",truncate:!0},l.a._("Watch again","Button when pressed restarts the video"))))))}var m=n("XHfN"),y=n("zBQm");function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var b=-1;var g=n("3BJc");function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=Object(a.a)(function(e){var t=e.currentTime,n=e.lowResOnly,o=e.highResOnly,a=e.onLoad,u=e.onError,d=e.saved,p=e.onTimeChange,g=e.isExperimentalPinRep,v=e.pin,_=e.playing,w=e.viewType,E=e.viewParameter,O=h(Object(r.useState)(!1),2),T=O[0],P=O[1],S=v.videos?v.videos.video_list.V_HLSV4:{},C=v.videos?v.videos.id:-1,I=S&&[{type:"video/m3u8",src:S.url}],k=Object(y.f)(v),x=k&&!v.is_eligible_for_web_closeup,j=g&&k&&v.is_eligible_for_web_closeup,R=!k||x||!g,A=(v.images["236x"]||{}).url,L=S||{},D=L.height,M=L.thumbnail,B=L.width;return _?T?i.a.createElement(s.b,null,i.a.createElement(f,{backgroundImage:A,naturalHeight:D,naturalWidth:B,pin:v,onRestartVideo:function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),P(!1)}})):i.a.createElement(s.b,null,i.a.createElement(m.a,{contextLogData:{component:0,view:w,viewParameter:E,objectId:v.id,video_id:C},accessibilityMaximizeLabel:l.a._("Maximize","Maximize button on video"),accessibilityMinimizeLabel:l.a._("Minimize","Minimize button on video"),accessibilityMuteLabel:l.a._("Mute","Mute button on video"),accessibilityPauseLabel:l.a._("Pause","Pause button on video"),accessibilityPlayLabel:l.a._("Play","Play button on video"),accessibilityUnmuteLabel:l.a._("Unmute","Unmute button on video"),aspectRatio:B/D,captions:"",hlsConfig:{capLevelToPlayerSize:!0,startLevel:b,startPosition:t||-1},loop:R,onTimeChange:p,playing:_,poster:A||M,src:I,volume:0,onEnded:function(){P(j)}})):i.a.createElement(s.b,null,i.a.createElement(c.a,{lowResOnly:n,highResOnly:o,onLoad:a,onError:u,pin:v,saved:d}))}),S=function(e){function t(){var e,n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return r=this,i=(e=w(t)).call.apply(e,[this].concat(a)),n=!i||"object"!==v(i)&&"function"!=typeof i?O(r):i,T(O(O(n)),"handleVisibilityChanged",function(e){var t=n.props,r=t.currentTimeFromPinRep,i=t.pin,o=t.setCurrentVideo,a=t.pauseAutoplay,l=t.videosAutoplaying,c=i.id,s=i.is_promoted,u=l.organicVideosAutoplaying,d=l.promotedVideosAutoplaying,p=Object(y.c)(c,l),f=Object(y.h)(c,l),m=Object(y.a)(c,l);e?s?o({pinId:c,isPromoted:s,currentTime:p||r||n.currentVideoCurrentTime}):(0===Object.keys(d).length&&0===Object.keys(u).length||m)&&o({pinId:c,isPromoted:s,currentTime:p||r||n.currentVideoCurrentTime}):!e&&f&&a({pinId:c,isPromoted:s,currentTime:r||n.currentVideoCurrentTime})}),T(O(O(n)),"handleVideoTimeChange",function(e){var t=n.props,r=t.pin,i=t.onTimeChange,o=t.videosAutoplaying,a=r.id;Object(y.h)(a,o)&&(n.currentVideoCurrentTime=e.time),i&&i(e)}),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,i.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){this.props.onLoad&&this.props.onLoad()}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.currentTimeFromPinRep,n=e.pauseAutoplay,r=e.pin,i=e.videosAutoplaying,o=r.id,a=r.is_promoted;Object(y.h)(o,i)&&n({pinId:o,isPromoted:a,currentTime:t||this.currentVideoCurrentTime})}},{key:"render",value:function(){var e=this.props,t=e.isAutoplay,n=e.pin,r=e.videosAutoplaying,o=e.viewParameter,a=e.viewType,l=e.highResOnly,c=e.lowResOnly,s=e.onError,u=e.onLoad,d=e.saved,p=e.inAdsDesktopVideoExperiment,f=e.isExperimentalPinRep,m=n.id,h=Object(y.c)(m,r),b=Object(y.h)(m,r)&&t;return i.a.createElement(P,{currentTime:h,inAdsDesktopVideoExperiment:p,viewParameter:o,viewType:a,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pin:n,playing:b,trackFullVisible:!1,highResOnly:l,lowResOnly:c,onError:s,onLoad:u,saved:d,isExperimentalPinRep:f})}}])&&_(n.prototype,r),o&&_(n,o),t}();t.a=Object(o.connect)(function(e,t){return{isAutoplay:e.ui.app.isAutoplay,videosAutoplaying:e.ui.app.videosAutoplaying}},function(e,t){return{pauseAutoplay:function(t){return e(Object(g.a)(t))},setCurrentVideo:function(t){return e(Object(g.b)(t))}}})(S)},m2OL:function(e,t,n){"use strict";var r=n("ptua"),i=n("rUah"),o=n("zBQm");t.a=function(e){var t,n=e.pin,a=e.viewParameter,l=e.viewType,c=n.id,s=n.videos,u=Object(o.f)(n);if(Object(o.i)(s)&&s){var d=s.video_list,p=d[Object.keys(d)[0]];t=p&&p.duration}return function(){r.a.instance.dispatch(Object(i.b)({id:c,isPromoted:u,videoDuration:t,viewParameter:a,viewType:l,type:"pin"}))}}},mcMS:function(e,t,n){"use strict";function r(e){var t=e.m,n=void 0===t?0:t,r=e.h,i=void 0===r?0:r;return{m:n,h:i,rm:i>0?0:n,rh:i<=0?i:n>45?i+1:n>15?i+.5:i}}function i(e){var t=Math.floor(e/3600);return r({m:Math.floor(e%3600/60),h:t})}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i})},nI4G:function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;if(window._sendFacebookPixel)"NewOrRezUsers"===e||"MAU"===e?window._sendFacebookPixel("trackCustom",e):window._sendFacebookPixel("track",e),t();else if(n>0){var i=Math.floor(3e3/n);setTimeout(function(){r(e,t,n-1)},i)}}function i(e,t){return function(n){r(e,t),window.removeEventListener("load",i)}}function o(e,t){"complete"===document.readyState?r(e,t):window.addEventListener("load",i(e,t))}function a(){document.getElementById("facebookPixel")||("complete"===document.readyState&&function(){var e=function(e){var t=document.createElement("iframe");for(var n in e)t.setAttribute(n,e[n]);return t}({src:"https://"+location.hostname+"/fb.html",id:"facebookPixel",sandbox:"allow-scripts allow-same-origin",style:"display: none;"});if(!document.body)throw new Error("missing <body>");document.body.appendChild(e),e.contentWindow.addEventListener("load",function(){return window._sendFacebookPixel=e.contentWindow.fbq})}(),window.addEventListener("load",a))}n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a})},qQ1r:function(e,t,n){"use strict";t.a={green:"#0fa573",pine:"#0a6955",olive:"#364a4c",blue:"#4a90e2",navy:"#004b91",midnight:"#133a5e",purple:"#b469eb",orchid:"#8046a5",eggplant:"#5b2677",maroon:"#6e0f3c",watermelon:"#f13535",orange:"#e3780c",darkGray:"#333",gray:"#8e8e8e",lightGray:"#efefef",red:"#e60023",white:"#fff"}},rSK6:function(e,t,n){"use strict";var r=n("QJ2d"),i=n("JU/q");function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function(e){return e.length>32?"".concat(e.substring(0,32).trim(),"..."):e};t.a=function(e){var t=e.i18n,n=e.interpolateNamedTemplate,l=e.isContextMenuV2Exp;return{getLearnMoreUrl:function(e){switch(e){case 1:return r.a.settings.HELP_PROMOTED_PINS_RETARGETED_PIN_URL;case 2:case 3:return r.a.settings.HELP_PROMOTED_PINS_LOOKALIKE_TARGETING_URL;default:return r.a.settings.HELP_PROMOTED_PINS_URL}},getRecommendationDescription:function(e){var r=e.ad_match_reason,i=e.board,o=e.feedbackType,c=e.makeNavigateLink,s=e.pinner,u=e.promoter,d=e.recommendationReason,p=e.sourceInterest;switch(o){case"pfy":return l?t._("This Pin was inspired by your recent activity","Pin feedback reason"):t._("This Pin is inspired by your recent activity.","Pin feedback reason");case"pfyBoard":var f=d.board,m=f.name,y=c("navigation",f.url,m);return n(l?t._("This Pin was inspired by your board {{ boardLink }}","Pin feedback - inspired by your board"):t._("This Pin is inspired by your board {{ boardLink }}.","Pin feedback - inspired by your board"),{boardLink:y});case"topic":var h=p.name,b=p.url_name,g=c("topicUrl","/topics/".concat(b),h);return n(l?t._("This Pin was inspired by {{ formattedTopic }}","Pin feedback"):t._("You’re seeing this Pin because you follow the Topic {{ formattedTopic }}.","Pin feedback"),{formattedTopic:g});case"followed":var v="/".concat(s.username),_=c("boardUrl",i.url,a(i.name)),w=c("pinnerUrl",v,a(s.full_name));return l?s.explicitly_followed_by_me?n(t._("This Pin is from {{ formattedPinner }}, a profile you follow","Pin feedback"),{formattedPinner:w}):n(t._("This Pin is from {{ formattedBoard }}, a board you follow","Pin feedback"),{formattedBoard:_}):s.explicitly_followed_by_me?n(t._("You’re seeing this Pin because you follow {{ formattedPinner }}’s Board {{ formattedBoard }}.","Pin feedback"),{formattedPinner:w,formattedBoard:_}):n(t._("You’re seeing this Pin because you follow the Board {{ formattedBoard }}.","Pin feedback"),{formattedBoard:_});case"promoted":switch(r){case 1:case 2:case 3:return l?t._("This ad was personalized for you using info from one of our partners","Pin feedback"):t._("This ad was personalized for you using info from one of our partners.","Pin feedback");default:var E=u.full_name,O=u.username,T=c("promotedLink",O?"/"+O+"/":"/",E);return n(l?t._("{{ promoterLink }} paid to have this Pin show up where\n                you’d be more likely to notice it","Pin feedback"):t._("{{ promoterLink }} paid to have this Pin show up where\n                you’d be more likely to notice it.","Pin feedback"),{promoterLink:T})}default:return null}},getFeedbackType:function(e){var t=e.board,n=e.feedback,r=e.viewParameter,i=e.pin,o=i.promoter,a=i.is_downstream_promotion,l=i.recommendation_reason,c=e.pinner,s=n&&n.type;return o&&!a?"promoted":s||(l?"FOLLOWED_INTEREST"===l.reason?"topic":l.board?"pfyBoard":"pfy":t&&t.followed_by_me||c&&c.explicitly_followed_by_me?"followed":140===r||144===r||141===r||145===r||139===r||3173===r?"related":92===r?"default":3082===r?"newsHub":null)},getHidePinAction:function(e){var t,n,r=e.feedbackData,i=e.feedbackType,a=e.pinId,l=e.recommendationReasonId,c=e.pinFeedbackType,s=e.complaintReason,u=e.throughId,d="promoted"===i;switch(i){case"promoted":t="promotedComplaint";break;case"search":t="unrelatedSearchPin";break;case"related":t="relatedPinHide";break;case"newsHub":t="newsHubPinHide";break;default:t="complaint"}switch(i){case"search":n={query:r.query,pin_id:a};break;case"related":n={pin:a};break;case"newsHub":n={pinId:a,newsId:r.newsId};break;default:n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}({complaint_reason:s||0,pin_id:a},l?{recommendation_reason_id:l}:{},{feedback_type:c||1,promoted:d},u?{through_id:u}:{})}return{action:t,actionOptions:n}},getUnfollowAction:function(e){var r=e.board,o=e.feedbackType,a=e.makeNavigateLink,c=e.pinner,s=e.sourceInterest;if("topic"===o){if(s){var u=s.id,d=s.name,p=s.url_name,f=a("topicUrl","/topics/".concat(p),d,!0);return{action:"unfollowTopic",actionOptions:{interest_id:u,interest_list:i.a},title:l?"":t._("Unfollowed","Title shown when unfollowing a certain topic / pin / board"),subTitle:n(l?t._("We'll show you less Pins from {{ formattedTopic }} in the future.","Confirmation text after unfollowing a topic"):t._("You’ve unfollowed {{ formattedTopic }}. You can follow it again by searching for it.","Confirmation text after unfollowing a topic"),{formattedTopic:f})}}}else if("followed"===o){var m=r||{},y=m.id,h=m.name,b=m.url,g=c.explicitly_followed_by_me,v=c.full_name,_=c.username,w="/".concat(_);if(r&&c){var E=a("boardUrl",b,h,!0),O=a("pinnerUrl",w,v,!0),T=g?n(t._("You’ve unfollowed {{ formattedPinner }}’s Board {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board"),{formattedPinner:O,formattedBoard:E}):n(t._("You’ve unfollowed {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board"),{formattedBoard:E});return l&&(T=g?n(t._("You unfollowed {{ formattedPinner }} and won’t see Pins they save anymore.","Confirmation text after unfollowing a user"),{formattedPinner:O}):n(t._("You unfollowed the board {{ formattedBoard }} and won’t see Pins saved to it anymore.","Confirmation text after unfollowing a board"),{formattedBoard:E})),{action:"unfollowBoard",actionOptions:{board_id:y},title:l?"":t._("Unfollowed","Title shown when unfollowing a certain topic / pin / board"),subTitle:T}}}return null}}}},rUah:function(e,t,n){"use strict";function r(e){return{type:"REPORT_CONTENT_SHOW",payload:{id:e.id,isPromoted:e.isPromoted,videoDuration:e.videoDuration,viewParameter:e.viewParameter,viewType:e.viewType,type:e.type}}}function i(){return{type:"REPORT_CONTENT_DISMISS"}}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i})},vl7u:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"g",function(){return a}),n.d(t,"e",function(){return l}),n.d(t,"d",function(){return c}),n.d(t,"f",function(){return u}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return p});var r=n("D+W/"),i=n("q579"),o={AUTO_COMPLETE_DEFAULT:"query",AUTO_COMPLETE_HASHTAG:"hashtag",AUTO_COMPLETE_RECENT_SEARCH:"recent_query",AUTO_COMPLETE_RECOMMENDED_SEARCH:"recommended_query",AUTO_COMPLETE_TRENDING:"trending",TYPO_AUTO_CORRECT_ORIGINAL:"typo_auto_original",USER_INPUT:"typed",SEARCH_GUIDE:"add_refine"};function a(e){return(e||"").trim().replace(/\s+/g," ")}function l(e){var t=e.type,n=e.term,r=void 0===n?"":n,i=e.index;switch(t){case o.USER_INPUT:case o.AUTO_COMPLETE_HASHTAG:case o.TYPO_AUTO_CORRECT_ORIGINAL:return"".concat(r,"|").concat(t);case o.AUTO_COMPLETE_DEFAULT:return"".concat(r,"|autocomplete|").concat(i);case o.AUTO_COMPLETE_RECENT_SEARCH:return"".concat(r,"|recentsearch|").concat(i);case o.AUTO_COMPLETE_TRENDING:return"".concat(r,"|trending|").concat(i);case o.AUTO_COMPLETE_RECOMMENDED_SEARCH:return"".concat(r,"|recommended|").concat(i);case o.SEARCH_GUIDE:return"".concat(r,"|guide|word|").concat(i);default:return""}}function c(e){var t=e.queryStates;return 0===t.length?"":"&"+i.a.getQueryStringFromObject({term_meta:t.map(function(e){return l(e)})})}function s(e){if(e){var t=e.trim().split(/\s+/);return t.find(function(e){return r.a.SEARCH_FILTER_CONJUNCTIONS.includes(e.toLowerCase())})?[e]:t}return[]}function u(e){var t=e.type,n=e.query,r=void 0===n?"":n,i=e.index;switch(t){case o.USER_INPUT:case o.AUTO_COMPLETE_HASHTAG:case o.TYPO_AUTO_CORRECT_ORIGINAL:return s(r).map(function(e){return{index:i,term:e,type:t}});case o.AUTO_COMPLETE_RECENT_SEARCH:case o.AUTO_COMPLETE_RECOMMENDED_SEARCH:case o.AUTO_COMPLETE_TRENDING:case o.AUTO_COMPLETE_DEFAULT:return s(r).map(function(e){return{term:e,type:t,index:i}});default:return[]}}function d(e){var t=e.query,n=e.rs,r=e.scope,o=e.guideAdded,a=e.filters,l=e.termMeta;if(!t)return"/";var c={q:t,rs:n,term_meta:l};if(a&&(c.filters=a),o&&o.term&&(c.add_refine="".concat(o.term,"|guide|word|").concat(o.index)),window.location.pathname.startsWith("/explore"))return"/search/pins/?".concat(i.a.getQueryStringFromObject(c));var s=r;return["pins","buyable_pins","my_pins","boards","users"].includes(s)||(s="pins"),s?"/search/".concat(s,"/?").concat(i.a.getQueryStringFromObject(c)):"".concat(window.location.pathname,"?").concat(i.a.getQueryStringFromObject(c))}function p(e,t,n,r){var o=i.a.getQueryStringParams();o.add_refine&&(o["term_meta[]"]?o["term_meta[]"].push(o.add_refine):o["term_meta[]"]=[o.add_refine]);var a=o["term_meta[]"];return d({query:e,rs:r,termMeta:"string"==typeof a?[a]:a,guideAdded:{term:t,index:n}})}},wHKh:function(e,t,n){"use strict";n.d(t,"n",function(){return a}),n.d(t,"l",function(){return l}),n.d(t,"m",function(){return s}),n.d(t,"b",function(){return u}),n.d(t,"g",function(){return d}),n.d(t,"o",function(){return m}),n.d(t,"h",function(){return b}),n.d(t,"q",function(){return g}),n.d(t,"a",function(){return v}),n.d(t,"i",function(){return _}),n.d(t,"p",function(){return w}),n.d(t,"d",function(){return O}),n.d(t,"k",function(){return T}),n.d(t,"j",function(){return P}),n.d(t,"c",function(){return S}),n.d(t,"e",function(){return C}),n.d(t,"f",function(){return I});n("Qo1m"),n("VSY/");var r=n("3KWM"),i=n("hX7C");function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var a=function(e,t){var n=e&&e.url?e.url.split("/")[1]:"";return t&&t.full_name&&(n=t.full_name),n},l=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{seeMoreButtonHeight:15,seeMoreButtonBottomMargin:3,vaseCarouselHeight:30,descriptionLineHeight:17,descriptionVerticalMargin:10,maxNumTitleLines:1,maxNumDescriptionLines:2}},c=function(e){return"ja"===e?23:19},s=function(e,t){return c(e)*l(t).maxNumTitleLines},u=function(e,t,n){var r=0;if(e){var i=27;"ja"===t&&(i=14);var o=l(n).maxNumTitleLines;(r=Math.floor(e.length/i)+1)>o&&(r=o)}return r},d=function(e){var t=function(e){var t=e.place_summary,n=e.rich_summary,r=n&&"mobile application"!==n.type_name;return{hasRichSummary:r,hasRichAttributionTitle:r&&n.display_name,hasPlaceInfo:!!t}}(e),n=t.hasRichAttributionTitle,r=t.hasPlaceInfo;return n?function(e){var t=e.rich_summary,n=t.apple_touch_icon_images,r=t.favicon_images;return r=r||{},{faviconLink:(n=n||{})["50x"]||r["50x"]||n.orig||r.orig,siteName:t.site_name||e.domain,title:t.display_name}}(e).title:r?function(e){var t=e.place_summary;return{faviconLink:t.source_icon,siteName:t.source_name||e.domain,title:t.name}}(e).title:e.rich_metadata&&e.rich_metadata.title?e.rich_metadata.title:null},p=function(e,t,n){return function(e,t,n){if(e){var r=u(e,t,n);return c(t)*r}return 0}(d(e),t.locale,n)+8},f=function(e){return e.visual_descriptions&&e.visual_descriptions.length>0?e.visual_descriptions:e.i18n_visual_descriptions&&e.i18n_visual_descriptions.length>0?e.i18n_visual_descriptions:void 0},m=function(e){var t=function(e){var t=e.rich_summary,n=t&&"mobile application"!==t.type_name;return{hasRichSummary:n,hasRichAttributionTitle:n&&t.display_name,hasPlaceInfo:!!e.place_summary}}(e),n=t.hasRichAttributionTitle,r=t.hasPlaceInfo;return!(!n&&!r)||!(!e.rich_metadata||!e.rich_metadata.title)},y=function(e){return e.rich_summary&&e.rich_summary.display_name||e.place_summary&&e.place_summary.name||""},h=function(e){var t=e.pin_join||{},n=t.visual_annotation||[],r=f(t)||[],a=e.description||"",l=(e.rich_metadata||{}).description||"",c=n.map(function(e){return(t.annotations_with_links||{})[e]||{name:e,url:""}}),s=y(e).toLocaleLowerCase().trim(),u=a.toLocaleLowerCase().trim(),d=l.toLocaleLowerCase().trim(),p=r.length>0?r[0].toLocaleLowerCase().trim():"";return l&&l.length>3&&d!==s?(u!==d&&u!==p&&(r=o(r).concat([a])),a=l):r.length>0&&r[0].length>=3&&p!==s?(a&&a.length>3&&u!==s&&u!==p&&(r=o(r).concat([a])),a=r[0],r.shift()):(!a||a.length<3||u===s)&&(n.length?(a=n.join(", "),n=[]):a=""),a&&(a=Object(i.a)(Object(i.b)(a,496)).trim()),{description:a,vaseAnnotations:n,vaseDescriptions:r,annotationsWithLinks:c}},b=function(e,t,n){if("pin"===n)return h(e);if("board"===n&&(t&&t.v2ActivateExperiment("meta_pin_title_description_board")||"").startsWith("enabled"))return h(e);return function(e){var t=e.pin_join||{},n=t.visual_annotation||[],r=f(t)||[],a=e.description||"",l=n.map(function(e){return(t.annotations_with_links||{})[e]||{name:e,url:""}}),c=y(e).toLocaleLowerCase().trim(),s=a.toLocaleLowerCase().trim(),u=r.length>0&&r[0].toLocaleLowerCase().trim()===c,d=s===c;return r.length>0&&r[0].length>=3&&!u?!a||a.length<3||d?(a=r[0],r=r.slice(1)):a=(r=o(r).concat([a])).shift():(!a||a.length<3||d)&&(n.length?(a=n.join(", "),n=[]):a=""),a&&(a=Object(i.a)(Object(i.b)(a,496)).trim()),{description:a,vaseAnnotations:n,vaseDescriptions:r,annotationsWithLinks:l}}(e)},g=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t&&t.length>0&&!e.userAgent.isMobile&&!r},v=function(e,t){var n=0;if(e){e=Object(i.a)(e);var r=l(t).maxNumDescriptionLines;(n=Math.floor(e.length/35)+1)>r&&(n=r)}return n},_=function(e,t){var n=l(t);return n.descriptionLineHeight*n.maxNumDescriptionLines},w=function(e,t,n,r,i,o){var a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(!r)return null;if(a){var l=g(i,n,o);return e&&e.length>0||i.userAgent.isMobile&&t||!l&&n&&n.length>0}return!1},E=function(e,t,n,r){arguments.length>4&&void 0!==arguments[4]&&arguments[4];var i=0,o=b(e,n,t.pageType),a=o.description,c=o.vaseAnnotations,s=o.vaseDescriptions,u=l(n);if(w(s,a,c,e,t,n)&&(i+=u.seeMoreButtonHeight,i+=u.seeMoreButtonBottomMargin),g(t,c,n,r)&&(i+=u.vaseCarouselHeight),!r){var d=v(a,n);i+=u.descriptionVerticalMargin+u.descriptionLineHeight*d}(e.pinner&&e.board&&(i+=28),e.expandedVASE)&&(s&&s.length>0&&(i+=function(e,t,n){var r=b(e,t,n).vaseDescriptions,i=0;return r&&r.length>0&&r.forEach(function(e,t){i+=Math.ceil(e.length/49)}),11*i+5*r.length}(e,n,t.pageType)));return i},O=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",a=m(e)?p(e,t,n):0,l=r?0:E(e,t,n,i,o);return a||l?l+a+10:0},T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"orig",n=["orig","736x","564x","474x","236x","170x"],r=e.images[t];if(r)return r;var i=n.indexOf(t);if(i>=0)for(var o=i+1;o<n.length;o+=1){var a=n[o];if(r=e.images[a])return r}return e.images["236x"]};function P(e){if(e.embed&&"gif"===e.embed.type)return e.embed.src;if(e.images){var t=e.images,n=Object.keys(t).map(function(e){var n=e.split("x")[0];return Number.isNaN(Number(n))?e:(t[n]=t[e],n)});n.sort();var r=n.pop();return t[r].url}return e.image_large_url||""}var S=function(e,t){if(!e||!e.images||!e.images["236x"])return 0;var n=e.images["236x"].height,i=n<t?n:t,o=600;n>600&&!e.fullImage&&(o=500);var a=T(e,"orig");if(a){var l=Math.floor(a.height*r.e/a.width);i=l>o?o:l}return i},C=function(e){var t={relatedKlpPillHeight:38,pillMargin:12,storyTitleHeight:17,storyTitleBottomMargin:18,maxRelatedInterests:6},n=Math.min(e,t.maxRelatedInterests);return n*t.relatedKlpPillHeight+(n-1)*t.pillMargin+t.storyTitleHeight+t.storyTitleBottomMargin},I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,n=[];if(e.length>0)for(var r=new Set,i=0;n.length<t&&i<e.length;){var o=e[i];o.images&&(!o.link||o.link&&!r.has(o.link))&&(n.push(o),r.add(o.link)),i+=1}return n}},xP02:function(e,t,n){"use strict";var r=n("GyhR"),i=n.n(r),o=n("Qo1m"),a=n("+U6O");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={gradient:{__style:{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.43) 0%, rgba(0,0,0,0) 60%)"}},placeholder:{__style:{opacity:.5}}},y=function(e){function t(){var e,n,r,s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var d=arguments.length,m=new Array(d),y=0;y<d;y++)m[y]=arguments[y];return r=this,s=(e=u(t)).call.apply(e,[this].concat(m)),n=!s||"object"!==l(s)&&"function"!=typeof s?p(r):s,f(p(p(n)),"state",{isLoaded:[!1,!1,!1],isMounted:!1}),f(p(p(n)),"getImageArray",function(){var e=n.props,t=e.userPins,r=e.showcase,i=[];return t&&0!==t.length?(r&&0!==r.length?r&&1===r.length?i=r.filter(function(e){return"board"===e.type})[0].images["550x"].map(function(e){return e.url}):r&&(i=r.filter(function(e){return"board"===e.type}).map(function(e){return e.image_cover_url})):i=t.map(function(e){return(e.images["136x136"]||e.images["236x"]||e.images["736x"]).url}),i):i}),f(p(p(n)),"getImage",function(e,t){var r={transition:"opacity 500ms",opacity:n.state.isLoaded[t]?1:0};return i.a.createElement(a.b,{dangerouslySetInlineStyle:{__style:r},color:"white",height:"100%",width:"100%"},!!e&&i.a.createElement(a.p,{naturalHeight:1,src:e,fit:"cover",alt:o.a._("user's pin","image of one of a user's pins"),naturalWidth:1,color:"lightGray",onLoad:function(){return n.handleLoad(t)}}))}),f(p(p(n)),"handleLoad",function(e){var t=n.state,r=t.isLoaded,i=t.isMounted,o=c(r);o[e]=!0,i&&n.setState({isLoaded:o})}),n}var n,y,h;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,r["PureComponent"]),n=t,(y=[{key:"componentDidMount",value:function(){this.setState({isMounted:!0}),this.getImageArray()}},{key:"render",value:function(){var e=this.getImageArray(),t=null;return t=1===e.length?i.a.createElement(a.b,{height:"100%",display:"flex",direction:"row"},this.getImage(e[0],0)):2===e.length?i.a.createElement(a.b,{height:"100%",display:"flex",direction:"row"},this.getImage(e[0],0),i.a.createElement(a.b,{color:"white",width:"1px",flex:"none"}),this.getImage(e[1],1)):i.a.createElement(a.b,{height:"100%",width:"100%",display:"flex",direction:"row"},i.a.createElement(a.b,{height:"100%",flex:"grow"},this.getImage(e[0],0)),i.a.createElement(a.b,{color:"white",width:"2px",flex:"none"}),i.a.createElement(a.b,{display:"flex",height:136,direction:"column",flex:"grow"},i.a.createElement(a.b,{width:"100%",flex:"grow"},this.getImage(e[1],1)),i.a.createElement(a.b,{color:"white",height:"2px",flex:"none"}),i.a.createElement(a.b,{width:"100%",flex:"grow"},this.getImage(e[2],2)))),i.a.createElement(a.b,{height:136,width:"100%",position:"relative"},i.a.createElement(a.b,{height:"100%",width:"100%",display:"flex",direction:"row",position:"absolute",top:!0,left:!0},i.a.createElement(a.b,{dangerouslySetInlineStyle:m.placeholder,color:"midnight",height:"100%",flex:"grow"}),i.a.createElement(a.b,{color:"white",width:"2px",flex:"none"}),i.a.createElement(a.b,{display:"flex",height:136,direction:"column",flex:"grow"},i.a.createElement(a.b,{dangerouslySetInlineStyle:m.placeholder,color:"olive",width:"100%",flex:"grow"}),i.a.createElement(a.b,{color:"white",height:"2px",flex:"none"}),i.a.createElement(a.b,{dangerouslySetInlineStyle:m.placeholder,color:"maroon",width:"100%",flex:"grow"}))),t,i.a.createElement(a.b,{dangerouslySetInlineStyle:m.gradient,height:"100%",width:"100%",position:"absolute",top:!0,left:!0}))}}])&&s(n.prototype,y),h&&s(n,h),t}(),h=n("iJ35"),b=n("NmcB");function g(e,t){Object(b.a)(101,{view:e,viewParameter:t,component:13406,element:11373})}var v=function(e){var t=e.userFullName,n=e.isVerified,r=e.avatarUrl,o=e.url,l=e.viewType,c=e.viewParameter;return i.a.createElement(a.b,{dangerouslySetInlineStyle:{__style:{marginTop:-64,border:"2px white solid",zIndex:1}},display:"flex",alignItems:"center",shape:"circle"},i.a.createElement(a.b,{flex:"none",width:86,height:86},i.a.createElement(h.b,{to:o,stopPropagation:!0,onClick:g(l,c)},i.a.createElement(a.a,{src:r,name:t,verified:n}))))},_=n("LCmp"),w=n("b7z0");function E(e){var t=e.text,n=e.singleLineMaxCharacters,r=e.isTitle,o=e.numLines*n,a=Object(_.a)(t,o);return r?i.a.createElement(w.b,{align:"center",overflow:"normal",size:"md",weight:"semibold"},a):i.a.createElement(w.b,{align:"center",overflow:"normal",size:"sm",weight:"normal",color:"gray"},a)}var O=18,T=34;function P(e){var t=e.userFullName,n=e.description,r=e.domainUrl,o=n||r,l={placeholder:{__style:{transition:"opacity 200ms",opacity:o?0:1}},subtitle:{__style:{transition:"opacity 200ms",opacity:o?1:0}}};return i.a.createElement(a.b,{position:"relative",width:"100%",marginTop:3,marginBottom:3,alignItems:"center",display:"flex",direction:"column"},i.a.createElement(a.b,{height:O,width:"100%"},i.a.createElement(w.b,{align:"center",truncate:!0,size:"md",weight:"semibold"},t)),i.a.createElement(a.b,{position:"relative",overflow:"hidden",marginTop:2,height:T,width:"100%"},i.a.createElement(a.b,{dangerouslySetInlineStyle:l.placeholder,position:"absolute",top:!0,left:!0,display:"flex",direction:"column",height:"100%",width:"100%",alignItems:"center"},i.a.createElement(a.b,{color:"lightGray",shape:"pill",width:180,flex:"grow"}),i.a.createElement(a.b,{height:6,flex:"none"}),i.a.createElement(a.b,{color:"lightGray",shape:"pill",width:140,flex:"grow"})),!!o&&i.a.createElement(a.b,{dangerouslySetInlineStyle:l.subtitle,width:"100%",height:"100%"},i.a.createElement(E,{text:o,numLines:2,singleLineMaxCharacters:27}))))}var S=n("Ivf5"),C=n("z/1d"),I=n("Irlq");function k(e){var t=e.followText,n=e.followerCount,r=e.userFollowed;return e.showFollowers?Object(I.b)(o.a._("{{ followCount }} {{ followText }}"),{followCount:i.a.createElement(a.b,{"data-test-id":"followCount",key:"followCount",dangerouslySetInlineStyle:{__style:r?null:{opacity:.75}},marginRight:2},i.a.createElement(w.b,{color:r?"gray":"white",size:"md",align:"center",weight:"semibold"},i.a.createElement(C.a,{value:n||0,shortform:!0,shortformMaximumFractionDigits:0}))),followText:i.a.createElement(a.b,{"data-test-id":"followText",key:"followText"},i.a.createElement(w.b,{weight:"bold",color:r?"darkGray":"white",size:"md",overflow:"normal",align:"center"},t))}):i.a.createElement(a.b,{"data-test-id":"followText",key:"followText"},i.a.createElement(w.b,{weight:"semibold",color:r?"darkGray":"white",size:"md",overflow:"normal",align:"center"},t))}var x=n("KCDi"),j=n("KsVg"),R=n("9Y9K"),A=n("Ii6Q");function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,c=new Array(l),s=0;s<l;s++)c[s]=arguments[s];return r=this,a=(e=M(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==L(a)&&"function"!=typeof a?N(r):a,U(N(N(n)),"handleClick",function(){var e=n.props,t=e.userFollowed,r=e.viewType,i=e.viewParameter;t?(n.unfollow(),Object(b.a)(46,{view:r,viewParameter:i,component:13406,element:11372})):(n.follow(),Object(b.a)(45,{view:r,viewParameter:i,component:13406,element:11372}))}),U(N(N(n)),"follow",function(){var e=n.props;(0,e.follow)(e.id),n.showConfirmation()}),U(N(N(n)),"showConfirmation",function(){var e=n.props,t=e.fullName,r=e.imageUrl,a=e.profileUrl,l=e.showToast;(0,e.hideAllToasts)(),l(function(e){var n=e.onHide;return i.a.createElement(x.a,{onHide:n,text:[o.a._("Now following","text that comes before a board/user name in toast"),t],href:a,imageUrl:r})})}),U(N(N(n)),"unfollow",function(){var e=n.props,t=e.id;(0,e.unfollow)(t)}),n}var n,l,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(t,r["PureComponent"]),n=t,(l=[{key:"render",value:function(){var e=this.props,t=e.followerCount,n=e.showFollowerCount,r=e.userFollowed,l=n&&0!==t,c=this.props.userFollowed?o.a._("Following","User follow button"):o.a._("Follow","User follow button");return i.a.createElement(a.b,{position:"relative",display:"flex",width:"100%",alignItems:"center",justifyContent:"center"},i.a.createElement(a.P,{onTouch:this.handleClick,shape:"pill"},i.a.createElement(a.b,{color:r?"lightGray":"red",paddingX:6,paddingY:4,display:"flex",direction:"row",alignItems:"center",justifyContent:"center",shape:"pill"},i.a.createElement(k,{followerCount:t,userFollowed:r,followText:c,showFollowers:l}))))}}])&&D(n.prototype,l),c&&D(n,c),t}(),V=Object(R.compose)(j.a,Object(S.connect)(function(e,t){var n=t.id,r=(e.users||{})[n];return{userFollowed:!!r&&r.explicitly_followed_by_me}},function(e){return{follow:function(t){return e(Object(A.a)(t))},unfollow:function(t){return e(Object(A.b)(t))}}}))(H);function F(e){var t=e.avatarUrl,n=e.userFullName,r=e.isCreator,o=e.followerCount,l=e.id,c=e.domainUrl,s=e.description,u=e.username,d=e.viewType,p=e.viewParameter,f=e.isVerified,m=function(e){return"/".concat(e)}(u);return i.a.createElement(a.b,{display:"flex",direction:"column",alignItems:"center",paddingX:6,paddingY:4,marginTop:2,width:"100%"},i.a.createElement(v,{isVerified:f,avatarUrl:t,userFullName:n,viewType:d,viewParameter:p,url:m}),i.a.createElement(P,{userFullName:n,domainUrl:c,description:s}),i.a.createElement(a.b,{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},i.a.createElement(V,{fullName:n,imageUrl:t,profileUrl:m,showFollowerCount:r,followerCount:o,id:l})))}var z=n("dsfX"),G=236,W=24;function Y(e){var t=e.anchor,n=e.children;if(!t)return null;var r=t.getBoundingClientRect(),o=r.left,l=r.top,c=r.width,s=r.height,u=o+window.pageXOffset,d=l+window.pageYOffset,p=u+c+G+W/2>window.innerWidth,f={left:p?u:u+c,top:d+s/2,zIndex:z.a},m={borderRadius:21,boxShadow:"0 9px 26px rgba(0, 0, 0, 0.4)",left:p?-W/2-G:W/2,top:-G/2-44},y={top:-W/2,left:-W/2,fill:"white"},h=p?"M0 0 L12 12 L0 24":"M24 0 L12 12 L24 24";return i.a.createElement(a.b,{position:"absolute",dangerouslySetInlineStyle:{__style:f}},i.a.createElement(a.b,{position:"absolute",color:"white",dangerouslySetInlineStyle:{__style:m},width:G,overflow:"hidden"},n),i.a.createElement(a.b,{position:"absolute",dangerouslySetInlineStyle:{__style:y}},i.a.createElement("svg",{width:W,height:W},i.a.createElement("path",{d:h}))))}var q=n("ePT2"),K=n("IGno"),Q=n("kIql"),X=n("k9eC"),J=n("2YES");function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ie(e,t,n[t])})}return e}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oe=300,ae=150,le=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=te(t).call(this,e),n=!o||"object"!==Z(o)&&"function"!=typeof o?re(r):o,ie(re(re(n)),"anchorRef",i.a.createRef()),ie(re(re(n)),"loadUser",function(){var e=n.props.username,t=n.state.isMounted;e&&(q.a.create("UserResource",{username:e,field_set_key:"profile"}).callGet().then(function(e){t&&n.setState({detailedUser:e.resource_response.data})}),q.a.create("UserPinsResource",{username:e,page_size:3,field_set_key:"grid_item",isPrefetch:!1}).callGet().then(function(e){t&&n.setState({userPins:e.resource_response.data})}),q.a.create("ShowcaseResource",{username:e,page_size:2,isPrefetch:!1}).callGet().then(function(e){t&&n.setState({showcase:e.resource_response.data})}),t&&n.setState({isLoaded:!0}))}),ie(re(re(n)),"handleScroll",function(){clearTimeout(n.openTimeout),n.state.isMounted&&(n.setState({isVisible:!1}),n.forceUpdate())}),ie(re(re(n)),"timeoutDismiss",function(){n.dismissTimeout=setTimeout(function(){n.state.isMounted&&(n.setState({isHovering:!1,isVisible:!1}),clearTimeout(n.openTimeout))},ae)}),ie(re(re(n)),"handleDisplayCard",function(){var e=n.props,t=e.isDarkPromoter,r=e.pinId,i=e.requestContext,o=e.viewParameter,a=n.state,l=a.currentPinId,c=a.isLoaded,s=a.isMounted;clearTimeout(n.openTimeout),clearTimeout(n.dismissTimeout),r&&l!==r&&n.forceUpdate(),r&&n.setState({isHovering:!0,currentPinId:r});var u=new X.b(i,"web_avatar_hover_cards_v2");156!==o&&0!==o||t||!u.check("enabled")?s&&n.setState({isVisible:!1}):(c||n.loadUser(),n.openTimeout=setTimeout(function(){s&&n.setState({isVisible:!0})},oe))}),ie(re(re(n)),"handleHideCard",function(){n.timeoutDismiss()}),n.state={currentPinId:e.pinId,detailedUser:null,isHovering:!1,isMounted:!1,isLoaded:!1,isVisible:!1,showcase:null,user:null,userPins:null},n}var n,o,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(t,r["PureComponent"]),n=t,l=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.user,r=t.detailedUser;return{user:$({},Boolean(n)?n:{},Boolean(r)?r:{})}}}],(o=[{key:"componentDidMount",value:function(){this.setState({isMounted:!0}),window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){this.setState({isMounted:!1}),clearTimeout(this.openTimeout),clearTimeout(this.dismissTimeout),window.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e=this.props,t=e.avatarSize,n=e.children,r=e.username,o=e.viewer,l=e.viewParameter,c=e.viewType,s=this.state,u=s.isVisible,d=s.showcase,p=s.user,f=s.userPins,m=p||{},h=m.about,b=m.domain_url,g=m.follower_count,v=m.full_name,_=m.id,w=m.image_medium_url,E=m.show_creator_profile,O=m.verified_identity,T=o.id===_,P=!!O&&O.verified;return i.a.createElement(a.b,{onMouseOver:this.handleDisplayCard,onFocus:this.handleDisplayCard,onMouseLeave:this.handleHideCard},i.a.createElement(a.b,{marginLeft:-2,marginRight:-2,paddingX:2,position:"relative"},i.a.createElement(a.b,{height:t,left:!0,marginLeft:2,position:"absolute",ref:this.anchorRef,top:!0,width:t}),n),!T&&!!p&&!!r&&u&&i.a.createElement(a.b,null,i.a.createElement(K.a,null,i.a.createElement(a.r,null,i.a.createElement(Y,{anchor:this.anchorRef.current},i.a.createElement(a.b,{color:"white",dangerouslySetInlineStyle:{__style:{zIndex:z.a}},onFocus:this.handleDisplayCard,onMouseOver:this.handleDisplayCard,onMouseLeave:this.handleHideCard,position:"relative",width:"100%"},i.a.createElement(a.b,{width:"100%"},i.a.createElement(y,{userPins:f,showcase:d}),i.a.createElement(F,{avatarUrl:w,description:h,domainUrl:b,followerCount:g,id:_,isCreator:E,isVerified:P,userFullName:v,username:r,viewParameter:l,viewType:c}))))))))}}])&&ee(n.prototype,o),l&&ee(n,l),t}();t.a=Object(R.compose)(J.e,Q.a)(le)}}]);
//# sourceMappingURL=pjs-1-ea6f19ca1cba39ca2262.js.map
