(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["CreativeEditorPageDesktop~ExperiencesAfterHomefeed~ExperiencesBeforeHomefeed~LaunchpadPage~PinAnalyt~5f44890f"],{"2rhI":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return s}),n.d(t,"c",function(){return l});var r=n("hvnN"),o=n.n(r),a=n("QJ2d"),i={FACEBOOK:"facebook",GOOGLE_ONE_TAP:"google_one_tap",GOOGLE:"google",EMAIL:"email",OTHER:"other"},c=function(e){return e.facebook_id?i.FACEBOOK:e.google_open_id_token?i.GOOGLE_ONE_TAP:e.gplus_code||e.gplus_id_token?i.GOOGLE:e.email?i.EMAIL:i.OTHER},s=(o.a.shape({credentials:o.a.shape({}),userData:o.a.shape({}),type:o.a.oneOf(Object.values(i))}),function(e){return e in a.a.settings.MINIMUM_AGE_BY_EU_COUNTRY}),l=function(e){return a.a.settings.EN_COUNTRIES_WITH_MANDATORY_AGE.includes(e)}},"3nbW":function(e,t,n){"use strict";var r=n("f5ca"),o=n("D+W/"),a=n("oFGA"),i=n("/YZq"),c=n("ePT2"),s=n("ggpB"),l=new Map([[1,"INVALID_PARAMETERS"],[100,"INVALID_NETWORK_ACCESS_TOKEN"],[105,"FACEBOOK_ACCOUNT_NOT_LINKED"],[12,"API_SERVER_ERROR"],[1202,"LOGIN_MFA_TOKEN_INVALID"],[1203,"MFA_CONNECTION_ERROR"],[13,"API_DOWN"],[181,"GPLUS_CONNECTION_ERROR"],[14,"API_SERVER_SPAM_CONTENT"],[16,"API_REQUEST_TIMEOUT"],[50,"API_ERROR_PIN_NOT_FOUND"],[77,"INVALID_PASSWORD_FB_USER"],[78,"INVALID_PASSWORD_ERROR_CODE"],[79,"INVALID_EMAIL_ERROR_CODE"],[80,"INVALID_EMAIL_OR_PASSWORD"],[82,"LOGIN_DEACTIVATED_USER"],[83,"LOGIN_POLICY_VIOLATION_USER"],[85,"AUTO_PASSWORD_RESET_ERROR_CODE"],[86,"LOGIN_PANICKED_USER"],[87,"LOGIN_SOFT_BANNED_USER"],[93,"API_ERROR_UNDERAGE_REGISTER_ATTEMPT"],[99,"LOGIN_PASSWORD_NOT_CREATED"],[8,"API_LIMIT_EXCEEDED_ERROR"],[9,"API_EVENT_BLOCKED_ERROR"],[19,"USER_IN_SAFE_MODE"],[84,"LOGIN_VOLUNTARILY_DEACTIVATED_USER"],[85,"LOGIN_BAD_PASSWORD_ASK_RESET"],[1201,"LOGIN_MFA_REQUIRED"],[30,"LOGIN_USER_NOT_FOUND"],[88,"LOGIN_HARD_BANNED_USER"],[429,"RESPONSE_CODE_TOO_MANY_REQUESTS"]]);function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unknown_source",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e){var a=e.http_status===o.a.RESPONSE_CODE_TOO_MANY_REQUESTS?o.a.RESPONSE_CODE_TOO_MANY_REQUESTS:e.api_error_code,i=a;l.has(a)&&(i=l.get(a));var c=t.container;r?Object(s.a)("unauth_web_client_cctld_login_api_error.".concat(String(i),".").concat(c||"unknow_container",".").concat(n)):Object(s.a)("unauth_web_client_login_api_error.".concat(String(i),".").concat(c||"unknow_container",".").concat(n))}}var d=n("DU5A"),p=n("2rhI");function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=i.a.getLogger("UserLogin"),b=i.a.getLogger("AuthHandshake"),h=function(e){return e.mfa_token?"mfa_token":e.mfa_resend?"mfa_resend":e.facebook_id?p.a.FACEBOOK:e.google_open_id_token?p.a.GOOGLE_ONE_TAP:e.gplus_id_token?p.a.GOOGLE:e.phone_number?"phone_number":e.username_or_email?p.a.EMAIL:p.a.OTHER},g=function(e,t){var n="referrer_unknown";try{var r=document.referrer;n=r?r.indexOf("/t.co/")>-1?"twitter":r.indexOf("google.")>-1?"google":r.indexOf("bing.")>-1?"bing":r.indexOf("facebook.")>-1?"facebook":"other":"direct"}catch(e){}var o=h(e),a=t===Object(t)?t.hybridTier:"tier_unknown",i=t===Object(t)?t.container:"container_unknown";Object(s.a)("login.referrer."+n+"."+o),Object(s.a)("login.container."+i+"."+o),Object(s.a)("login.type."+o);var c=h(e)||"method_unknown",l=t.page||"page_unknown";e.gplus_autologin?Object(s.a)("web_autologin_google"):e.facebook_autologin?Object(s.a)("web_autologin_facebook"):Object(s.a)("web_login.".concat(c,".success.").concat(l,".").concat(i,".").concat(n,".").concat(a))},y=function(e,t){Object(s.a)("web_cross_domain_login.".concat(e,".").concat(h(t)))};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3]),i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0;if(function(e){return!e.mfa_resend&&!!e.username_or_email}(e)&&-1!==o.a.GEN.templateConst.settings.CORS_HANDSHAKE_DOMAINS.indexOf(a.a.instance.origin))return function(e,t){return y("attempt",e),r.default.loginUser(e).then(function(n){if(n&&n.data){y("success_with_token",e);var o=n.data;return r.default.exchangeTokenAndSetSession(o).then(function(n){return y("success_token_exchanged",e),g(e,t),b.debug("Cross domain login successful"),Promise.resolve()},function(t){throw y("success_token_not_exchanged",e),b.error("Failed to set session for current user; "+t.message),t})}throw y("success_without_token",e),b.error("No custom access token in cross domain login response"),new Error},function(n){throw y("failure",e),u(n,t,h(e),!0),b.error("Failed to login user; "+n.message),n})}(e,t);e.switch_account&&(e.get_user=!!n||e.get_user);var p=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){f(e,t,n[t])})}return e}({},e,{app_type_from_client:5,visited_pages_before_login:null,recaptchaToken:s,tokenV3:l});i&&(p.visited_pages_before_login=JSON.stringify(i));return c.a.create("UserSessionResource",p).callCreate({showError:!1,async:!0}).then(function(n){return m.debug("Login, successful",n),g(e,t),Object(d.f)(!1),n},function(n){return u(n,t,h(e)),Promise.reject(n)})}},"73jm":function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a});var r=n("hvnN"),o={login:"login",loginMfa:"loginMfa",signup:"signup",signupOrPersonalizedLogin:"signupOrPersonalizedLogin",socialSignupWithAge:"socialSignupWithAge",FBEmailRerequest:"FBEmailRerequest",emailConfirmation:"emailConfirmation",magicLinkConfirmation:"magicLinkConfirmation",respondMessage:"respondMessage"},a={boardPage:"boardPage",boardInvite:"boardInvite",defaultSource:"defaultSource",homePage:"homePage",mwebDefaultSource:"mwebDefaultSource",invite:"invite",login:"login",userFollow:"userFollow",userProfilePage:"userProfilePage",saveButton:"saveButton",actionButton:"actionButton",signupButton:"signupButton",personalizedFlyout:"personalizedFlyout",navigateBoard:"navigateBoard",navigatePin:"navigatePin",navigateInterest:"navigateInterest",unauthHeader:"unauthHeader",unauthBanner:"unauthBanner",giftWrap:"giftWrap",loginMfa:"loginMfa"};n.n(r).a.oneOf([a.boardPage,a.boardInvite,a.defaultSource,a.giftWrap,a.homePage,a.invite,a.login,a.mwebDefaultSource,a.navigateBoard,a.navigatePin,a.navigateInterest,a.saveButton,a.signupButton,a.unauthBanner,a.unauthHeader,a.userFollow,a.userProfilePage])},"8Hll":function(e,t,n){"use strict";function r(e){return{type:"SET_NUX_PROGRESS",payload:{step:e}}}n.d(t,"a",function(){return r})},DU5A:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"d",function(){return c}),n.d(t,"e",function(){return s}),n.d(t,"g",function(){return l}),n.d(t,"f",function(){return u}),n.d(t,"c",function(){return d}),n.d(t,"b",function(){return p});var r=n("WQSK"),o=n("PhUE"),a=n("2cJX");function i(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";arguments.length>3&&arguments[3],arguments.length>4&&arguments[4];return t?a.a.tier1:n&&n.includes("yahoo.co.jp")&&"JP"===e?a.a.tier1:(e=e||"",a.e.has(e)?a.a.tier1:a.g.has(e)?a.a.tier2:a.a.tier3)}function c(){r.set("hasBeenShownLoginModalInOpen","true",a.c)}function s(e){o.b.localStorage.setItem("uimb",!!e)}function l(){return o.b.localStorage.getItem("uimb")||!1}function u(e){o.b.localStorage.setItem("uoiou",!!e)}function d(){return o.b.localStorage.getItem("uoiou")||!1}function p(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return d()||!e&&l()}},IItM:function(e,t,n){"use strict";t.a={ACCOUNT_SWITCHER_FLYOUT:"account_switcher_flyout",ACCOUNT_SWITCHER_MODAL:"account_switcher_modal",ACCOUNT_RECOVERY:"account_recovery",BOARD_INVITE:"board_invite",CLOSEUP:"closeup",CLOSEUP_BANNER:"closeup_banner",FOLLOW_BUTTON:"followbtn",GOOGLE_ONE_TAP:"google_one_tap_modal",LOGIN_PAGE:"login_page",INSPIRED_BANNER:"inspired_banner",MFA_LOGIN_PAGE:"mfa_login_page",HYBRID_CLICKTHROUGH:"hybrid_clickthrough",HYBRID_BANNER:"hybrid_banner",PIN_GRID:"pin_grid",PIN_IMAGE:"pin_image",RESPONSE_FLYOUT:"response_flyout",UNAUTH_BANNER:"unauth_banner",UNAUTH_HEADER:"unauth_header"}},KOHj:function(e,t,n){"use strict";var r=n("GyhR"),o=n.n(r),a=n("+U6O"),i=function(e){if(e.viewerId===e.account.id)return null;var t=e.account.imageMediumUrl&&!e.account.imageMediumUrl.includes("static/images/user/default");return o.a.createElement(a.b,{alignItems:"center",direction:"row",display:"flex",height:"100%",width:"100%"},o.a.createElement(a.b,{paddingX:1},o.a.createElement(a.a,{name:e.account.fullName||e.account.username,src:t?e.account.imageMediumUrl:"",size:e.large?"lg":"md"})),o.a.createElement(a.b,{marginLeft:3,flex:"grow"},o.a.createElement(a.K,{bold:!0,color:"darkGray",size:"md",truncate:!0},e.account.fullName||e.account.username),e.account.email&&o.a.createElement(a.K,{color:"darkGray",size:"md",truncate:!0},e.account.email)))},c=n("rBws"),s=function(e){var t=Object.keys(e.accounts).length;return o.a.createElement(a.b,{position:"relative"},o.a.createElement(a.b,{color:"lightGray",height:20*t*4,position:"absolute",width:1,dangerouslySetInlineStyle:{__style:{bottom:48,left:52}}}),o.a.createElement("ul",null,Object.keys(e.accounts).map(function(t){var n=e.accounts[t];return o.a.createElement("li",{key:t},o.a.createElement(a.P,{onTouch:function(){return e.onClick(n)}},o.a.createElement("div",{className:"ConversationListItemReact",style:{padding:"8px 16px 8px 28px"}},o.a.createElement(i,{account:n}))))})))},l=n("XQD6"),u=n("IItM"),d=n("Qo1m"),p=n("V0Gb"),f=n("3nbW"),m=n("iJ35"),b=n("ePT2"),h=n("lglE"),g=n("+H5w"),y=n("k9eC"),_=n("lixz"),v=n("NmcB"),w=n("Y2BC"),x=n("rlRx");function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=function(e){function t(){var e,n,r,c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,p=new Array(s),w=0;w<s;w++)p[w]=arguments[w];return r=this,c=(e=O(t)).call.apply(e,[this].concat(p)),n=!c||"object"!==S(c)&&"function"!=typeof c?C(r):c,N(C(C(n)),"state",{failedAccount:null,showLoginModal:!1,isLoading:!1}),N(C(C(n)),"handleAddAccount",function(){Object(x.h)("add_account_click",null,n.props.container),n.props.container===u.a.ACCOUNT_SWITCHER_MODAL&&n.props.showLogin?n.props.showLogin():n.setState({showLoginModal:!0})}),N(C(C(n)),"trackProfileNavigateClick",function(e){Object(_.e)(14),Object(x.h)("current_profile_".concat(e,"_click"),null,n.props.container)}),N(C(C(n)),"handleSwitch",function(e){n.setState({isLoading:!0}),Object(v.a)(101,{component:13369,element:11196}),Object(x.h)("switch_account_click",{destination_user_id:e.id},n.props.container);var t={get_user:!0,switch_account:e.id};Object(f.a)(t,{container:"account_switcher"},null,!0).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.resource_response&&t.resource_response.data&&t.resource_response.data.success?(Object(x.h)("switch_account_success",{destination_user_id:e.id},n.props.container),Object(l.a)("/".concat(e.username))):(Object(x.h)("switch_account_failure",{destination_user_id:e.id},n.props.container),n.setState({failedAccount:e,isLoading:!1}))},function(t){throw Object(x.h)("switch_account_failure",{destination_user_id:e.id},n.props.container),n.setState({isLoading:!1}),t})}),N(C(C(n)),"handleLinkedAccountSwitch",function(e){if(n.setState({isLoading:!0}),Object(v.a)(101,{component:13369,element:e.partner&&e.partner.isLinkedBusiness?11195:11194}),e.partner&&e.partner.isLinkedBusiness){var t={business_id:e.id,get_user:!0};Object(f.a)(t,{container:"account_switcher"},null,!0).then(function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=new y.c(n.props.requestContext,"biz_growth_biz_hub_redirect_from_home").enabledWithNoActivation()||new y.c(n.props.requestContext,"biz_growth_biz_hub_landing_page_creates").enabledWithNoActivation()?"/":"/".concat(e.username);Object(l.a)(t)},function(e){throw n.setState({isLoading:!1}),e})}else b.a.create("UserSessionResource",{disable_auth_failure_redirect:!0}).callDelete().then(function(){Object(x.g)(n.props.viewer.id),Object(l.a)("/".concat(e.username))},function(e){throw n.setState({isLoading:!1}),e})}),N(C(C(n)),"handleCloseModal",function(){return n.setState({showLoginModal:!1})}),N(C(C(n)),"handleReauthAccount",function(){Object(x.h)("switch_failure_prompt.login_click",null,n.props.container),n.setState({failedAccount:null,showLoginModal:!0})}),N(C(C(n)),"handleRemoveUnauthAccount",function(e){Object(x.h)("switch_failure_prompt.account_removed",{removed_user_id:e},n.props.container),Object(x.g)(e),n.setState({failedAccount:null})}),N(C(C(n)),"getBusinessAccounts",function(){var e=n.props,t=e.businessUser,r=e.viewer.partner;return t.data?(r&&r.is_linked_business?t.data.owners:t.data.businesses).reduce(function(e,t){return e[t.id]=Object(g.a)(h.a,!0)(t),t.partner&&t.partner.is_linked_business&&(e[t.id].email=t.partner.biz_ownership_email),e},{}):null}),N(C(C(n)),"renderAccounts",function(e){return Object.keys(e).map(function(t,r){return o.a.createElement("li",{key:r},o.a.createElement(a.P,{onTouch:function(){n.handleSwitch(e[t])}},o.a.createElement("div",{className:"ConversationListItemReact",style:{height:"auto"}},o.a.createElement(i,{large:!0,account:e[t],viewerId:n.props.viewer.id}))),r!==x.a-2&&o.a.createElement(a.j,null))})}),N(C(C(n)),"renderPinnerButtons",function(e){var t=n.props.onNavigateButtonClick;return o.a.createElement(m.b,{className:"dangerouslyDisableFocusStyle",focusOnBody:!0,to:"/".concat(e,"/")},o.a.createElement(a.c,{text:d.a._("View profile","Visit a user profile from account switcher"),accessibilityLabel:d.a._("Go to current profile","Visit a current user profile from account switcher"),size:"sm",color:"red",onClick:function(){n.trackProfileNavigateClick("button"),t&&t()}}))}),N(C(C(n)),"renderBusinessButtons",function(e){var t=n.props.onNavigateButtonClick;return o.a.createElement(a.b,{display:"flex"},o.a.createElement(a.b,{marginEnd:2},o.a.createElement(m.b,{to:"/business/hub/",onClick:function(){Object(v.a)(101,{element:11236}),t&&t()}},o.a.createElement(a.c,{key:"biz-hub-button",text:d.a._("Business hub","Link to Business hub from account switcher"),accessibilityLabel:d.a._("Go to Business hub","Visit the Business hub for the current business user"),size:"sm",color:"red"}))),o.a.createElement(m.b,{className:"dangerouslyDisableFocusStyle",focusOnBody:!0,to:"/".concat(e,"/")},o.a.createElement(a.c,{text:d.a._("Profile","Visit a user profile from account switcher"),accessibilityLabel:d.a._("Go to current user profile","Visit a current user profile from account switcher"),size:"sm",onClick:function(){n.trackProfileNavigateClick("button"),t&&t()}})))}),n}var n,w,T;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,r["Component"]),n=t,(w=[{key:"componentDidMount",value:function(){this.props.container===u.a.ACCOUNT_SWITCHER_MODAL&&Object(x.h)("modal.shown")}},{key:"componentWillUnmount",value:function(){this.props.container===u.a.ACCOUNT_SWITCHER_MODAL&&Object(x.h)("modal.dismiss")}},{key:"renderLoadingIndicator",value:function(){return this.state.isLoading?o.a.createElement(p.a,null):null}},{key:"render",value:function(){var e=this,t=this.props.viewer.partner,n=this.state,r=n.failedAccount,l=n.isLoading,u=n.showLoginModal,p=Object(x.e)(),f=this.getBusinessAccounts(),b=Object.keys(p).length,h=p[this.props.viewer.id];delete p[h.id];var g=h.imageLargeUrl&&!h.imageLargeUrl.includes("static/images/user/default");return o.a.createElement(a.b,{flex:"grow"},u&&o.a.createElement(c.a,{container:this.props.container,onClose:this.handleCloseModal,email:r?r.email:""}),r?o.a.createElement(a.b,{paddingX:4,paddingY:4,flex:"grow"},o.a.createElement(a.b,{marginBottom:3},o.a.createElement(a.K,null,d.a._("Oh no! You're no longer logged into","Full sentence: \"Oh no! You're no longer logged into <user's account>\". Text telling user that they are no longer logged into an account after trying to switch to it"))),o.a.createElement(i,{viewerId:h.id,account:r}),o.a.createElement(a.b,{marginTop:4},o.a.createElement(a.c,{text:d.a._("Log in again","Text on button allowing user to log into an account after failing to switch to that account"),color:"red",onClick:this.handleReauthAccount})),o.a.createElement(a.b,{marginTop:3},o.a.createElement(a.c,{text:d.a._("Remove account","Text on button allowing user to remove an account from their account switcher after failing to switch to it"),onClick:function(){return e.handleRemoveUnauthAccount(r.id)}}))):o.a.createElement(a.b,null,l&&this.renderLoadingIndicator(),o.a.createElement(a.b,null,o.a.createElement(a.b,{alignItems:"center",direction:"row",display:"flex",marginTop:1,padding:4,position:"relative",dangerouslySetInlineStyle:{__style:{zIndex:1}}},o.a.createElement(a.b,{marginRight:4},o.a.createElement(m.b,{className:"dangerouslyDisableFocusStyle",focusOnBody:!0,to:"/".concat(h.username,"/")},o.a.createElement(a.P,{onTouch:function(){return e.trackProfileNavigateClick("avatar")}},o.a.createElement(a.a,{name:h.fullName||h.username,size:"lg",src:g?h.imageLargeUrl:""})))),o.a.createElement(a.b,{flex:"grow"},o.a.createElement(a.b,{marginBottom:2},o.a.createElement(a.K,{bold:!0,color:"darkGray",size:"md",truncate:!0},h.fullName||h.username),h.email&&o.a.createElement(a.K,{color:"darkGray",size:"md",truncate:!0},h.email)),t?this.renderBusinessButtons(h.username):this.renderPinnerButtons(h.username))),f?o.a.createElement(s,{accounts:f,onClick:this.handleLinkedAccountSwitch}):null,o.a.createElement(a.j,null),t&&t.is_linked_business?null:o.a.createElement(a.b,null,o.a.createElement("ul",null,this.renderAccounts(p)))),b<x.a&&!(t&&t.is_linked_business)&&o.a.createElement(a.b,{paddingX:4,paddingY:3},o.a.createElement(a.c,{text:d.a._("Add account","Short text on the button that allows a user to log in to another Pinterest account"),onClick:function(){return e.handleAddAccount()}}))))}}])&&E(n.prototype,w),T&&E(n,T),t}();t.a=Object(w.b)({key:"businessUser",name:"UserResource",options:function(e){return{field_set_key:"linked_partner",user_id:e.viewer.id}}})(T)},KrKF:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"c",function(){return c}),n.d(t,"a",function(){return l});var r=n("Qo1m"),o=n("PhUE"),a=n("Irlq");n("zlIe");function i(e,t){return e.some(function(e){return e.id===t.id})}var c=function(e){return e?Object(a.b)(r.a._("Welcome back, {{ firstName }}!","Header on welcome step of renux"),{firstName:e}):r.a._("Welcome back!","Header on welcome step of renux")};function s(e){var t=[];if(e){var n=Date.now()-72e5,r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0){var s=i.value;s.ts>=n&&("string"==typeof s.image_signature&&t.push(s.image_signature),"string"==typeof s.first_pin_image_signature&&t.push(s.first_pin_image_signature))}}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}}return t}function l(){return{plpImages:s(o.b.localStorage.getItem("visitedPinLandingPagesBeforeLogin")),blpImages:s(o.b.localStorage.getItem("visitedBoardLandingPagesBeforeLogin"))}}},UY39:function(e,t,n){},V0Gb:function(e,t,n){"use strict";var r=n("GyhR"),o=n.n(r),a=n("Qo1m"),i=n("+U6O"),c={loadingIndicatorMask:{position:"absolute",backgroundColor:"#fff",top:"0",left:"0",right:"0",bottom:"0",opacity:"0.7",borderRadius:"8px",zIndex:"100"},spinner:{position:"absolute",top:"0",left:"0",right:"0",bottom:"0",opacity:"1",display:"flex",alignItems:"center",justifyContent:"center",zIndex:"101"}};t.a=function(e){return o.a.createElement("div",null,o.a.createElement("div",{style:c.spinner},o.a.createElement(i.G,{accessibilityLabel:a.a._("Loading"),show:!0})),o.a.createElement("div",{style:c.loadingIndicatorMask}))}},dkdd:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var r=n("PhUE");function o(e){var t={};return e.forEach(function(e){var n=r.b.localStorage.getItem(e);n&&("signupInterestsPickerStartTime"===e?t.signupInterestsPickerTimeSpent=Date.now()-n:t[e]=n)}),JSON.stringify(t)}function a(){return o(["signupInterestsPickerScrollDown","signupInterestsPickerStartTime"])}function i(){return o(["signupTriedSkipInputName","signupTriedSkipGender","unauthTopicsFollowed"])}},f5ca:function(e,t,n){"use strict";n.r(t);n("oiDG");var r=n("D+W/"),o=n("oFGA"),a=n("/YZq"),i=n("ePT2"),c=n("ggpB"),s=n("q579"),l=a.a.getLogger("AuthHandshake"),u={_parseJson:function(e){return e.json()},_throwError:function(e){var t=new Error(e.statusText);throw t.response=e,u._reconstructError(t),t},_checkStatus:function(e){return 200===e.status||401===e.status?e:(u._throwError(e),{})},_crossDomainRequest:function(e,t,n){if("GET"!==n&&"POST"!==n)return Promise.resolve({});var a={credentials:"include",mode:"cors"};return"POST"===n&&(a.method="POST",a.body=t,a.headers={"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","X-Pinterest-InstallId":o.a.instance.unauth_id},o.a.instance.unauth_id||Object(c.a)("unauth.auth_handshake.cross_domain.no_unauth_id.".concat(n))),fetch(e,a).then(u._checkStatus).then(u._parseJson).then(function(e){return"success"===e.status?Promise.resolve(e):e.code===r.a.LOGIN_MFA_REQUIRED?(e.api_error_code=e.code,Promise.reject(e)):(u._throwError(e),{})}).catch(function(e){throw e})},_reconstructError:function(e){!e.api_error_code&&e.response&&(e.api_error_code=e.response.code,e.message=e.response.message)},_verifyAndGetToken:function(){var e=r.a.GEN.templateConst.settings.ACCOUNTS_PINTEREST_URL+"/v3/handshake/verify/";return u._crossDomainRequest(e,"","GET")},exchangeTokenAndSetSession:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i.a.create("HandshakeSessionResource",{token:e,isRegistration:t}).callCreate()},verifyLoggedInStatus:function(){u._verifyAndGetToken().then(function(e){if(e&&e.data){var t=e.data;u.exchangeTokenAndSetSession(t).then(function(e){window.location.reload()},function(e){l.error("Failed to set session for current user; "+e.message)})}else l.error("No custom access token in cross domain verify response")},function(e){})},_setUpRegisterParameters:function(e){var t={};if(t.email=e.email||"",t.username=e.username||"",t.password=e.password||"",t.first_name=e.first_name||"",t.last_name=e.last_name||"",t.country=e.country||"",t.locale=o.a.instance.locale,t.referrer=o.a.instance.referrer,e.age){var n=new Date;n.setFullYear(n.getFullYear()-e.age);var r=parseInt(n/1e3,10);t.birthday=r.toString()}if(e.custom_gender&&(t.custom_gender=e.custom_gender),e.gender&&(t.gender=e.gender),e.business_name&&(t.account_type=e.account_type,t.business_name=e.business_name,t.first_name=e.business_name),o.a.instance.invite_code&&(t.invite_code=o.a.instance.invite_code),e.facebook_id){var a=o.a.instance.facebook_token||e.facebook_token||"";a||l.debug("Facebook token is not being set during login call."),t.facebook_id=e.facebook_id,t.facebook_token=a,t.social_username=e.social_username||""}else(e.gplus_code||e.gplus_id_token)&&(t.password=e.password||"",t.one_time_code=e.gplus_code,t.id_token=e.gplus_id_token,t.redirect_uri=e.gplus_redirect_uri);return s.a.getQueryStringFromObject(t)},_setUpLoginParameters:function(e){var t={};if(e.username_or_email&&(t.username_or_email=e.username_or_email.trim(),t.password=e.password,t.referrer=o.a.instance.referrer),e.facebook_id){var n=o.a.instance.facebook_token||e.facebook_token||"";n||l.debug("Facebook token is not being set during login call."),t.facebook_id=e.facebook_id,t.facebook_token=n,t.facebook_autologin=e.facebook_autologin||!1}return e.gplus_id_token&&(t.gplus_id_token=e.gplus_id_token,t.gplus_access_token=e.gplus_access_token,t.gplus_expires_at=e.gplus_expires_at,t.gplus_autologin=e.gplus_autologin||!1),e.mfa_token&&(t.mfa_token=e.mfa_token),s.a.getQueryStringFromObject(t)},_getRegisterRequestUrl:function(e){var t="/v3/register/email/handshake/";return e.facebook_id&&(t="/v3/register/facebook/handshake/"),(e.gplus_code||e.gplus_id_token)&&(t="/v3/register/gplus/handshake/"),e.business_name&&(t="/v3/register/partner/handshake/"),r.a.GEN.templateConst.settings.ACCOUNTS_PINTEREST_URL+t},_getLoginRequestUrl:function(e){var t="/v3/login/handshake/";return e.facebook_id&&(t="/v3/login/facebook/handshake/"),e.gplus_id_token&&(t="/v3/login/gplus/handshake/"),e.mfa_token&&(t="/v3/login/mfa/handshake/"),r.a.GEN.templateConst.settings.ACCOUNTS_PINTEREST_URL+t},registerUser:function(e){var t=u._getRegisterRequestUrl(e),n=u._setUpRegisterParameters(e);return u._crossDomainRequest(t,n,"POST")},loginUser:function(e){var t=u._getLoginRequestUrl(e),n=u._setUpLoginParameters(e);return u._crossDomainRequest(t,n,"POST")}};t.default=u},kpxY:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("GyhR"),o=n.n(r),a=n("Qo1m"),i=n("tbiL"),c=n("+U6O"),s=Object(i.a)({chunkName:function(){return"FullPageSignup"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return Promise.all([n.e("ArticlePageDesktop~AuthHomePageDesktop~BusinessAccountConvertPageDesktop~BusinessAccountCreatePageDe~24304f69"),n.e(4),n.e(5),n.e(9),n.e("FullPageSignup")]).then(n.bind(null,"JpAB"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"JpAB"}});function l(e){return o.a.createElement(s,Object.assign({},e,{fallback:o.a.createElement(c.b,{display:"flex",justifyContent:"center",alignItems:"center"},o.a.createElement(c.G,{accessibilityLabel:a.a._("Loading signup form"),show:!0}))}))}},lx8N:function(e,t,n){"use strict";var r=n("GyhR"),o=n.n(r),a=n("KOHj"),i=n("rBws"),c=n("IItM"),s=n("Qo1m"),l=n("dsfX"),u=n("kIql"),d=n("+U6O"),p=n("9Y9K"),f=n("rlRx"),m=n("Y2BC");function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=g(t).call(this,e),n=!o||"object"!==b(o)&&"function"!=typeof o?_(r):o,v(_(_(n)),"componentDidMount",function(){Object(f.f)(n.props.viewer,n.props.businessUser.data)}),v(_(_(n)),"showLogin",function(){return n.setState({showLoginModal:!0})}),v(_(_(n)),"hideLogin",function(){return n.setState({showLoginModal:!1})});var a=n.props.showAddAccount;return n.state={showLoginModal:!!a},n}var n,u,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,r["Component"]),n=t,(u=[{key:"render",value:function(){var e=this.props,t=e.customTaglineText,n=e.hideAccountSwitchValueProp,r=e.onDismiss,u=e.showAddAccount,p=e.viewer;return this.state.showLoginModal?o.a.createElement(i.a,{container:c.a.ACCOUNT_SWITCHER_MODAL,onClose:u?r:this.hideLogin,customTaglineText:t,hideAccountSwitchValueProp:n}):o.a.createElement(d.b,{position:"relative"},o.a.createElement(l.b,{accessibilityModalLabel:s.a._("View, add, and switch logged in users","modal which allows user to add and switch multiple accounts"),size:"sm",heading:s.a._("Switch accounts","Short title on modal that allows a user to switch between different Pinterest accounts"),accessibilityCloseLabel:s.a._("Dismiss selection","Label for dismissing the modal"),onDismiss:r},o.a.createElement(a.a,{container:c.a.ACCOUNT_SWITCHER_MODAL,showLogin:this.showLogin,viewer:p})))}}])&&h(n.prototype,u),p&&h(n,p),t}();t.a=Object(p.compose)(u.a,Object(m.b)({name:"UserResource",key:"businessUser",options:function(e){return{username:e.viewer.username,field_set_key:"linked_partner"}}}))(w)},rBws:function(e,t,n){"use strict";var r=n("GyhR"),o=n.n(r),a=n("Ivf5"),i=n("kpxY"),c=n("Qo1m"),s=n("plGG"),l=(n("hvnN"),n("ggpB")),u=n("+U6O"),d={mask:{backgroundColor:"rgba(0, 0, 0, 0.6)",opacity:1,position:"fixed",top:"0px",bottom:"0px",left:"0px",right:"0px",zIndex:1e3},scroller:{WebkitOverflowScrolling:"touch",overflowY:"scroll",bottom:"0px",left:"0px",right:"0px",top:"0px",position:"fixed",WebkitBoxOrient:"vertical",WebkitBoxDirection:"normal",WebkitFlexDirection:"column",msFlexDirection:"column",flexDirection:"column",WebkitJustifyContent:"space-around",msFlexPack:"distribute",justifyContent:"space-around"},modalContainer:{display:"flex",minHeight:"0px",position:"relative",opacity:1,borderRadius:"6px",margin:"0 auto"},closeButton:{backgroundColor:"Transparent",backgroundRepeat:"no-repeat",border:"none",outline:"none",overflow:"hidden",padding:"10px",position:"fixed",right:"24px",top:"24px"}},p=function(e){var t=function(e){Object(l.a)("unauth.account_switcher_modal.".concat(e))},n=e.renderContent;return o.a.createElement("div",{style:d.mask},o.a.createElement(s.a,{unsafeCSS:"\n.AccountSwitcherModal {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n}\n"}),o.a.createElement("div",{className:"AccountSwitcherModal",onClick:function(){t("empty_space_click"),(0,e.onCloseClick)()},role:"dialog",style:d.scroller},o.a.createElement("div",{onClick:function(e){e.stopPropagation()},role:"dialog",style:d.modalContainer},n(),o.a.createElement("button",{"aria-label":c.a._("close","accessible label for close button"),onClick:function(){t("close_button_click"),(0,e.onCloseClick)()},style:d.closeButton},o.a.createElement(u.n,{accessibilityLabel:c.a._("close","accessible label for close button"),color:"white",icon:"cancel",inline:!0})))))},f=n("73jm");t.a=Object(a.connect)()(function(e){return r.createElement(p,{onCloseClick:function(){e.onClose&&e.onClose()},renderContent:function(){return r.createElement(u.b,{display:"flex",justifyContent:"center",flex:"grow"},r.createElement(i.a,{container:e.container,email:e.email,isAccountSwitch:!0,isModal:!0,hideAccountSwitchValueProp:e.hideAccountSwitchValueProp,type:f.a.login,signupSource:f.a.login,customLoginTagline:e.customTaglineText||c.a._("Add account","Short text on the button that allows a user to log in to another Pinterest account")}))}})})},rlRx:function(e,t,n){"use strict";var r=n("D+W/"),o=n("IItM"),a=function(e){return"undefined"!=typeof window?window.localStorage.getItem(e):null},i=function(e,t){"undefined"!=typeof window&&window.localStorage.setItem(e,t)},c={getAccounts:function(){return a(r.a.MULTIPLE_ACCOUNTS)},getAccountsJSON:function(){return c.getAccounts()?JSON.parse(c.getAccounts()):{}},getGroupId:function(){var e=a(r.a.MULTIPLE_ACCOUNTS_GROUP);return e?JSON.parse(e):null},setAccounts:function(e){return i(r.a.MULTIPLE_ACCOUNTS,e)},setGroupId:function(e){return i(r.a.MULTIPLE_ACCOUNTS_GROUP,JSON.stringify(e))}},s=c,l=n("QzGC"),u=n.n(l),d=n("ggpB");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return f}),n.d(t,"e",function(){return m}),n.d(t,"d",function(){return b}),n.d(t,"c",function(){return h}),n.d(t,"h",function(){return g}),n.d(t,"b",function(){return y}),n.d(t,"g",function(){return _}),n.d(t,"f",function(){return v});var f=4,m=function(){return s.getAccountsJSON()},b=function(){return Object.keys(m()).length},h=function(){var e;return p(e={},r.a.MULTIPLE_ACCOUNTS,s.getAccountsJSON()),p(e,r.a.MULTIPLE_ACCOUNTS_GROUP,s.getGroupId()),e},g=function(e,t,n){var r=s.getGroupId();r||(r=function(){var e=u()();return Object(d.c)("".concat("web_account_switcher",".utils.group_created"),{group_id:e,group_count:b()}),e}(),s.setGroupId(r));var a={group_id:r,group_count:b()},i="";n&&(i=n===o.a.ACCOUNT_SWITCHER_MODAL?"modal.":"flyout."),Object(d.c)("".concat("web_account_switcher",".").concat(i).concat(e),Object.assign({},t,a))},y=function(e,t,n){var r=s.getAccountsJSON();r[e.id]=function(e){var t={id:e.id,username:e.username,email:e.email,fullName:e.fullName||e.full_name,imageMediumUrl:e.imageMediumUrl||e.image_medium_url,imageLargeUrl:e.imageLargeUrl||e.image_large_url};return t.fullName&&t.imageMediumUrl&&t.imageLargeUrl||g("utils.incomplete_user_values"),t}(e),s.setAccounts(JSON.stringify(r)),t&&n&&g("new_account_add_success",{method:t,user_added:e.id},n)},_=function(e){var t=s.getAccountsJSON();delete t[e],s.setAccounts(JSON.stringify(t))},v=function(e,t){if(!s.getAccounts()||e&&!(e.id in m())){if(e.partner&&e.partner.is_linked_business&&t)return void y(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){p(e,t,n[t])})}return e}({},e,{email:t.partner&&t.partner.is_linked_business?t.partner.biz_ownership_email:""}));y(e)}}},"xd+Y":function(e,t,n){},xjFC:function(e,t,n){},zEno:function(e,t,n){"use strict";var r=n("GyhR"),o=n.n(r),a=n("Ivf5"),i=(n("UY39"),n("VSY/")),c=n("KrKF"),s=n("pjsG"),l=n("Qo1m"),u=n("7Tih"),d=n("+U6O");function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=this,o=(e=m(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==p(o)&&"function"!=typeof o?h(r):o,g(h(h(n)),"state",{focused:!1,errorIsOpen:!1}),g(h(h(n)),"handleOnChange",function(e){n.props.onChange({event:e,value:e.target.value})}),g(h(h(n)),"handleBlur",function(){n.props.errorMessage&&n.setState({errorIsOpen:!1})}),g(h(h(n)),"handleFocus",function(){n.props.errorMessage&&n.setState({errorIsOpen:!0})}),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,r["Component"]),n=t,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e.errorMessage!==t.errorMessage?{errorIsOpen:!!e.errorMessage,errorMessage:e.errorMessage}:null}}],(o=[{key:"render",value:function(){var e=this,t=this.props,n=t.id,o=t.name,a=t.options,i=t.value;return r.createElement(d.b,{alignItems:"center",display:"flex",position:"relative"},r.createElement(d.b,{alignItems:"center",bottom:!0,color:"white",display:"flex",position:"absolute",dangerouslySetInlineStyle:{__style:{margin:"1px",paddingRight:"31px",paddingLeft:"15px",pointerEvents:"none"}},right:!0,shape:"rounded",top:!0},r.createElement(d.n,{icon:"arrow-down",size:24,color:"darkGray",accessibilityLabel:""})),r.createElement("select",{id:n,name:o,onBlur:this.handleBlur,onFocus:this.handleFocus,onChange:this.handleOnChange,ref:function(t){e.select=t},value:i,style:{backgroundColor:"white",border:"1px solid #979797",borderRadius:8,cursor:"pointer",height:68,fontSize:20,paddingLeft:32,width:"100%",WebkitAppearance:"none",MozAppearance:"none"}},a.map(function(e){return r.createElement("option",{key:e.value,value:e.value},e.label)})))}}])&&f(n.prototype,o),a&&f(n,a),t}();g(y,"defaultProps",{options:[]});var _=function(e){var t=e.defaultOptions,n=e.id,r=e.items,a=e.name,i=e.onChange,c=e.value,s=(r.data||t||[]).sort(function(e,t){return e.name.localeCompare(t.name)}).map(function(e){var t=e.name,n=e.key;return{label:t.toString(),value:n}});return o.a.createElement(y,{id:n,name:a,onChange:i,options:s,value:c})},v=n("Y2BC"),w=Object(v.b)({name:"CountriesResource",key:"items"})(_),x=n("hvnN"),S=n.n(x),E=n("PhUE"),O=n("NmcB"),k=n("8Hll"),C=n("zlIe"),N=n("rPo8");function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=this,o=(e=P(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==T(o)&&"function"!=typeof o?L(r):o,A(L(L(n)),"state",{country:(n.context||{}).country||C.d}),A(L(L(n)),"onNextButtonClick",function(){var e=n.props,t=e.incrementNuxStep,r=e.updateUserInfo,o=e.setNuxCountryProgress;r({updateUserData:{country:n.state.country}}).then(function(){o(C.b),Object(O.a)(101,{component:17,element:11391,view:24,viewParameter:3140}),t()})}),A(L(L(n)),"updateCountry",function(e){var t=e.value;return n.setState({country:t})}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatchSetNuxStepProgress;(0,e.setNuxCountryProgress)(C.A),t("country"),E.b.localStorage.getItem("signupUserCountry")||Object(O.a)(13,{view:24,viewParameter:3140})}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.updateUserInfo,r=t.country,o=this.state.country,a=r!==o;a&&n({updateUserData:{country:o}}).then(function(){a&&E.b.localStorage.setItem("signupUserCountry",o)})}},{key:"render",value:function(){var e=this.props.personalizationCopy.headerText,t=this.state.country;return o.a.createElement(d.b,{display:"flex",direction:"column",height:"100%",padding:8,width:"100%"},o.a.createElement(d.b,{alignItems:"center",dangerouslySetInlineStyle:{__style:{textAlign:"center"}},display:"flex",direction:"column",flex:"grow",justifyContent:"around",marginBottom:8},o.a.createElement(d.m,{size:"sm"},e),o.a.createElement(d.b,{width:"100%",marginTop:4,"data-test-id":"nux-country-select"},o.a.createElement(w,{id:"newUserCountry",name:"country",onChange:this.updateCountry,value:t}))),o.a.createElement(d.b,{bottom:!0,"data-test-id":"nux-country-next-btn"},o.a.createElement(d.c,{size:"lg",color:"red",text:l.a._("Next","go to next step"),onClick:this.onNextButtonClick,type:"submit"})))}}])&&I(n.prototype,a),i&&I(n,i),t}();R.contextTypes={country:S.a.string};var U=Object(a.connect)(null,function(e,t){return{updateUserInfo:function(t){return e(Object(N.f)(t))},setNuxCountryProgress:function(t){return e(Object(N.a)(C.s,t))},dispatchSetNuxStepProgress:function(t){return e(Object(k.a)(t))}}})(R),G=(n("xjFC"),3),B=10,D=["blue","eggplant","green","maroon","midnight","navy","olive","orange","orchid","pine","purple","watermelon"];var F=o.a.memo(function(){var e=function(){for(var e=[],t=0,n=0;n<B;n+=1){e.push([]);for(var r=0;r<G;r+=1){var a=D[t];e[n].push(o.a.createElement("div",{key:n+r,className:"NuxEducationLoaderGrid__column".concat(r)},o.a.createElement(d.b,{color:a,height:155,width:105,dangerouslySetInlineStyle:{__style:{borderRadius:8}}}))),(t+=1)>=D.length&&(t=0)}}return e}();return o.a.createElement("div",{className:"NuxEducationLoaderGrid"},e)});var M=o.a.memo(function(e){var t=e.selectedInterest,n={label:l.a._("Food and Drink","Title for topic"),images:{"400x":{height:561,url:"https://i.pinimg.com/400x/10/31/0a/10310a3d860e8f7f2a5753612a870f5a.jpg",width:400}}},r={},a=t||n,i=a.label,c=a.images["400x"],s=c.url,u=c.height,p=c.width;r.domain=i.trim().toLowerCase().replace(/\s/g,"").concat(".com"),r.imageHeight=u,r.imageWidth=p,r.imageUrl=s;var f=r.domain,m=r.imageUrl,b=r.imageHeight,h=r.imageWidth;return o.a.createElement("div",{className:"NuxEducationLoaderPin","data-test-id":"nux-loader-pin"},o.a.createElement(d.b,{position:"relative"},o.a.createElement("div",{className:"NuxEducationLoaderPin__pinImage"},o.a.createElement(d.u,{shape:"rounded",height:310,width:210},o.a.createElement(d.p,{alt:l.a._("Pin image","Pin image for nux loading step"),color:"darkGray",fit:"cover",naturalHeight:b,naturalWidth:h,src:m})),o.a.createElement(d.b,{position:"absolute",top:!0,right:!0,marginTop:1,marginRight:1},o.a.createElement("div",{className:"NuxEducationLoaderPin__pinSaveButton"},o.a.createElement(d.c,{accessibilityLabel:l.a._("Save button"),color:"red",text:l.a._("Save","save button for nux loading step"),size:"md"}))),o.a.createElement(d.b,{position:"absolute",bottom:!0,left:!0,margin:2,maxWidth:"90%"},o.a.createElement("div",{className:"NuxEducationLoaderPin__pinLinkButton"},o.a.createElement(d.b,{padding:2,color:"lightGray",display:"flex",justifyContent:"between",alignItems:"center",dangerouslySetInlineStyle:{__style:{borderRadius:4}}},o.a.createElement(d.b,null,o.a.createElement(d.n,{icon:"arrow-up-right",accessibilityLabel:l.a._("link","Pin website url link for nux loading step"),size:14,color:"darkGray"})),o.a.createElement(d.b,{marginLeft:2,height:18,flex:"grow",overflow:"hidden"},o.a.createElement(d.K,{bold:!0,size:"sm",truncate:!0},f))))))))}),z={backgroundColor:"#efefef"},H={transition:"width .4s ease-out"};function W(e,t){return Object.assign({},z,{height:e+"px",borderRadius:t})}function Y(e,t,n){return Object.assign({},H,{backgroundColor:e,width:t+"%",borderRadius:n})}var K=function(e){var t=e.color,n=e.height,r=e.progress,a=e.outerBorderRadius,i=e.innerBorderRadius;return o.a.createElement(d.b,{width:"100%",overflow:"hidden",dangerouslySetInlineStyle:{__style:W(n,a)}},o.a.createElement(d.b,{height:"inherit",dangerouslySetInlineStyle:{__style:Y(t,r,i)}}))};K.defaultProps={color:"#333",height:8,progress:0,outerBorderRadius:"10px",innerBorderRadius:"inherit"};var X=K,q=n("ePT2"),V=n("kIql"),J=n("9Y9K");function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ee(e,t){return(ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=this,o=(e=$(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==Q(o)&&"function"!=typeof o?te(r):o,ne(te(te(n)),"state",{progressPercent:0}),ne(te(te(n)),"incrementStepAndCompleteLoading",function(){var e=n.props,t=e.incrementNuxStep,r=e.isRenux;(t(),r)||q.a.create("UserStateResource",{state:C.u,value:C.b}).callCreate()}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.dispatchSetNuxStepProgress,r=t.isRenux;r||q.a.create("UserStateResource",{state:C.u,value:C.A}).callCreate();n("loader"),Object(O.a)(13,{view:r?213:24,viewParameter:261}),this.intervalId=setInterval(function(){return e.setState(function(e){return{progressPercent:Math.min(e.progressPercent+100/17,100)}})},300)}},{key:"componentDidUpdate",value:function(e,t){this.state.progressPercent>=100&&(clearInterval(this.intervalId),setTimeout(this.incrementStepAndCompleteLoading,1e3))}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalId)}},{key:"render",value:function(){var e=this.props,t=e.isRenux,n=e.selectedInterests,r=e.showProgressBar,a=this.state.progressPercent;return o.a.createElement("div",{className:"NuxEducationLoader","data-test-id":"nux-complete-loader"},o.a.createElement(d.b,{alignItems:"center",display:"flex",direction:"row",height:"100%",justifyContent:"center",overflow:"hidden",width:"100%"},o.a.createElement(d.b,{position:"relative",marginLeft:10,marginRight:4},o.a.createElement("div",{className:"NuxEducationLoader__loadingCopyContainer"},o.a.createElement(d.m,{size:"sm"},l.a._("All set!","Title for nux loading step")),o.a.createElement(d.b,{marginTop:4},t?l.a._("We're refreshing your home feed with lots of new Pins...","Details for ReNUX loading step"):l.a._("We're building your home feed with lots of Pins...","Details for nux loading step"))),o.a.createElement("div",{className:"NuxEducationLoader__pinEducationCopyContainer"},o.a.createElement(d.m,{size:"sm"},l.a._("Pins are ideas.","Pin education on NUX loading step")),o.a.createElement(d.b,{marginTop:5},l.a._("They are links saved from around the web","Pin education on NUX loading step")))),o.a.createElement(d.b,{marginRight:5,marginLeft:5,width:344},o.a.createElement(F,null)),o.a.createElement(d.b,null,o.a.createElement(M,{selectedInterest:n[0]}))),r?null:o.a.createElement(d.b,{position:"absolute",top:!0,width:"100%"},o.a.createElement(X,{height:8,color:"#e60023",progress:a})))}}])&&Z(n.prototype,a),i&&Z(n,i),t}(),oe=Object(J.compose)(Object(a.connect)(null,function(e){return{dispatchSetNuxStepProgress:function(t){return e(Object(k.a)(t))}}}),V.a)(re),ae=n("VLF8"),ie=n("FEwd");function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fe=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=this,o=(e=le(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==ce(o)&&"function"!=typeof o?de(r):o,pe(de(de(n)),"onInstallButtonClicked",function(){var e=n.props.isRenux;ae.a.handleExtensionInstall(n.incrementStepAndCompleteLoading),Object(O.a)(101,{component:17,element:280,view:e?213:24,viewParameter:260})}),pe(de(de(n)),"onSkipButtonClick",function(){var e=n.props.isRenux;Object(O.a)(101,{component:17,element:1150,view:e?213:24,viewParameter:260}),n.incrementStepAndCompleteLoading()}),pe(de(de(n)),"incrementStepAndCompleteLoading",function(){var e=n.props,t=e.incrementNuxStep,r=e.isRenux,o=e.setNuxUpsellProgress;r||o(C.b),t()}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatchSetNuxStepProgress,n=e.isRenux,r=e.setNuxUpsellProgress;n||r(C.A),t("extension"),Object(O.a)(13,{view:n?213:24,viewParameter:260})}},{key:"render",value:function(){var e=this.props.personalizationCopy,t=e.headerText,n=e.subHeaderText;return o.a.createElement(ie.a,{header:t,installClick:this.onInstallButtonClicked,skipClick:this.onSkipButtonClick,subheader:n})}}])&&se(n.prototype,a),i&&se(n,i),t}(),me=Object(a.connect)(null,function(e,t){return{setNuxUpsellProgress:function(t){return e(Object(N.a)(C.q,t))},dispatchSetNuxStepProgress:function(t){return e(Object(k.a)(t))}}})(fe),be=(n("xd+Y"),n("UmN8")),he=n("k9eC"),ge=n("2YES");function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function we(e,t){return(we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ee=function(e){var t,n=e.isChecked,a=e.label,i=e.selectGender,c=e.value,s=e.isHorizontal;switch(a){case C.h:t="end";break;case C.F:t="start";break;default:t="center"}var l=o.a.createElement(d.b,{alignItems:"center",display:"flex","data-test-id":"nux-gender-".concat(a,"-label"),height:40,justifyContent:t,width:"calc(800px / 3)"},o.a.createElement(d.q,{htmlFor:a},o.a.createElement(d.b,{alignItems:"center",display:"flex"},o.a.createElement(d.B,{checked:n,id:a,name:"genderOptions",onChange:i,size:"md",value:a}),o.a.createElement(d.b,{marginStart:2,width:a===C.F&&225},c))));return s?l:o.a.createElement(r.Fragment,null,o.a.createElement(d.b,{"data-test-id":"nux-gender-".concat(a,"-label")},o.a.createElement(d.q,{htmlFor:a},o.a.createElement("div",{className:"NuxGenderSelector"},o.a.createElement(d.b,{alignItems:"center",display:"flex",flex:"none",paddingX:8,paddingY:6},o.a.createElement(d.B,{checked:n,id:a,name:"genderOptions",onChange:i,size:"md",value:a}),o.a.createElement(d.b,{display:"flex",flex:"grow",marginStart:10},c))))),o.a.createElement(d.j,null))},Oe=function(e){function t(){var e,n,a,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,s=new Array(c),u=0;u<c;u++)s[u]=arguments[u];return a=this,i=(e=ve(t)).call.apply(e,[this].concat(s)),n=!i||"object"!==ye(i)&&"function"!=typeof i?xe(a):i,Se(xe(xe(n)),"state",{customGender:n.props.customGender,gender:n.props.gender,showCustomGenderTextfield:n.props.gender===C.F&&n.props.customGender.length>0,showNextButton:[C.l,C.h].includes(n.props.gender)||n.props.customGender.length>0,showCustomGenderDoneButton:n.props.gender===C.F&&n.props.customGender.length>0}),Se(xe(xe(n)),"setCustomGender",function(e){e.target instanceof HTMLInputElement&&e.target.value.trim().length>0?n.setState({customGender:e.target.value,showCustomGenderDoneButton:!0}):n.state.showNextButton&&e.target instanceof HTMLInputElement?n.setState({customGender:e.target.value,showCustomGenderDoneButton:!1}):n.setState({showCustomGenderDoneButton:!1})}),Se(xe(xe(n)),"updateCustomGender",function(e){var t=e.value;return n.setState({customGender:t,showCustomGenderDoneButton:t.length>0})}),Se(xe(xe(n)),"renderOnHomefeed",function(){var e=n.props.personalizationCopy.headerText,t=n.state,a=t.customGender,i=t.gender,c=t.showCustomGenderDoneButton,s=t.showCustomGenderTextfield;return o.a.createElement(r.Fragment,null,o.a.createElement(d.m,{overflow:"normal",size:"sm"},e),o.a.createElement(d.b,{direction:"column",display:"flex",height:"100%"},o.a.createElement(d.b,{alignItems:"around",display:"flex",height:"100%",marginTop:10},o.a.createElement(Ee,{isChecked:!s&&i.toLowerCase()===C.h,label:C.h,selectGender:function(){return n.onSelectGender(C.h)},value:n.renderGenderLabel(l.a._("Female"),!0),isHorizontal:!0}),o.a.createElement(Ee,{isChecked:!s&&i.toLowerCase()===C.l,label:C.l,selectGender:function(){return n.onSelectGender(C.l)},value:n.renderGenderLabel(l.a._("Male"),!0),isHorizontal:!0}),o.a.createElement(Ee,{isChecked:s,label:C.F,selectGender:function(){return n.onSelectGender(C.F)},value:s?o.a.createElement(d.b,{"data-test-id":"nux-gender-unspecified-input"},o.a.createElement(d.M,{id:"customGender",onChange:n.updateCustomGender,placeholder:l.a._("Enter custom gender","placeholder text for custom gender text field"),type:"text",value:a})):n.renderGenderLabel(l.a._("Non-binary","Non-binary label for custom gender"),!0),isHorizontal:!0})),c&&o.a.createElement(d.b,{"data-test-id":"nux-gender-unspecified-done-btn"},o.a.createElement(d.c,{color:"red",disabled:!i&&!a,inline:!0,onClick:function(){return n.updateGenderCompleteStep()},text:l.a._("Done","button text for entering a custom gender type")}))))}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&we(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatchSetNuxStepProgress,n=e.isRenux,r=e.setNuxGenderProgress;t("gender"),n||r(C.A),Object(O.a)(13,{view:n?213:24,viewParameter:3120})}},{key:"onSelectGender",value:function(e){var t=this.props.requestContext,n=this.state,r=n.showCustomGenderTextfield;n.showNextButton?this.setState({gender:e,showCustomGenderTextfield:e===C.F}):e===C.F&&new he.c(t,"web_hide_custom_gender_field").enabled()?this.setState({gender:C.F,showCustomGenderTextfield:!1},this.updateGenderCompleteStep):e===C.F||r?this.setState({gender:C.F,customGender:"",showCustomGenderTextfield:!r,showCustomGenderDoneButton:!1}):this.setState({gender:e},this.updateGenderCompleteStep)}},{key:"setUserStateCompletedGenderStep",value:function(){var e=this.props,t=e.isRenux,n=e.setNuxGenderProgress;t||n(C.b)}},{key:"updateGenderCompleteStep",value:function(){var e=this,t=this.props,n=t.incrementNuxStep,r=t.isRenux,o=t.updateGenderInfo,a=this.state,i=a.customGender,c=a.gender;o(a.showCustomGenderTextfield?{gender:C.F,custom_gender:i.slice(0,30)}:{gender:c}).then(function(){e.setUserStateCompletedGenderStep(),Object(O.a)(101,{component:17,element:241,view:r?213:24,viewParameter:3120}),n()})}},{key:"submitHandler",value:function(e){e.preventDefault()}},{key:"renderGenderLabel",value:function(e,t){return t?o.a.createElement(d.K,{size:"xl"},e):o.a.createElement(d.m,{size:"sm"},e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.isRenux,a=t.personalizationCopy,i=a.headerText,c=a.subHeaderText,s=this.state,u=s.customGender,p=s.showCustomGenderDoneButton,f=s.showCustomGenderTextfield,m=s.showNextButton,b=f?o.a.createElement(r.Fragment,null,o.a.createElement(d.b,{marginEnd:5},o.a.createElement("input",{className:"NuxGenderSelector","data-test-id":"nux-gender-unspecified-input",id:"customGender",onChange:this.setCustomGender,placeholder:u||l.a._("Enter custom gender","placeholder text for custom gender text field"),style:p?C.k:C.j,type:"text"})),!m&&p&&o.a.createElement("div",{"data-test-id":"nux-gender-unspecified-done-btn"},o.a.createElement(d.c,{color:"red",inline:!0,onClick:function(){return e.updateGenderCompleteStep()},text:l.a._("Done","button text for entering a custom gender type")}))):this.renderGenderLabel(l.a._("Non-binary","Non-binary label for custom gender"));return o.a.createElement(be.a,{name:"web_homefeed_nux",activate:!1},function(t){return t.anyEnabled?e.renderOnHomefeed():o.a.createElement(d.b,{display:"flex",direction:"column",height:"100%",justifyContent:"around",paddingY:8,width:"100%"},o.a.createElement(d.b,{direction:"column",display:"flex",paddingX:8,dangerouslySetInlineStyle:{__style:{textAlign:"center"}}},o.a.createElement(d.m,{size:n?"xs":"sm"},i),n&&o.a.createElement(d.K,{align:"center",size:"xl"},c)),o.a.createElement(d.b,null,o.a.createElement(d.j,null),o.a.createElement(Ee,{isChecked:!f&&e.state.gender.toLowerCase()===C.h,label:C.h,selectGender:function(){return e.onSelectGender(C.h)},value:e.renderGenderLabel(l.a._("Female"))}),o.a.createElement(Ee,{isChecked:!f&&e.state.gender.toLowerCase()===C.l,label:C.l,selectGender:function(){return e.onSelectGender(C.l)},value:e.renderGenderLabel(l.a._("Male"))}),o.a.createElement(Ee,{isChecked:f,label:C.F,selectGender:function(){return e.onSelectGender(C.F)},value:b})),m&&o.a.createElement(d.b,{"data-test-id":"nux_gender_next_btn",marginTop:8,marginStart:8,marginEnd:8},o.a.createElement(d.c,{accessibilityLabel:l.a._("Next","go to next nux step"),color:"red",disabled:f&&0===e.state.customGender.length,onClick:function(){return e.updateGenderCompleteStep()},text:l.a._("Next","next nux step button"),type:"button"})))})}}])&&_e(n.prototype,a),i&&_e(n,i),t}(),ke=Object(J.compose)(Object(a.connect)(function(e){var t=e.viewer;return{gender:t.gender?t.gender:"",customGender:t.customGender?t.customGender:""}},function(e,t){return{dispatchSetNuxStepProgress:function(t){return e(Object(k.a)(t))},setNuxGenderProgress:function(t){return e(Object(N.a)(C.t,t))},updateGenderInfo:function(t){return e(Object(N.f)({updateUserData:t}))}}}),ge.e)(Oe),Ce=n("kiCl"),Ne=Object(v.b)({name:"LocalesResource",key:"items"})(_);function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pe(e){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Re=function(e){function t(){var e,n,a,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,s=new Array(c),u=0;u<c;u++)s[u]=arguments[u];return a=this,i=(e=Pe(t)).call.apply(e,[this].concat(s)),n=!i||"object"!==Te(i)&&"function"!=typeof i?Le(a):i,Ae(Le(Le(n)),"state",{locale:n.props.reduxLocale||(n.context||{}).locale||C.e,country:n.props.reduxCountry||(n.context||{}).country||C.d,swappingLanguage:!1}),Ae(Le(Le(n)),"onNextButtonClick",function(){var e=n.props,t=e.incrementNuxStep,r=e.isRenux,o=e.updateUserInfo,a=e.setNuxLocaleProgress,i=n.state;o({updateUserData:{country:i.country,locale:i.locale}}).then(function(){r||a(C.b),Object(O.a)(101,{component:17,element:10374,view:24,viewParameter:3139}),t()})}),Ae(Le(Le(n)),"updateLocale",function(e){var t=e.value;return n.setState({locale:t})}),Ae(Le(Le(n)),"updateCountry",function(e){var t=e.value;return n.setState({country:t})}),Ae(Le(Le(n)),"renderOnHomefeed",function(){var e=n.props.personalizationCopy.headerText,t=n.state,a=t.country,i=t.locale,c=t.swappingLanguage;return o.a.createElement(r.Fragment,null,o.a.createElement(d.m,{size:"sm",overflow:"normal"},e),o.a.createElement(d.b,{display:"flex",justifyContent:"center",marginBottom:10,marginTop:5},o.a.createElement(d.b,{"data-test-id":"nux-locale-select",marginRight:3,width:350},o.a.createElement(Ne,{id:"newUserLanguage",name:"locale",onChange:n.updateLocale,value:i})),o.a.createElement(d.b,{"data-test-id":"nux-country-select",marginLeft:3,width:350},o.a.createElement(w,{id:"newUserCountry",name:"country",onChange:n.updateCountry,value:a}))),o.a.createElement(d.b,{"data-test-id":"nux-locale-country-next-btn",direction:"column",display:"flex",flex:"grow",justifyContent:"center",padding:1},o.a.createElement(d.c,{size:"lg",color:"red",text:l.a._("Next","go to next step"),onClick:n.onNextButtonClick,type:"submit",disabled:c})))}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatchSetNuxStepProgress,n=e.isRenux,r=e.setNuxLocaleProgress;n||r(C.A),t("country"),E.b.localStorage.getItem("signupUserLocale")||E.b.localStorage.getItem("signupUserCountry")||Object(O.a)(13,{view:24,viewParameter:3139})}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=this.props,o=r.toggleLoadingIndicator,a=r.isBizNux,i=r.updateUserInfo,c=t.country,l=t.locale,d=this.state,p=d.country,f=d.locale,m=c!==p,b=l!==f;(m||b)&&i({updateUserData:{country:p,locale:f}}).then(function(){if(m&&E.b.localStorage.setItem("signupUserCountry",p),b){E.b.localStorage.setItem("signupUserLocale",f);var e=new u.a;e.evt=new Ce.a("",null,{forceRefresh:1}),a?n.setState({swappingLanguage:!0}):o(!0),s.default.navigate("/",e)}})}},{key:"render",value:function(){var e=this,t=this.props.personalizationCopy.headerText,n=this.state,r=n.country,a=n.locale,i=n.swappingLanguage;return o.a.createElement(be.a,{name:"web_homefeed_nux",activate:!1},function(n){return n.anyEnabled?e.renderOnHomefeed():o.a.createElement(d.b,{display:"flex",direction:"column",height:"100%",padding:8,width:"100%"},o.a.createElement(d.b,{alignItems:"center",dangerouslySetInlineStyle:{__style:{textAlign:"center"}},display:"flex",direction:"column",flex:"grow",justifyContent:"around",marginBottom:8},o.a.createElement(d.b,{width:"100%"},o.a.createElement(d.m,{size:"sm"},t)),o.a.createElement(d.b,{width:"100%"},o.a.createElement(d.b,{"data-test-id":"nux-locale-select"},o.a.createElement(Ne,{id:"newUserLanguage",name:"locale",onChange:e.updateLocale,value:a})),o.a.createElement(d.b,{marginTop:4,"data-test-id":"nux-country-select"},o.a.createElement(w,{id:"newUserCountry",name:"country",onChange:e.updateCountry,value:r})))),o.a.createElement(d.b,{bottom:!0,"data-test-id":"nux-locale-country-next-btn"},o.a.createElement(d.c,{size:"lg",color:"red",text:l.a._("Next","go to next step"),onClick:e.onNextButtonClick,type:"submit",disabled:i})))})}}])&&Ie(n.prototype,a),i&&Ie(n,i),t}();Re.contextTypes={country:S.a.string,locale:S.a.string};var Ue=Object(a.connect)(function(e){var t=e.viewer;return{reduxCountry:t.country?t.country:"",reduxLocale:t.locale?t.locale:""}},function(e,t){return{updateUserInfo:function(t){return e(Object(N.f)(t))},setNuxLocaleProgress:function(t){return e(Object(N.a)(C.r,t))},dispatchSetNuxStepProgress:function(t){return e(Object(k.a)(t))}}})(Re);function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function De(e){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var He=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=this,o=(e=De(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==Ge(o)&&"function"!=typeof o?Me(r):o,ze(Me(Me(n)),"state",{locale:(n.context||{}).locale||C.e}),ze(Me(Me(n)),"onNextButtonClick",function(){var e=n.props,t=e.incrementNuxStep,r=e.updateUserInfo,o=e.setNuxLocaleProgress;r({updateUserData:{locale:n.state.locale}}).then(function(){o(C.b),Object(O.a)(101,{component:17,element:11390,view:24,viewParameter:3305}),t()})}),ze(Me(Me(n)),"updateLocale",function(e){var t=e.value;return n.setState({locale:t})}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatchSetNuxStepProgress;(0,e.setNuxLocaleProgress)(C.A),t("locale"),E.b.localStorage.getItem("signupUserLocale")||Object(O.a)(13,{view:24,viewParameter:3305})}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.toggleLoadingIndicator,o=n.updateUserInfo,a=t.locale,i=this.state.locale,c=a!==i;c&&o({updateUserData:{locale:i}}).then(function(){if(c){E.b.localStorage.setItem("signupUserLocale",i);var e=new u.a;e.evt=new Ce.a("",null,{forceRefresh:1}),r(!0),s.default.navigate("/",e)}})}},{key:"render",value:function(){var e=this.props.personalizationCopy.headerText,t=this.state.locale;return o.a.createElement(d.b,{display:"flex",direction:"column",height:"100%",padding:8,width:"100%"},o.a.createElement(d.b,{alignItems:"center",dangerouslySetInlineStyle:{__style:{textAlign:"center"}},display:"flex",direction:"column",flex:"grow",justifyContent:"around",marginBottom:8},o.a.createElement(d.m,{size:"sm"},e),o.a.createElement(d.b,{width:"100%","data-test-id":"nux-locale-select"},o.a.createElement(Ne,{id:"newUserLanguage",name:"locale",onChange:this.updateLocale,value:t}))),o.a.createElement(d.b,{bottom:!0,"data-test-id":"nux-locale-next-btn"},o.a.createElement(d.c,{size:"lg",color:"red",text:l.a._("Next","go to next step"),onClick:this.onNextButtonClick,type:"submit"})))}}])&&Be(n.prototype,a),i&&Be(n,i),t}();He.contextTypes={locale:S.a.string};var We=Object(a.connect)(null,function(e,t){return{updateUserInfo:function(t){return e(Object(N.f)(t))},setNuxLocaleProgress:function(t){return e(Object(N.a)(C.v,t))},dispatchSetNuxStepProgress:function(t){return e(Object(k.a)(t))}}})(He),Ye=n("dg2R"),Ke=n("V0Gb"),Xe=function(e){var t=e.nuxStepIndex,n=e.showCounter,r=e.numSteps;return n&&r>1?o.a.createElement(d.b,null,o.a.createElement(d.K,{size:"md"},Object(i.i)(l.a._("Step {{current}} of {{total}}"),{current:"".concat(t+1),total:"".concat(r)}))):null},qe=40,Ve="10px",Je="15px",Qe="30px",Ze="45px",$e="85px",et=function(e,t,n,r,a){return o.a.createElement(d.b,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",margin:2,width:t},o.a.createElement(d.b,{dangerouslySetInlineStyle:{__style:{marginTop:n===Ve?"3px":"0px"}},"data-test-id":"nux-toc-dot",color:e,height:n,shape:"circle",width:n}),r&&o.a.createElement(d.b,{dangerouslySetInlineStyle:{__style:{whiteSpace:a?"nowrap":"",marginTop:n===Ve?"6px":"4px"}},"data-test-id":"nux-toc-text",display:"flex",wrap:!0},o.a.createElement(d.K,{align:"center",bold:!0,color:e,size:"sm"},r)))},tt="M24 12a2 2 0 0 1-2 2H7.676l4.631 4.586a2 2 0 1 1-2.829 2.828L0 12l9.478-9.414a2 2 0 0 1 2.829 2.828L7.676 10H22a2 2 0 0 1 2 2";var nt=o.a.memo(function(e){var t=e.renderType,n=e.currentNuxStep,r=e.steps,a=e.onPrevStepClick,i=r.map(function(e){return e.moduleName}),c=i.indexOf(n.moduleName),s=c>0&&o.a.createElement(be.a,{name:"web_nux_back_button"},function(e){return e.anyEnabled&&o.a.createElement(d.b,{display:"flex",alignItems:"center"},o.a.createElement(d.o,{accessibilityLabel:l.a._("Go back to previous step","Accessibility label on NUX back button"),dangerouslySetSvgPath:{__path:tt},iconColor:"gray",size:"sm",onClick:a}))});if(r.length>1)return o.a.createElement(d.b,{"data-test-id":"nux-toc-container",display:"flex",justifyContent:"between",padding:4},o.a.createElement(d.b,{width:qe},s),o.a.createElement(d.b,{display:"flex",justifyContent:"center"},r.map(function(e,r){return o.a.createElement("div",{key:r},function(e){var r=i.indexOf(e.moduleName)>c,o=r?"darkGray":"red",a=r?Ve:Je,s="",u=Qe,d=!1;if("single"===t){u=Ze,d=!0;var p=e.moduleName===n.moduleName,f={NuxGenderStep:l.a._("You","Label for NUX gender step in a table of contents"),NuxLocaleCountryStep:l.a._("Your Language","Label for NUX language/locale step in a table of contents"),NuxPicker:l.a._("Your Interests","Label for NUX topic picker in a table of contents"),NuxExtensionUpsell:l.a._("Your Browser","Label for NUX Browser Extension in a table of contents")};s=p?f[e.moduleName]:""}return"all"===t&&(u=$e,s={NuxGenderStep:l.a._("You","Label for NUX gender step in a table of contents, where text should be short since there is not much space to show it"),NuxLocaleCountryStep:l.a._("Language","Label for NUX language/locale step in a table of contents, where text should be short since there is not much space to show it"),NuxPicker:l.a._("Interests","Label for NUX topic picker in a table of contents, where text should be short since there is not much space to show it"),NuxExtensionUpsell:l.a._("Extension","Label for NUX Browser Extension in a table of contents, where text should be short since there is not much space to show it")}[e.moduleName]||""),et(o,u,a,s,d)}(e))})),o.a.createElement(d.b,{width:qe}))});function rt(e){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function at(e){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function it(e,t){return(it=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ct(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function st(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lt=["NuxDismissableWelcome","NuxWelcomeNameStep","NuxAboutYouStep","NuxGenderStep","NuxLocaleCountryStep","NuxLocaleStep","NuxCountryStep"],ut=110,dt=280,pt=575,ft=function(e){function t(){var e,n,a,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,s=new Array(c),l=0;l<c;l++)s[l]=arguments[l];return a=this,i=(e=at(t)).call.apply(e,[this].concat(s)),n=!i||"object"!==rt(i)&&"function"!=typeof i?ct(a):i,st(ct(ct(n)),"state",{animateIn:!0}),st(ct(ct(n)),"runAnimation",function(){window.setTimeout(function(){return n.setState({animateIn:!1})},200)}),st(ct(ct(n)),"renderOnHomefeed",function(){var e=n.props,t=e.children,a=e.nuxStep,i=e.steps,c=e.isLoading,s=e.onPrevStepClick,l=n.state.animateIn,u=["NuxPicker","NuxEducationLoader"].includes(a.moduleName)&&!c?pt:dt,p="NuxEducationLoader"===a.moduleName||i.length<=1;return o.a.createElement(r.Fragment,null,o.a.createElement(d.b,{dangerouslySetInlineStyle:{__style:{background:"rgba(255, 255, 255, 0.8)",top:-104,zIndex:999}},height:64,position:"absolute",width:"100%"}),o.a.createElement(d.b,{color:"white",dangerouslySetInlineStyle:{__style:{margin:"40px 40px 16px",opacity:l?0:1,transition:"height .1s, opacity .1s ease-in .1s",textAlign:"center"}},height:l?0:u,overflow:"scroll"},o.a.createElement(d.b,{alignItems:"center",direction:"column",display:"flex",height:"100%",minWidth:C.n,position:"relative"},!p&&o.a.createElement(nt,{currentNuxStep:a,onPrevStepClick:s,renderType:"dots",steps:i,inHomefeedExp:!0}),t)),o.a.createElement(d.r,null,o.a.createElement(d.b,{bottom:!0,color:"white",dangerouslySetInlineStyle:{__style:{opacity:.8,top:u+ut,transition:"height .1s linear .1s"}},height:l?0:"100%",position:"absolute",left:!0,right:!0})),c&&o.a.createElement(d.r,null,o.a.createElement(d.b,{bottom:!0,dangerouslySetInlineStyle:{__style:{zIndex:999}},height:"100vh",left:!0,position:"absolute",right:!0,top:!0},o.a.createElement(Ke.a,null))))}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&it(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.isRenux,r=t.isSimpleRenux,o=t.requestContext;document.body&&(document.body.style.overflow="hidden");var a=new he.c(o,"web_renux_moving_bg_pins");n&&!r&&a.enabled()&&(this.windowScrollInterval=window.setInterval(function(){window.scrollBy(0,1)},50),this.windowScrollTimer=window.setTimeout(function(){window.clearInterval(e.windowScrollInterval)},12e4)),Ye.b.pause(),this.runAnimation()}},{key:"componentDidUpdate",value:function(){this.runAnimation()}},{key:"componentWillUnmount",value:function(){this.windowScrollInterval&&window.clearInterval(this.windowScrollInterval),this.windowScrollTimer&&window.clearTimeout(this.windowScrollTimer),document.body&&(document.body.style.overflow=""),Ye.b.resume()}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,a=t.displayHide,i=t.onHide,c=t.onPrevStepClick,s=t.nuxStep,u=t.steps,p=t.isLoading,f=t.showCounter,m=t.showTableContents,b=u.map(function(e){return e.moduleName}).indexOf(s.moduleName);return o.a.createElement(be.a,{name:"web_homefeed_nux",activate:!1},function(t){return t.anyEnabled?e.renderOnHomefeed():o.a.createElement(d.r,null,o.a.createElement(d.b,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",zIndex:"999"}},display:"flex",height:"100vh",justifyContent:"center",overflow:"scroll",position:"fixed",width:"100vw",top:!0},o.a.createElement(d.b,{color:"white",dangerouslySetInlineStyle:{__style:{transition:lt.includes(s.moduleName)?"":"width 0.5s"}},direction:"column",display:"flex",height:640,position:"relative",shape:"rounded",width:lt.includes(s.moduleName)?544:800},p&&o.a.createElement(Ke.a,null),m&&o.a.createElement(r.Fragment,null,o.a.createElement(nt,{currentNuxStep:s,onPrevStepClick:c,renderType:"dots",steps:u}),o.a.createElement(d.j,null)),o.a.createElement(d.b,{flex:"grow",height:"100%",width:"100%"},n),o.a.createElement(d.b,{position:"absolute",marginEnd:8,marginTop:8,right:!0,top:!0},o.a.createElement(Xe,{nuxStepIndex:b,showCounter:f,numSteps:u.length}),a&&i&&o.a.createElement(d.o,{accessibilityLabel:l.a._("cancel","close nux modal"),icon:"cancel",onClick:i,size:"sm"})))))})}}])&&ot(n.prototype,a),i&&ot(n,i),t}(),mt=n("dkdd"),bt=n("POeB"),ht=n("yxuo"),gt=Object(ge.e)(function(e){var t=e.requestContext,n=e.interests,r=e.InterestComponentToRender,a=e.gridContainerRef,i=n&&n.length<1,c=C.m.DESKTOP,s=new he.b(t,"web_nux_picker_hover_state"),u=s.check("enabled_border")||s.check("employees")?8:0;return o.a.createElement("div",{style:c.STYLES},o.a.createElement(d.v,{columnWidth:c.COLUMN_WIDTH+u,comp:r,loadItems:function(){},gutterWidth:c.GUTTER_WIDTH-u,items:n,minCols:c.COLUMNS,scrollContainer:function(){return a||window}}),o.a.createElement(d.G,{accessibilityLabel:l.a._("Loading topics"),show:i}))}),yt=n("x0Vy"),_t=function(e){var t=e.interests,n=e.handleInterestClickFn,r=e.interestFlipMessages,a=e.interestsToFlip;return o.a.createElement(gt,Object.assign({},e,{InterestComponentToRender:function(e){e.itemIdx;var i=e.data,c={clickHandler:n(i),interest:i,key:i.id,isSelected:i.is_followed,flipText:r[i.id]||"",shouldFlip:a.has(i.id)};return t.length>0&&E.b.localStorage.setItem("signupInterestsPickerStartTime",Date.now()),o.a.createElement(yt.a,c)}}))},vt=n("IO+S"),wt=function(e){var t=e.categories,n=e.handleInterestClickFn,r=e.interestFlipMessages,a=e.interestsToFlip;return o.a.createElement(d.b,{display:"flex",direction:"row",justifyContent:"between",wrap:!0,paddingX:8},t.map(function(e){return o.a.createElement(d.b,{key:e.title,paddingY:1},o.a.createElement(d.K,{size:"xl",bold:!0},e.title),o.a.createElement(d.b,{direction:"row",display:"flex",justifyContent:"between"},e.interests.map(function(e){var t={clickHandler:n(e),interest:e,key:e.id,isSelected:e.is_followed,isCategorized:!0,flipText:r[e.id]||"",shouldFlip:a.has(e.id)};return o.a.createElement(d.b,{key:e.id,padding:1},o.a.createElement(yt.a,t))})))}))};function xt(e){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function St(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Et(e){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ot(e,t){return(Ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Ct=n.n(vt)()(function(){E.b.localStorage.setItem("signupInterestsPickerScrollDown",!0)}),Nt=function(e){function t(){var e,n,r,o,a,i,c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];return r=this,o=(e=Et(t)).call.apply(e,[this].concat(l)),n=!o||"object"!==xt(o)&&"function"!=typeof o?kt(r):o,a=kt(kt(n)),c=function(){var e=n.gridContainer.scrollTop===n.gridContainer.scrollHeight-n.gridContainer.offsetHeight;Ct(),n.props.handleBottomScroll(e)},(i="handleScroll")in a?Object.defineProperty(a,i,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[i]=c,n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ot(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.categorized,r=t.categoryProps,a=t.handleBottomScroll,i=t.handleInterestClickFn,c=t.interests,s=t.showTableOfContents,u=t.interestFlipMessages,p=t.interestsToFlip,f=o.a.createElement(_t,{gridContainerRef:this.gridContainer,handleBottomScroll:a,handleInterestClickFn:i,interests:c,showTableOfContents:s,interestFlipMessages:u,interestsToFlip:p});return n&&r.categories&&(f=o.a.createElement(wt,Object.assign({},this.props,r))),o.a.createElement(d.b,{dangerouslySetInlineStyle:{__style:{paddingBottom:!n&&"40px"}},height:s?"280px":"368px",flex:"grow",overflow:"scrollY",width:"800px"},o.a.createElement("div",{onScroll:this.handleScroll,ref:function(t){e.gridContainer=t}},c.length>0?f:o.a.createElement(d.G,{accessibilityLabel:l.a._("Loading default interests"),show:!0})))}}])&&St(n.prototype,r),a&&St(n,a),t}(),Tt=n("q579"),It=n("p968"),Pt=n("yINQ");function jt(e){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Dt(e,t,n[t])})}return e}function Rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ut(e){return(Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gt(e,t){return(Gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ft(){var e,t,n=1e3*(t=90-(e=20),e+Math.floor(Math.random()*t)),r=l.a.getLocaleData().locale,o=Object(It.d)(r,n,{shortform:!0});return function(e){var t=e.length;return e[Math.floor(Math.random()*t)]}([Object(i.i)(l.a.ngettext("{{ formattedNumber }} person collecting ideas about","{{ formattedNumber }} people collecting ideas about",n,"How many people collect ideas about an interest, where interest name is shown underneath this text, and number is formatted in a short form such as 10K or 1万 instead of 10000 when applicable to the locale"),{formattedNumber:o}),Object(i.i)(l.a.ngettext("{{ formattedNumber }} person saving ideas about","{{ formattedNumber }} people saving ideas about",n,"How many people save ideas about an interest, where interest name is shown underneath this text, and number is formatted in a short form such as 10K or 1万 instead of 10000 when applicable to the locale"),{formattedNumber:o}),Object(i.i)(l.a.ngettext("{{ formattedNumber }} person sharing ideas about","{{ formattedNumber }} people sharing ideas about",n,"How many people share ideas about an interest, where interest name is shown underneath this text, and number is formatted in a short form such as 10K or 1万 instead of 10000 when applicable to the locale"),{formattedNumber:o})])}var Mt=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=this,o=(e=Ut(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==jt(o)&&"function"!=typeof o?Bt(r):o,Dt(Bt(Bt(n)),"state",{defaultInterests:[],categoryProps:{},contextualMap:{},addedContextualTopics:{},interestFlipMessages:{},interestsToFlip:new Set}),Dt(Bt(Bt(n)),"calculateCategories",function(){var e={},t=n.getInterestsWithUpdatedIsFollowed(),r=n.handleInterestClickFn;t.forEach(function(t){var n=t.nux_category||"";Object.keys(e).includes(n)?e[n].push(t):e[n]=[t]});var o=[];if(Object.keys(e).forEach(function(t){o.push({title:t,interests:e[t]})}),6===o.length){for(var a=0;a<o.length;a++){var i=o[a];if(""===i.title||!i.interests||3!==i.interests.length)return}n.setState({categoryProps:{categories:o,handleInterestClickFn:r}})}}),Dt(Bt(Bt(n)),"handleInterestClickFn",function(e){return function(){var t=n.props,r=t.selectedInterests,o=t.onSelectedInterestsChange,a=t.inDynamicExp,i=!Object(c.b)(r,e);o([e],i),n.logInterestClick(i),n.setState({interestsToFlip:new Set([e.id])}),a&&n.contextualUpdateInterests(Dt({},e.id,""))}}),Dt(Bt(Bt(n)),"logInterestClick",function(e){var t=n.props.isRenux,r=e?1030:1151;Object(O.a)(101,{component:36,element:r,view:t?213:24,viewParameter:172})}),Dt(Bt(Bt(n)),"componentName",C.w),Dt(Bt(Bt(n)),"recordRenderLogToServer",function(){var e=n.renderTimers.pop();e.end(),ht.default.logToServer(ht.default.SERVER_LOG_TYPE.RENDER_TIME,ht.default.HTTP_METHOD.POST,{timing:e.getCompletedTime(),component:n.componentName})}),Dt(Bt(Bt(n)),"renderTimers",[]),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gt(e,t)}(t,r["Component"]),n=t,(a=[{key:"getExtraImageSignal",value:function(){var e=Object(c.a)(),t=e.plpImages,n=e.blpImages,r=this.props,o=r.mostRecentPinImage,a=r.plpEnabledGroup,i=r.plpActivate;return o&&(i&&i(),a)?[o]:t.length>0?t:n}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.isRenux,r=t.isSimpleRenux,o=t.selectedInterests,a=t.limited,i=t.inDynamicExp,c=q.a.create("NuxInterestsResource",{is_renux:n,logNetworkTimer:!0,loggerComponentName:C.w,extraImageSignal:this.getExtraImageSignal(),hideFollowedInterests:n&&!r,limited:a,urlParams:Tt.a.getQueryStringParams()}).callGet({showError:!1},{retries:1}).then(function(t){if(t.resource_response&&t.resource_response.data){e.logSignupTiming();var n=e.mapInterests(o,t.resource_response.data);e.setState({defaultInterests:n}),e.getInterestsWithUpdatedIsFollowed().length>0&&e.calculateCategories()}}).catch(function(e){bt.default&&bt.default.showError(e.message||l.a._("Unable to load topics","Error message when failed to load topics."))}),s=Promise.resolve(!0);i&&(s=q.a.create("NuxContextualInterestsResource").callGet({showError:!1},{retries:1}).then(function(t){if(t.resource_response&&t.resource_response.data){for(var n=t.resource_response.data,r=Object.keys(n),o=0;o<r.length;o++){var a=r[o];n[a]=e.mapInterests([],n[a])}e.setState({contextualMap:t.resource_response.data})}}).catch(function(e){bt.default&&bt.default.showError(e.message||l.a._("Unable to load contextual topics","Error message when failed to get contextual topics."))}));Promise.all([c,s]).then(function(){var t=e.state,n=t.contextualMap,r=t.defaultInterests,o=t.interestFlipMessages,a={};r.forEach(function(e){!0===e.is_followed&&(a=At({},a,Dt({},e.id,"")))}),Object.keys(a).length>0&&e.contextualUpdateInterests(a);var i=At({},o);r.forEach(function(e){o[e.id]||(i[e.id]=Ft())}),Object.keys(n).forEach(function(e){(n[e]||[]).forEach(function(e){i[e.id]||(i[e.id]=Ft())})}),e.setState({interestsToFlip:new Set(Object.keys(a)),interestFlipMessages:i})})}},{key:"UNSAFE_componentWillUpdate",value:function(e,t){this.state.defaultInterests!==t.defaultInterests&&this.renderTimers.unshift((new Pt.a).start())}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.defaultInterests;n!==t.defaultInterests&&(this.renderTimers.length&&this.recordRenderLogToServer(),this.calculateCategories()),n.length>0&&0===t.defaultInterests.length&&this.props.preselect&&this.preselectInterests()}},{key:"getInterestsWithUpdatedIsFollowed",value:function(){var e=this.props.selectedInterests;return this.state.defaultInterests.map(function(t){return t.is_followed=Object(c.b)(e,t),t})}},{key:"logSignupTiming",value:function(){var e=E.b.localStorage.getItem("signupTime");if(e){var t=Date.now()-e;t<C.B&&ht.default.logToServer(ht.default.SERVER_LOG_TYPE.SIGNUP_LOAD,ht.default.HTTP_METHOD.POST,{timing:t,component:"nux"}),E.b.localStorage.removeItem("signupTime")}}},{key:"mapInterests",value:function(e,t){var n=this.props,r=n.anyEnabledForPreselectExp,o=n.customActivateForPreselectExp,a=t.map(function(e){var t=e.log_data,n=JSON.parse(t);return n&&"viewed_recs"===n.source&&0===n.pos&&(o&&o(),r&&(e.is_followed=!0)),At({},e,{label:e.name})});this.props.onSelectedInterestsChange(a.filter(function(e){return e.is_followed}),!0);var i=new Set(e.map(function(e){return e.id})),c=a.filter(function(e){return!i.has(e.id)});return e.concat(c)}},{key:"preselectInterests",value:function(){var e=this.props,t=e.numberToFollow,n=e.onSelectedInterestsChange,r=this.state.defaultInterests,o=t||C.g;n(r.slice(0,o),!0)}},{key:"contextualUpdateInterests",value:function(e){var t=this.props,n=t.dynamicEnabledGroup,r=t.dynamicActivate,o=this.state,a=o.defaultInterests,i=o.contextualMap,c=o.addedContextualTopics,s=[],l=!1;a.forEach(function(t){if(s.push(t),Object.keys(e).includes(t.id)&&Object.keys(i).includes(t.id)&&!Object.keys(c).includes(t.id)){if(r&&r(),!n)return;var o=i[t.id]||[];s.push.apply(s,Lt(o)),l=!0}}),l&&this.setState({addedContextualTopics:At({},c,e),defaultInterests:s})}},{key:"render",value:function(){var e=this.props,t=e.categorized,n=e.handleBottomScroll,r=e.showTableOfContents,a=this.state,i=a.interestFlipMessages,c=a.interestsToFlip;return o.a.createElement(Nt,{categorized:t,categoryProps:this.state.categoryProps,handleBottomScroll:n,handleInterestClickFn:this.handleInterestClickFn,interests:this.getInterestsWithUpdatedIsFollowed(),interestFlipMessages:i,interestsToFlip:c,showTableOfContents:r})}}])&&Rt(n.prototype,a),i&&Rt(n,i),t}(),zt=Object(a.connect)(function(e){var t=e.mostRecentPin;return{mostRecentPinImage:t?t.plp_image_signature:null}},function(){return{}})(function(e){return o.a.createElement(be.a,{name:"web_nux_auth_plp_picker",activate:!1},function(t){var n=t.anyEnabled,r=t.customActivate;return o.a.createElement(be.a,{name:"web_nux_dynamic_picker",isEligible:!e.isRenux&&"female"===e.gender,activate:!1},function(t){var a=t.anyEnabled,i=t.group,c=t.customActivate;return o.a.createElement(be.a,{name:"web_nux_preselect_topic",activate:!1,isEligible:!e.isRenux},function(t){var s=t.anyEnabled,l=t.customActivate;return o.a.createElement(be.a,{name:"web_renux_preselect_topic",activate:!1,isEligible:e.isRenux},function(t){var u=t.anyEnabled,d=t.customActivate;return o.a.createElement(Mt,Object.assign({},e,{anyEnabledForPreselectExp:s||u,customActivateForPreselectExp:l||d,inDynamicExp:!!i,dynamicEnabledGroup:a,dynamicActivate:c,plpEnabledGroup:n,plpActivate:r}))})})})})}),Ht=n("OLQZ"),Wt=n.n(Ht),Yt=n("Irlq");function Kt(e){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){$t(e,t,n[t])})}return e}function Vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jt(e){return(Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qt(e,t){return(Qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var en=o.a.createElement(d.b,{dangerouslySetInlineStyle:{__style:{background:"linear-gradient(rgba(255, 255, 255, 0), rgba(255, 255, 255, 1))"}},height:40,left:!0,marginTop:-10,position:"absolute",right:!0,top:!0}),tn=function(e){function t(e){var n,a,c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,c=Jt(t).call(this,e),n=!c||"object"!==Kt(c)&&"function"!=typeof c?Zt(a):c,$t(Zt(Zt(n)),"getButtonState",function(e,t,r,o){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=n.props,s=c.isRenux,u=c.isSimpleRenux,d=c.pickButtonTextGenerator,p=e.length,f=a&&p>=C.o?0:Math.max(0,t-p),m=o.nextButtonText,b=o.completionNextButtonText,h=d(f),g={done:{buttonText:b||l.a._("Done"),isDisabled:!1,allowSkip:!1},more:{buttonText:s&&!u?l.a._("Next","go to next step"):i.i(m||h,{numberLeftToFollow:"".concat(f)}),isDisabled:!0,allowSkip:!1},skip:{buttonText:l.a._("Skip (pick topics for me)"),isDisabled:!1,allowSkip:!0}};return 0===f?g.done:r?g.skip:g.more}),$t(Zt(Zt(n)),"handleBottomScroll",function(e){var t=n.props,r=t.numberToFollow,o=t.selectedInterests,a=t.skipButton,i={nextButtonText:t.nextButtonText,nextButtonTextSingleTopic:t.nextButtonTextSingleTopic,completionNextButtonText:t.completionNextButtonText},c=n.getButtonState(o,r||C.f,a,i,e);n.setState(qt({},n.state,c))}),$t(Zt(Zt(n)),"handleBottomScrollThrottled",Wt()(n.handleBottomScroll,50)),$t(Zt(Zt(n)),"handleNextClick",function(){var e,t=n.props,r=t.customProcessFollowedInterests,o=t.isRenux,a=t.selectedInterests,i=t.followedInterests,c=t.incrementNuxStep,s=t.setNuxPickerProgress,l=t.dispatchUpdateFollows,u=t.dispatchSubmitOrientationContext;if(r)return o||s(C.b),r(),void c();if(o){var d=i.reduce(function(e,t){return e[t.id]=t.is_followed,e},{});e=Promise.resolve(l(d))}else{var p=[],f=[];a.forEach(function(e){p.push(e.id),f.push(e.log_data?e.log_data:null)});var m={interests:p.join(),log_data:JSON.stringify(f),referrer:"nux",user_behavior_data:Object(mt.a)()};e=Promise.resolve(u(m))}e.then(function(){o||s(C.b),Object(O.a)(101,{component:17,element:96,view:n.viewType,viewParameter:172}),c()})}),$t(Zt(Zt(n)),"renderSelectedTopicsSubHeader",function(){var e=n.props.selectedInterests,t=Xt(e.map(function(e){return e.label}),3),r=t[0],a=t[1],c=t[2],s=e.length-3,u=null;return e&&e.length>0&&(u=1===e.length?i.c(l.a._("You've selected {{firstTopic}}.","Subheader text to show the topics a user selects in topic picker"),{firstTopic:r}):2===e.length?i.c(l.a._("You've selected {{firstTopic}} and {{secondTopic}}.","Subheader text to show the topics a user selects in topic picker"),{firstTopic:r,secondTopic:a}):3===e.length?i.c(l.a._("You've selected {{firstTopic}}, {{secondTopic}} and {{thirdTopic}}.","Subheader text to show the topics a user selects in topic picker"),{firstTopic:r,secondTopic:a,thirdTopic:c}):i.c(l.a.ngettext("You've selected {{firstTopic}}, {{secondTopic}}, {{thirdTopic}} and {{count}} more topic.","You've selected {{firstTopic}}, {{secondTopic}}, {{thirdTopic}} and {{count}} more topics.",s,"Subheader text to show the first three topics a user selects in topic picker, followed by a count of remaining topics chosen."),{firstTopic:r,secondTopic:a,thirdTopic:c,count:s.toString()})),o.a.createElement(d.K,{size:"xl"},u)}),$t(Zt(Zt(n)),"renderOnHomefeed",function(){var e=n.props.personalizationCopy.headerText,t=n.state,a=t.isDisabled,i=t.allowSkip,c=t.buttonText,s=n.props,l=s.gender,u=s.isRenux,p=s.isSimpleRenux,f=s.numberToFollow,m=s.onSelectedInterestsChange,b=s.preselect,h=s.selectedInterests,g=s.showTableOfContents;return o.a.createElement(r.Fragment,null,o.a.createElement(d.m,{size:"sm",overflow:"normal"},e),o.a.createElement(d.b,{height:"100%",margin:5,overflow:"hidden"},o.a.createElement(d.b,{direction:"column",display:"flex",height:"100%"},o.a.createElement(zt,{gender:l,handleBottomScroll:n.handleBottomScrollThrottled,isRenux:u,isSimpleRenux:p,numberToFollow:f,onSelectedInterestsChange:m,preselect:b,selectedInterests:h,showTableOfContents:g})),o.a.createElement(d.b,{dangerouslySetInlineStyle:{__style:{background:"linear-gradient(rgba(255, 255, 255, 0), rgba(255, 255, 255, 1))",bottom:75}},height:40,position:"absolute",width:C.n})),o.a.createElement(d.b,{"data-test-id":"nux-picker-done-btn",padding:1},o.a.createElement(d.c,{size:"lg",color:i?"gray":"red",text:c,disabled:a,onClick:n.handleNextClick,type:"submit"})))});var s=e.nextButtonText,u=e.nextButtonTextSingleTopic,p=e.completionNextButtonText,f=e.isRenux,m=e.selectedInterests,b={nextButtonText:s,nextButtonTextSingleTopic:u,completionNextButtonText:p},h=n.getButtonState(m,e.numberToFollow||C.f,e.skipButton,b);return n.state=qt({},h),n.viewType=f?213:24,n}var n,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qt(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatchSetNuxStepProgress,n=e.isRenux,r=e.setNuxPickerProgress;n||r(C.A),t("topic"),Object(O.a)(13,{view:this.viewType,viewParameter:172})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.numberToFollow,r=t.selectedInterests,o=t.skipButton,a=t.nextButtonText,i=t.nextButtonTextSingleTopic,c=t.completionNextButtonText;if(r.length!==e.selectedInterests.length){var s={nextButtonText:a,nextButtonTextSingleTopic:i,completionNextButtonText:c},l=this.getButtonState(r,n||C.f,o,s);this.setButtonState(l)}}},{key:"setButtonState",value:function(e){this.setState(qt({},e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.gender,r=t.isRenux,a=t.isSimpleRenux,i=t.onSelectedInterestsChange,c=t.personalizationCopy,s=c.headerText,u=c.subHeaderText,p=t.preselect,f=t.selectedInterests,m=t.showTableOfContents,b=t.numberToFollow,h=this.state,g=h.isDisabled,y=h.buttonText;return o.a.createElement(be.a,{name:"web_homefeed_nux",activate:!1},function(t){return t.anyEnabled?e.renderOnHomefeed():o.a.createElement(be.a,{name:"web_renux_categorized_topics",isEligible:r&&("male"===n||"female"===n)},function(t){var c=t.group,h=["enabled_categorized","enabled_limited","employees"].includes(c),_="enabled_categorized"===c||"employees"===c;return o.a.createElement(d.b,{direction:"column",display:"flex",height:"100%"},o.a.createElement(d.b,{display:"visuallyHidden",role:"alert"},Object(Yt.b)(l.a._("{{selectedTopicsCount}} of at least 5 topics selected","accessible label how many topics are selected"),{selectedTopicsCount:f.length})),o.a.createElement(d.b,{paddingX:8,marginTop:8,marginBottom:_?3:8,wrap:!0},o.a.createElement(d.m,{size:"xs"},s),r&&o.a.createElement(d.K,{size:"xl"},u),o.a.createElement(be.a,{name:"web_nux_selected_topics_subheader",isEligible:!r},function(t){return t.anyEnabled?e.renderSelectedTopicsSubHeader():null})),o.a.createElement(zt,{categorized:_,gender:n,handleBottomScroll:e.handleBottomScrollThrottled,isRenux:r,isSimpleRenux:a,limited:h,numberToFollow:b,onSelectedInterestsChange:i,preselect:p,selectedInterests:f,showTableOfContents:m}),o.a.createElement(d.b,{position:"relative"},!_&&en,o.a.createElement(d.b,{"data-test-id":"nux-picker-done-btn",marginBottom:8,marginTop:_?3:4,paddingX:8},o.a.createElement(d.c,{size:"lg",color:"red",text:y,disabled:g,onClick:e.handleNextClick,type:"submit"}))))})})}}])&&Vt(n.prototype,a),c&&Vt(n,c),t}();$t(tn,"defaultProps",{skipButton:!1,pickButtonTextGenerator:function(e){return l.a.ngettext("Pick {{ numberLeftToFollow }} more","Pick {{ numberLeftToFollow }} more",e,"number of interests left to pick")}});var nn=Object(a.connect)(function(e){var t=e.viewer;return{gender:t&&t.gender?t.gender:""}},function(e){return{dispatchSetNuxStepProgress:function(t){return e(Object(k.a)(t))},dispatchUpdateFollows:function(t){return e(Object(N.e)(t))},dispatchSubmitOrientationContext:function(t){return e(Object(N.b)(t))},setNuxPickerProgress:function(t){return e(Object(N.a)(C.x,t))}}})(tn),rn=n("lx8N"),on=n("KstO");var an,cn={yellow:"#FAB904",orange:"#FF6400",green:"#0FA573",blue:"#4A90E2",purple:"#B469EB"},sn="DelightfulBubbles__",ln=["".concat(sn,"fadeIn {\n  to {\n    opacity: 1;\n  }\n}\n"),"".concat(sn,"growShrink {\n  0% {\n    transform: scale(0);\n  }\n  50% {\n    transform: scale(1);\n  }\n  100% {\n    transform: scale(0);\n  }\n}\n"),"".concat(sn,"swirl {\n  0% {\n    transform: rotate(0deg) translateX(-50%);\n  }\n  100% {\n    transform: rotate(-360deg) translateX(-50%);\n  }\n}\n")].concat(function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(an=Object.keys(cn).map(function(e){var t,n,r,o,a=(t=Object.keys(cn),n=e,r=t.length,o=t.indexOf(n)+1>=r?0:t.indexOf(n)+1,t[o]);return"".concat(sn,"colorChange_").concat(e," {\n      0% {\n        background-color: ").concat(cn[e],";\n      }\n      50% {\n        background-color: ").concat(cn[a],";\n      }\n    }\n    ")}))||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(an)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()),un=Object(on.a)(ln);function dn(e){return(dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fn(e){return(fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mn(e,t){return(mn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gn=function(e){var t=e.delay,n=e.diameter,r=e.height,a=e.initialColor,i=e.width,c=e.xOffset,s=e.yOffset,l=function(e,t,n,r,o,a,i,c){return{bubblePositionStyles:{position:"absolute",marginLeft:"".concat(a/2-o,"px"),marginTop:"".concat(n/2-o,"px"),left:"".concat(i,"px"),top:"".concat(c,"px")},bubbleSwirlStyles:{animation:"".concat(sn,"swirl 6s ease-in-out ").concat(e,"s infinite forwards"),WebkitAnimation:"".concat(sn,"swirl 6s ease-in-out ").concat(e,"s infinite forwards")},bubbleGrowShrinkStyles:{transform:"scale(0)",WebkitTransform:"scale(0)",animation:"".concat(sn,"growShrink 6s ease-in-out ").concat(e,"s infinite alternate"),WebkitAnimation:"".concat(sn,"growShrink 6s ease-in-out ").concat(e,"s infinite alternate")},bubbleShapeStyles:{height:"".concat(t,"px"),width:"".concat(t,"px"),borderRadius:"50%",backgroundColor:cn[r],opacity:0,animation:"".concat(sn,"colorChange_").concat(r," 12s steps(1, start) ").concat(e,"s infinite forwards,\n      ").concat(sn,"fadeIn 3s linear ").concat(e,"s 1 forwards"),WebkitAnimation:"".concat(sn,"colorChange_").concat(r," 12s steps(1, start) ").concat(e,"s infinite forwards,\n      ").concat(sn,"fadeIn 3s linear ").concat(e,"s 1 forwards")}}}(t,n,r,a,Math.floor(n/2),i,c,s);return o.a.createElement(d.b,{dangerouslySetInlineStyle:{__style:l.bubblePositionStyles}},o.a.createElement(d.b,{dangerouslySetInlineStyle:{__style:l.bubbleSwirlStyles}},o.a.createElement(d.b,{dangerouslySetInlineStyle:{__style:l.bubbleGrowShrinkStyles}},o.a.createElement(d.b,{dangerouslySetInlineStyle:{__style:l.bubbleShapeStyles}}))))},yn=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=this,n=!(o=(e=fn(t)).call.apply(e,[this].concat(i)))||"object"!==dn(o)&&"function"!=typeof o?bn(r):o,hn(bn(bn(n)),"state",{isInitialized:!1}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mn(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=this;this.requestAnimationFrameId=window.requestAnimationFrame(function(){e.setState({isInitialized:!0})})}},{key:"shouldComponentUpdate",value:function(e,t){return!e.numBubbles===this.props.numBubbles||!t.isInitialized===this.state.isInitialized}},{key:"getSize",value:function(){return void 0!==this.props.width&&void 0!==this.props.height?{height:this.props.height,width:this.props.width}:this.containerElement?{height:this.containerElement.offsetHeight,width:this.containerElement.offsetWidth}:{}}},{key:"createBubbles",value:function(e,t){for(var n=this.props,r=n.bubbleSize,a=n.delayFactor,i=n.delayOffset,c=n.numBubbles,s=n.xRadiusAdjustment,l=e+2*n.yRadiusAdjustment,u=t+2*s,d=[],p=Object.keys(cn),f=0;f<c;f+=1){var m=r+Object(on.c)(-4,4),b=p[f%p.length],h=Object(on.b)(l,u),g=h.x,y=h.y;d.push(o.a.createElement(gn,{delay:f*a+i,diameter:m,initialColor:b,xOffset:g,yOffset:y,height:e,width:t,key:f}))}return d}},{key:"render",value:function(){var e=this,t=this.getSize();return o.a.createElement(d.b,Object.assign({},t,{position:"relative"}),o.a.createElement("style",{dangerouslySetInnerHTML:{__html:un}}),o.a.createElement("div",{ref:function(t){return e.containerElement=t}},this.state.isInitialized&&this.createBubbles(t.height||0,t.width||0),o.a.createElement(d.b,{position:"relative"},this.props.children)))}}])&&pn(n.prototype,a),i&&pn(n,i),t}();hn(yn,"defaultProps",{bubbleSize:16,numBubbles:10,xRadiusAdjustment:0,yRadiusAdjustment:0,delayFactor:1,delayOffset:0});var _n=yn,vn=n("ggpB"),wn=n("hCBh");function xn(e){return(xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function En(e){return(En=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function On(e,t){return(On=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nn=250,Tn=function(e){function t(){var e,n,a,c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,u=new Array(s),p=0;p<s;p++)u[p]=arguments[p];return a=this,c=(e=En(t)).call.apply(e,[this].concat(u)),n=!c||"object"!==xn(c)&&"function"!=typeof c?kn(a):c,Cn(kn(kn(n)),"state",{name:n.props.firstName,showAccountSwitchModal:!1,showNameInput:!1,showNoNameError:!1,showNameLengthError:!1}),Cn(kn(kn(n)),"onNameChange",function(e){var t=e.value;n.setState({name:t||"",showNoNameError:!t||i.h(t),showNameLengthError:!!t&&t.length>30})}),Cn(kn(kn(n)),"toggleNameInput",function(){n.setState(function(e){var t=e.showNameLengthError,n=e.showNoNameError,r=e.showNameInput;return{showNameInput:t||n||!r}}),Object(O.a)(101,{element:136,view:24,viewParameter:259})}),Cn(kn(kn(n)),"continueAndSave",function(){var e=n.props,t=e.incrementNuxStep,r=e.setNuxNameProgress,o=e.updateNameInfo,a=n.state.name;o(Object(wn.a)(a)).then(function(){r(),Object(O.a)(101,{element:96,view:24,viewParameter:259}),t()})}),Cn(kn(kn(n)),"getError",function(){var e=n.state,t=e.showNameLengthError,r="";return e.showNoNameError?r=l.a._("And your name is...?","Error flyout when user doesn't input name"):t&&(r=l.a._("Hmm, that's a few characters too long. Try a nickname instead?","Name exceeds 30 character maximum error")),r}),Cn(kn(kn(n)),"handleHideAccountSwitcher",function(){return n.setState({showAccountSwitchModal:!1})}),Cn(kn(kn(n)),"handleNotYouClick",function(e){e.event.preventDefault(),Object(vn.a)("web.nux.click_login"),n.setState({showAccountSwitchModal:!0})}),Cn(kn(kn(n)),"renderOnHomefeed",function(){var e=n.props.personalizationCopy,t=e.headerText,a=e.subHeaderText,c=n.state,s=c.name,u=c.showNameInput,p=i.c(l.a._("{{ titleText }}, {{ name }}!","Greeting with inferred name."),{titleText:t,name:s}),f=t,m=n.getError(),b=o.a.createElement(d.b,{"data-test-id":"nux-edit-name-btn",marginStart:1},o.a.createElement(d.o,{accessibilityLabel:l.a._("Edit name","Icon to edit name inferred from email"),bgColor:"transparent",icon:u?"check":"edit",onClick:n.toggleNameInput,size:"sm"}));return o.a.createElement(r.Fragment,null,o.a.createElement(d.b,{alignItems:"center",display:"flex",maxWidth:"100%"},o.a.createElement(d.m,{size:"sm",truncate:!0},u?f:p),u&&o.a.createElement(d.b,{"data-test-id":"nux-edit-name-input",marginLeft:2,width:Nn},o.a.createElement(d.M,{id:"name",errorMessage:m,onChange:n.onNameChange,placeholder:l.a._("Name","Inferred name textfield placeholder"),type:"text",value:s})),b),o.a.createElement(d.K,{align:"center",size:"xl"},a),o.a.createElement(d.b,{"data-test-id":"nux_name_done_btn",direction:"column",display:"flex",flex:"grow",justifyContent:"center",padding:1},o.a.createElement(d.c,{accessibilityLabel:l.a._("Next","go to next nux step"),color:"red",disabled:!!m,onClick:n.continueAndSave,text:l.a._("Next","next nux step button"),type:"button"})))}),n}var n,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&On(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){this.props.dispatchSetNuxStepProgress("welcome"),Object(O.a)(13,{view:24,viewParameter:259})}},{key:"render",value:function(){var e=this,t=this.props,n=t.personalizationCopy,r=n.headerText,a=n.subHeaderText,c=t.userEmail,s=this.state,u=s.name,p=s.showAccountSwitchModal,f=s.showNameInput,m=i.c(l.a._("{{ titleText }}, {{ name }}!","Greeting with inferred name."),{titleText:r,name:u}),b=r,h=l.a._("Already have a Pinterest account?","subtitle to ask users who create a new account if they meant to log in to an existing account"),g=this.getError(),y=o.a.createElement(d.b,{"data-test-id":"nux-edit-name-btn",marginStart:1},o.a.createElement(d.o,{accessibilityLabel:"editName",bgColor:"transparent",icon:f?"check":"edit",onClick:this.toggleNameInput,size:"sm"}));return o.a.createElement(be.a,{name:"web_homefeed_nux",activate:!1},function(t){return t.anyEnabled?e.renderOnHomefeed():o.a.createElement(o.a.Fragment,null,p&&o.a.createElement(rn.a,{onDismiss:e.handleHideAccountSwitcher,showAddAccount:!0,hideAccountSwitchValueProp:!0,customTaglineText:l.a._("Log in","Title on modal for users to log in to an existing account after they accidentally created a new account")}),o.a.createElement(d.b,{direction:"column",display:"flex",height:"100%",padding:10,minWidth:"100%"},o.a.createElement(d.b,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"around",marginBottom:10,width:"100%"},o.a.createElement(_n,{delayOffset:-5,xRadiusAdjustment:40},o.a.createElement(d.b,{alignItems:"center",color:"lightWash",direction:"column",display:"flex",height:100,justifyContent:"end",overflow:"hidden",shape:"circle",width:100},o.a.createElement(d.n,{accessibilityLabel:l.a._("Loading state for any sign up registration"),color:"gray",icon:"person",size:70}))),o.a.createElement(d.b,{alignItems:"center",marginTop:5},o.a.createElement(d.K,{align:"center",size:"lg",truncate:!0},c)),o.a.createElement(d.b,{alignItems:"end",display:"flex",width:"100%"},o.a.createElement(d.b,{dangerouslySetInlineStyle:{__style:{textAlign:"center"}},direction:"column",display:"flex",marginStart:9,maxHeight:170,overflow:"hidden",width:"100%"},o.a.createElement(d.q,{htmlFor:"name"},o.a.createElement(d.m,{size:"sm"},f?b:m)),f&&o.a.createElement(d.b,{alignItems:"center","data-test-id":"nux-edit-name-input",display:"flex",justifyContent:"center",padding:1},o.a.createElement(d.b,{width:Nn},o.a.createElement(d.M,{id:"name",errorMessage:g,onChange:e.onNameChange,placeholder:l.a._("name"),type:"text",value:u})),y)),!f&&y),o.a.createElement(d.b,{width:"100%"},o.a.createElement(d.K,{align:"center",size:"xl"},a))),o.a.createElement(d.b,{"data-test-id":"nux_name_done_btn"},o.a.createElement(d.c,{accessibilityLabel:l.a._("Next","go to next nux step"),color:"red",disabled:!!g,onClick:e.continueAndSave,text:l.a._("Next","next nux step button"),type:"button"})),o.a.createElement(d.b,{marginTop:4},o.a.createElement(d.P,{onTouch:e.handleNotYouClick,fullWidth:!1},o.a.createElement(d.K,{size:"lg",align:"center"},h),o.a.createElement(d.K,{size:"lg",align:"center",bold:!0},o.a.createElement(d.t,{href:"#"},l.a._("Log in instead","Link allowing users who just created a new account the option to log in instead into an existing account")))))))})}}])&&Sn(n.prototype,a),c&&Sn(n,c),t}(),In=Object(a.connect)(function(e){var t=e.viewer;return{firstName:t.firstName?t.firstName:"",userEmail:t.isAuth?t.email:""}},function(e){return{dispatchSetNuxStepProgress:function(t){return e(Object(k.a)(t))},updateNameInfo:function(t){return e(Object(N.f)({updateUserData:t}))},setNuxNameProgress:function(){return e(Object(N.a)(C.y,C.b))}}})(Tn),Pn=[{moduleName:"NuxPicker"},{moduleName:"NuxExtensionUpsell"},{moduleName:"NuxEducationLoader"}];function jn(e){return(jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function An(e){return(An=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rn(e,t){return(Rn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Un(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Gn=n("JsRk");function Bn(e){return(Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Yn(e,t,n[t])})}return e}function Fn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zn(e){return(zn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hn(e,t){return(Hn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kn=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=this,o=(e=zn(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==Bn(o)&&"function"!=typeof o?Wn(r):o,Yn(Wn(Wn(n)),"state",{followedInterests:[],isLoading:!1,nuxStep:n.getNextStepIndex(-1,n.props.steps,!1),selectedInterests:[],userClickedBack:!1}),Yn(Wn(Wn(n)),"onComplete",function(){var e=n.props,t=e.handleComplete,r=e.isLandingPage,o=e.isRenux,a=e.dispatchUpdateFirstHomeFeedRequestAfterNuxFlag;Object(O.a)(4105,{view:o?213:24,viewParameter:171}),o||a(!0),t(),r&&n.handleNavigate("/")}),Yn(Wn(Wn(n)),"mounted",!1),Yn(Wn(Wn(n)),"handleNavigate",function(e){var t=n.props.router;if(t)t.push(e);else{var r=new u.a;s.default.navigate(e,r)}}),Yn(Wn(Wn(n)),"handleSelectedInterestsChange",function(e,t){n.setState(function(r,o){var a=n.getUpdatedSelectedInterests(r.selectedInterests,e,t),i=n.getUpdatedFollowInterests(r.followedInterests,e,t);return(0,o.dispatchSetNuxSelectedInterestImages)(a.reduce(function(e,t){if(t&&t.images&&t.images["400x"]){var n={height:t.images["400x"].height,width:t.images["400x"].width,url:t.images["400x"].url};e.push(n)}return e},[])),{selectedInterests:a,followedInterests:i}})}),Yn(Wn(Wn(n)),"nuxSteps",{NuxLocaleStep:We,NuxCountryStep:U,NuxGenderStep:ke,NuxLocaleCountryStep:Ue,NuxPicker:nn,NuxExtensionUpsell:me,NuxEducationLoader:oe,NuxWelcomeNameStep:In}),Yn(Wn(Wn(n)),"onPrevStepClickFn",function(e){var t=n.props,r=t.steps,o=t.isRenux,a=r[e].moduleName;return function(){var t={NuxWelcomeNameStep:259,NuxGenderStep:3120,NuxLocaleCountryStep:3139,NuxPicker:172}[a];t&&Object(O.a)(101,{component:17,element:34,view:o?213:24,viewParameter:t}),e>0&&n.setState({nuxStep:e-1,userClickedBack:!0})}}),n}var n,a,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hn(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=this.props.isRenux;this.mounted=!0,Object(O.a)(4104,{view:e?213:24,viewParameter:170})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"getUpdatedFollowInterests",value:function(e,t,n){var r=Fn(e);return t.forEach(function(e){var t=Dn({},e,{is_followed:n}),o=!1;r=r.map(function(e){return e.id===t.id?(o=!0,t):e}),o||r.push(t)}),r}},{key:"getUpdatedSelectedInterests",value:function(e,t,n){var r=Fn(e);return t.forEach(function(t){var o=Object(c.b)(r,t);n&&!o?r.push(Dn({},t,{is_followed:n})):!n&&o&&(r=e.filter(function(e){return e.id!==t.id}))}),r}},{key:"getPersonalizationCopy",value:function(e){var t,n,r=this.props,o=r.isRenux,a=r.isSimpleRenux,c=r.steps,s=e.moduleName,u=c.map(function(e){return e.moduleName}).indexOf(s)===c.length-2;switch(s){case"NuxWelcomeNameStep":return{headerText:l.a._("Welcome to Pinterest","greeting on welcome name step"),subHeaderText:l.a._("Your answers to the next few questions will help us find the right ideas for you","header on nux welcome and name editing step")};case"NuxGenderStep":return t=l.a._("How do you identify?","Header in NUX gender step."),n="",o&&(t=l.a._("It’s time to refresh your feed!","Title on the modal asking user's gender"),n=l.a._("How would you describe yourself?","Subtitle on the modal asking user's gender")),{headerText:t,subHeaderText:n};case"NuxLocaleCountryStep":return{headerText:l.a._("Pick your language and country","Header in NUX locale/country step")};case"NuxLocaleStep":return{headerText:l.a._("Pick your language","Header in NUX locale step")};case"NuxCountryStep":return{headerText:l.a._("Pick your country","Header in NUX country step")};case"NuxPicker":return o&&!a?(t=l.a._("What are you into these days?","Header in ReNUX topic picker step."),n=l.a._("Pick the topics you want to see in your home feed","Subheader in ReNUX topic picker step.")):(t=u?l.a._("Last step! Tell us what you're interested in","Header in NUX topic picker step."):l.a._("Tell us what you're interested in","Header in NUX topic picker step."),n=i.c(l.a._("Pick {{ numberToFollow }} (or more!) to start discovering new ideas","Subheader in NUX topic picker step with required number of topics to follow"),{numberToFollow:String(C.f)})),{headerText:t,subHeaderText:n};case"NuxExtensionUpsell":return{headerText:t=u?l.a._("Last step! Get our handy browser button","Header in NUX browser extension upsell step."):l.a._("Get our handy browser button","Header in NUX browser extension upsell step."),subHeaderText:l.a._("Quickly save any idea you find around the web","Subheader in NUX browser extension upsell step")};default:return{}}}},{key:"nuxStepToRender",value:function(e,t){var n=this,r=this.state,a=r.followedInterests,i=r.selectedInterests,c=this.props,s=c.isRenux,l=c.isSimpleRenux,u=e.moduleName,d=this.nuxSteps[u],p=this.hasNuxStep("NuxGenderStep");return o.a.createElement(ge.a,null,function(r){return o.a.createElement(d,Object.assign({},e.options,{experiments:r.experiments,followedInterests:a,hasGenderStep:p,incrementNuxStep:n.incrementNuxStep(n.state.nuxStep),isSimpleRenux:l,isRenux:s,numberToFollow:s&&!l?C.z:C.f,onSelectedInterestsChange:n.handleSelectedInterestsChange,personalizationCopy:n.getPersonalizationCopy(e),requestContext:r,selectedInterests:i,showTableOfContents:t,toggleLoadingIndicator:function(e){return n.setState({isLoading:e})}}))})}},{key:"getNextStepIndex",value:function(e,t,n){var r=this.props.isRenux,o=e+1;if(n)return o;if(!r)for(;o<t.length&&t[o].isCompleted;)o+=1;return o}},{key:"incrementNuxStep",value:function(e){var t=this,n=this.props,r=n.steps,o=n.dispatchSubmitOrientationContextFollow,a=this.state.userClickedBack,i=this.getNextStepIndex(e,r,a);return i>=r.length?this.onComplete:function(){var n=function(n){if(e!==n)return t.setState({nuxStep:n})};r.length>i&&r[i].options&&r[i].options.onStartApi?r[i].options.onStartApi===C.i?o().finally(n):n(i):n(i)}}},{key:"hasNuxStep",value:function(e){return this.props.steps.some(function(t){return t.moduleName===e})}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.nuxStep,r=this.props,a=r.handleDismiss,i=r.isLandingPage,c=r.isPartner,s=r.isRenux,l=r.isSimpleRenux,u=r.requestContext,d=r.steps,p=function(e){return["NuxEducationLoader"].includes(e)},f=d.filter(function(e){return!p(e.moduleName)}),m=!p(d[n].moduleName)&&!i&&!s,b=m&&f.length>1&&!c,h=m&&!b,g=!(!s||p(d[n].moduleName));return o.a.createElement(ft,{displayHide:g,isLoading:t,isRenux:s,isSimpleRenux:l,nuxStep:d[n],onHide:a,onPrevStepClick:this.onPrevStepClickFn(n),requestContext:u,showCounter:h,showTableContents:b,steps:f},this.nuxStepToRender(d[n],b))}}])&&Mn(n.prototype,a),d&&Mn(n,d),t}();Yn(Kn,"defaultProps",{isRenux:!1,isSimpleRenux:!1});t.a=Object(J.compose)(ge.e,Object(a.connect)(function(e){var t=e.viewer;return{isPartner:t.isAuth&&t.isPartner}},function(e){return{dispatchSetNuxSelectedInterestImages:function(t){return e(function(e){return{type:"SET_NUX_SELECTED_INTEREST_IMAGES",payload:{images:e}}}(t))},dispatchSubmitOrientationContextFollow:function(){return e(Object(N.c)())},dispatchUpdateFirstHomeFeedRequestAfterNuxFlag:function(t){return e(Object(N.d)(t))}}}),V.a,function(e){return function(t){function n(){var e,t,r,o,a,i,c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];return r=this,t=!(o=(e=An(n)).call.apply(e,[this].concat(l)))||"object"!==jn(o)&&"function"!=typeof o?Un(r):o,a=Un(Un(t)),c={skipExtStep:!1},(i="state")in a?Object.defineProperty(a,i,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[i]=c,t}var a,i,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rn(e,t)}(n,r.PureComponent),a=n,(i=[{key:"componentDidMount",value:function(){var e=this,t=this.props.steps;ae.a.extensionReady(C.p).then(function(n){t.some(function(e){return"NuxExtensionUpsell"===e.moduleName})&&n&&e.setState({skipExtStep:!0})})}},{key:"render",value:function(){var t=this.props.steps;return this.state.skipExtStep&&(t=t.filter(function(e){return"NuxExtensionUpsell"!==e.moduleName})),o.a.createElement(e,Object.assign({},this.props,{steps:t}))}}])&&Ln(a.prototype,i),c&&Ln(a,c),n}()},function(e){return function(t,n){return o.a.createElement(e,Object.assign({},t,{steps:t.steps||Pn}))}},Gn.withRouter)(Kn)}}]);
//# sourceMappingURL=pjs-CreativeEditorPageDesktop~ExperiencesAfterHomefeed~ExperiencesBeforeHomefeed~LaunchpadPage~PinAnalyt~5f44890f-fcee2ed82646e079eed1.js.map
