(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["CloseupActionBarCommon"],{g5uw:function(e,t,n){"use strict";n.r(t);var o=n("GyhR"),r=n.n(o),i=n("zPDt"),a=n("Ivf5"),l=n("THGe"),u=n("Qo1m"),c=n("+4EY"),s=n("z/cr"),p=n("HoR0"),f=n("NmcB"),m=Object(a.connect)()(function(e){return r.a.createElement(c.a,null,function(t){var n=t.isImmersiveCloseup;return r.a.createElement(l.a,{accessibilityLabel:u.a._("Promote","Accessible label for button to promote this pin"),buttonColor:"lightGray",buttonText:u.a._("Promote","Text for button to promote this pin"),handleClick:function(){Object(f.a)(101,{component:4,element:10639}),e.dispatch(Object(p.i)(e.pin))},inLegoCloseupView:n,icon:n?s.n:""})})}),d=n("iz36"),b=n("+U6O");function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var v=function(e){function t(){var e,n,o,r,i,a,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,c=new Array(u),s=0;s<u;s++)c[s]=arguments[s];return o=this,n=!(r=(e=E(t)).call.apply(e,[this].concat(c)))||"object"!==y(r)&&"function"!=typeof r?_(o):r,i=_(_(n)),l={paused:!1,showPulsar:!1},(a="state")in i?Object.defineProperty(i,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[a]=l,n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,r.a.Component),n=t,(o=[{key:"componentDidMount",value:function(){this.mountPulsar(),this.props.onSendExperienceMount&&this.experience&&this.props.onSendExperienceMount(this.experience)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"mountPulsar",value:function(){this.experience&&(this.experience.display_data.has_pulsar&&this.setState({showPulsar:!0}))}},{key:"renderPulsar",value:function(){var e=this.props.anchor,t=this.state.paused;if(!e)return null;var n=e.getBoundingClientRect(),o=-(68+n.height/2),i=-(68-n.width/2);return r.a.createElement(b.b,{dangerouslySetInlineStyle:{__style:{position:"absolute",zIndex:1,marginTop:o,marginLeft:i,cursor:"pointer",pointerEvents:"none"}}},r.a.createElement(b.A,{paused:t}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.anchor,o=t.experienceIds,i=t.flyoutSize,a=t.idealDirection,l=t.placementId,u=t.shouldTimeoutDismiss,c=t.textOverflow,s=this.state.showPulsar;return r.a.createElement(d.a,{experienceIds:o,placementId:l,type:8},function(t){var o=t.complete,l=t.dismiss,p=t.display_data;return e.experience=t,p.has_pulsar||p.has_tooltip?(u&&p.disappearTime&&p.disappearTime>0&&(e.timer=setTimeout(function(){return l(),null},p.disappearTime)),r.a.createElement(b.b,{dangerouslySetInlineStyle:{__style:{zIndex:10}}},s&&e.renderPulsar(),p.has_tooltip&&(!p.has_pulsar||e.state.paused)&&r.a.createElement(b.k,{anchor:n,color:"blue",idealDirection:a||"down",onDismiss:function(){},shouldFocus:!1,size:i},r.a.createElement(b.b,{column:12,padding:3},r.a.createElement(b.K,{bold:!0,color:"white",size:"lg",overflow:c},p.text))))):(o(),null)})}}])&&h(n.prototype,o),i&&h(n,i),t}(),w=n("fifU"),S=n("iN5V"),O=n("OtLr"),x=n("UmN8");function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"CloseupActionBar",function(){return R});var D=Object(o.lazy)(function(){return n.e("SecondarySendButtonCommon").then(n.bind(null,"ieLn"))}),R=function(e){function t(e){var n,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,a=C(t).call(this,e),n=!a||"object"!==j(a)&&"function"!=typeof a?I(i):a,T(I(I(n)),"sendExperienceComplete",function(){}),T(I(I(n)),"handleExternalSend",function(){n.sendExperienceComplete()}),T(I(I(n)),"onSendExperienceMount",function(e){e&&e.complete&&500946===e.experience_id&&(n.sendExperienceComplete=e.complete)}),T(I(I(n)),"promoteButtonRef",Object(o.createRef)()),n.sendButtonTooltipRef=r.a.createRef(),n}var n,a,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(t,r.a.Component),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.editable,n=e.gridDescription,o=e.hidePromoteButton,a=e.hideButtons,l=e.imageSrc,u=e.inLegoCloseupView,c=e.isFlyoutOpen,p=e.isOnSecretBoard,f=e.onEditSubmit,d=e.onFlyoutDismiss,y=e.onToggleFlyout,h=e.pin,E=e.pinActionDropdown,g=e.promotedIsRemovable,_=e.saveButton,O=e.shareButtonRef,j=e.viewParameter,P=e.promoteButton,C=!g&&r.a.createElement(b.b,{marginStart:3},_),B=null;if(o)B=null;else if(P)B=r.a.createElement(r.a.Fragment,null,r.a.createElement(b.b,{ref:this.promoteButtonRef},r.a.createElement(b.b,{marginStart:u?0:3},P)),r.a.createElement(v,{experienceIds:[501121],idealDirection:"down",placementId:12,anchor:this.promoteButtonRef.current,flyoutSize:"lg"}));else if(h.is_quick_promotable){var I=Object(S.a)(".partnerCloseupPromoteButton")(m);B=r.a.createElement(b.b,{marginStart:u?0:3,"data-test-id":"closeupPromoteButtonWithPulsar"},r.a.createElement(I,{inLegoCloseupView:u,pin:h}))}var T=p?null:r.a.createElement(w.a,null,r.a.createElement(b.b,null,r.a.createElement("div",{ref:this.sendButtonTooltipRef},r.a.createElement(D,{pinId:h.id,gridDescription:n,imageSrc:l,inLegoCloseupView:u,onToggleFlyout:y,onFlyoutDismiss:d,shareButtonRef:O,onExternalSend:this.handleExternalSend,isFlyoutOpen:c,sendType:"pin"})),_&&!c&&r.a.createElement(v,{experienceIds:[500946],placementId:12,anchor:this.sendButtonTooltipRef.current,onSendExperienceMount:this.onSendExperienceMount}))),R=u?T:r.a.createElement(b.K,{align:"left"},T),L=r.a.createElement(x.a,{isEligible:a,name:"web_align_pin_action_bar_fpe"},function(e){var n=e.anyEnabled;return r.a.createElement(b.b,Object.assign({display:"flex",color:"white",justifyContent:a&&n?"end":"between",paddingX:u?0:6,paddingY:u?0:4,shape:"rounded"},u?{maxWidth:s.j}:{}),!a&&r.a.createElement(b.b,{display:"flex"},t&&r.a.createElement(b.b,{marginEnd:1},r.a.createElement(i.b,{carouselSlotCurrentIndex:h&&h.carousel_data&&h.carousel_data.index,inLegoCloseupView:u,pinId:h.id,onSubmit:f,view:3,viewParameter:j})),E),r.a.createElement(b.b,Object.assign({},u?{}:{dangerouslySetInlineStyle:{__style:{marginStart:"auto"}}},{alignItems:"center",display:"flex"}),T?R:null,B,!u&&C))});return r.a.createElement(r.a.Fragment,null,u?r.a.createElement(b.b,{display:"flex",justifyContent:"between"},L,C):L)}}])&&P(n.prototype,a),l&&P(n,l),t}();t.default=Object(O.a)(R)}}]);
//# sourceMappingURL=pjs-CloseupActionBarCommon-e2603c14b7cef10aecae.js.map
